<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.11" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.43" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="icon" href="/knowledge-database/favicon.ico"><title>TypeScript | 沖田さんの知識ベース</title><meta name="description" content="基于VuePress的知识库,主题hope">
    <link rel="preload" href="/knowledge-database/assets/style-BRd0EN34.css" as="style"><link rel="stylesheet" href="/knowledge-database/assets/style-BRd0EN34.css">
    <link rel="modulepreload" href="/knowledge-database/assets/app-NwmlIrjp.js"><link rel="modulepreload" href="/knowledge-database/assets/TypeScript.html-Do5bxlAY.js"><link rel="modulepreload" href="/knowledge-database/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/knowledge-database/assets/index.html-wF5_I1pE.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/MongoDB.html-5Cgz9Zt8.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/MySQL.html-AWeQ25UD.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-Cd15iYXj.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-BjBrXAco.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-_v5Xiq6H.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/Axios.html-D-L6aopJ.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/React.html-DcRAJEWs.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-DMXJFFTt.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/Vue.html-D8Btyq6v.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/basic.html-cH3fn9yJ.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/practical.html-Bs5-6KbW.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-DyMKucDi.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/functional-programming.html-BM4DVXtK.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/grammar.html-CdWZ41HS.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/JDK17.html-0mzrTxVS.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/JDK18-20.html-BswoBjbM.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/JDK21.html-83bpHGY4.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/JDK22-.html-DRaUTJFT.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/JDK8.html-BbyQSjc9.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/JDK9-16.html-5fHeyR0Z.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-DFvnfOiu.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/basic.html-BCJiPV8t.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/pattern.html-QAwfBFXT.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/principle.html-DyHJgntR.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-D-9q0bqu.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-DHy2pqDI.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/centos.html-CWwE9ZDk.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/common.html-DutZbXr8.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-C7SgcnoR.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/shell.html-B5aayGdI.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/ubuntu.html-rHrSbo3g.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/wsl.html-C3Q8NsJ4.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/basic.html-CYPZ-a-m.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-CLXbs4Vw.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/principle.html-MJsRJXKm.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-3GArg7Jt.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/uml.html-CZd-vx7Y.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/core.html-DEeqZ4N_.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/install.html-DYzVdNVq.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-CfOb8W7F.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-BzJldYxR.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/Mybatis-plus.html-CoG_i72p.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/Mybatis.html-DgMVd4o1.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-DcyCJ7_V.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/Apache.html-DpgV-I0O.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/Nginx.html-BmAzd3Ep.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-DHPStDgz.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-HjpfXcUs.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/SpringMVC.html-D_KYXsub.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-D-Rian4Y.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/behavioral.html-BQC1Pe0A.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/creation.html-CcHmz-Sh.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-BfR-O5nR.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/structural.html-vFEeTcAp.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/core.html-144xr8Ho.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/install.html-CXxyntTU.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-BAF6ZnSv.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/AOP.html-B9UnJ0uF.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/IOC_Annoation.html-Bw6CSYfp.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/IOC_senior.html-Bm-KUL01.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/IOC_XML.html-CQX5Inqd.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-D8rjCYj-.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/事务.html-BmoFXh4V.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/core.html-CyjHMmsC.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/integration.html-DOicXo6Z.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-CNLSX4H2.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/YAML.html-D05k1oYK.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/core.html-rjxGLbXs.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-C3jo8vhi.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/basic.html-DAs_Zfwt.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-DIOFwk_y.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/404.html-Dn6WlYU-.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/mermaid.core-D7gpRhQe.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/photoswipe.esm-SzV8tJDW.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/style-l0sNRNKZ.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/docsearch-l0sNRNKZ.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index-zMbLkDvU.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><!--[--><div class="theme-container external-link-icon has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/knowledge-database/"><img class="vp-nav-logo light" src="/knowledge-database/logo.png" alt><img class="vp-nav-logo dark" src="/knowledge-database/logo-dark.png" alt><span class="vp-site-name hide-in-pad">沖田さんの知識ベース</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link vp-link" href="/knowledge-database/" aria-label="主页"><img class="icon" src="/knowledge-database/home.png" alt aria-hidden no-view style="">主页<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link vp-link" href="/knowledge-database/basic/" aria-label="基础"><img class="icon" src="/knowledge-database/icon/java.png" alt aria-hidden no-view style="">基础<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link vp-link" href="/knowledge-database/database/" aria-label="数据库"><img class="icon" src="/knowledge-database/icon/database.svg" alt aria-hidden no-view style="">数据库<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link vp-link" href="/knowledge-database/frame/" aria-label="框架"><img class="icon" src="/knowledge-database/icon/frame.png" alt aria-hidden no-view style="">框架<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link active vp-link" href="/knowledge-database/web/" aria-label="前端"><img class="icon" src="/knowledge-database/icon/web.png" alt aria-hidden no-view style="">前端<!----></a></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-outlook-dropdown"><!----></div></button></div><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/Okita1027/knowledge-database" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索文档"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索文档</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!----><ul class="vp-sidebar-links"><li><a class="route-link vp-link vp-sidebar-link vp-sidebar-page" href="/knowledge-database/web/Axios.html" aria-label="Axios"><!---->Axios<!----></a></li><li><a class="route-link vp-link vp-sidebar-link vp-sidebar-page" href="/knowledge-database/web/React.html" aria-label="React"><!---->React<!----></a></li><li><a class="route-link active vp-link vp-sidebar-link vp-sidebar-page active" href="/knowledge-database/web/TypeScript.html" aria-label="TypeScript"><!---->TypeScript<!----></a></li><li><a class="route-link vp-link vp-sidebar-link vp-sidebar-page" href="/knowledge-database/web/Vue.html" aria-label="Vue"><!---->Vue<!----></a></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->TypeScript</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://Okita1027.github.io" target="_blank" rel="noopener noreferrer">Okita</a></span><span property="author" content="Okita"></span></span><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2024-06-16T22:30:07.000Z"></span><span class="page-category-info" aria-label="分类🌈" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color5" role>TypeScript</span><!--]--><meta property="articleSection" content="TypeScript"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 51 分钟</span><meta property="timeRequired" content="PT51M"></span><span class="page-word-info" aria-label="字数🔠" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="word icon" name="word"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>约 15257 字</span><meta property="wordCount" content="15257"></span></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!----><div class="vp-toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#快速上手">快速上手</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#问题引入">问题引入</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#意义">意义</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#编译运行">编译运行</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#webstorm下的运行方式">WebStorm下的运行方式</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#常用类型">常用类型</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#标注位置">标注位置</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#复杂类型">复杂类型</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#其它类型">其它类型</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#类型别名">类型别名</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#可选属性">可选属性</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#类型推论">类型推论</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#类型断言">类型断言</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#高级类型">高级类型</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#class">class</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#类型兼容性">类型兼容性</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#交叉类型">交叉类型</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#泛型">泛型</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#索引签名类型">索引签名类型</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#映射类型">映射类型</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#类型声明文件">类型声明文件</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#概述">概述</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2种文件类型">2种文件类型</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#使用说明">使用说明</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#配置文件">配置文件</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#命名空间">命名空间</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#类的混入">类的混入</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#装饰器">装饰器</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#参数装饰器">参数装饰器</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#类装饰器">类装饰器</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#方法装饰器">方法装饰器</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#属性装饰器">属性装饰器</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#装饰器工厂">装饰器工厂</a></li><!----><!--]--></ul></li><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content"><h2 id="快速上手" tabindex="-1"><a class="header-anchor" href="#快速上手"><span>快速上手</span></a></h2><h3 id="问题引入" tabindex="-1"><a class="header-anchor" href="#问题引入"><span>问题引入</span></a></h3><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>obj 可能只是个字符串</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;hello, world&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>obj 也有可能是个函数</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;hello, world&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>obj 类型不确定，就给后期使用者带来了麻烦，一旦参数传不对，代码就崩溃了<br> 动态类型意味着</p><ul><li>运行代码时才知道发生什么 (running the code to see what happens)</li></ul><p>静态类型意味着</p><ul><li>在代码运行前，就对它的行为做出预测 (make predications about what code is expected before it runs)</li></ul><p>下面的 typescript 代码，就在代码运行前对参数加入了约束限制</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span>msg <span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>限制了参数只能做 string 那些事</li></ul><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span>msg <span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">msg</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>限制了参数只能做函数那些事</li></ul><h3 id="意义" tabindex="-1"><a class="header-anchor" href="#意义"><span>意义</span></a></h3><h4 id="更好理解框架" tabindex="-1"><a class="header-anchor" href="#更好理解框架"><span>更好理解框架</span></a></h4><p>现在越来越多的前端框架采用 typescript，如果懂 typescript 语法，可以更好地阅读框架代码</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
map
  <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;d&quot;</span><span class="token punctuation">)</span>

map<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span>key<span class="token punctuation">,</span>m<span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> key<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>注意编译需要 <code>tsc --target es6 .\xxx.ts</code></li></ul><h4 id="更好的提示" tabindex="-1"><a class="header-anchor" href="#更好的提示"><span>更好的提示</span></a></h4><p>例如，从服务器返回的一段 json，如果不用 typescript，则编辑器也不能给出准确的提示</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> user<span class="token operator">:</span> User <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">{ &quot;name&quot;:&quot;张三&quot;, &quot;age&quot;:18 }</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="编译运行" tabindex="-1"><a class="header-anchor" href="#编译运行"><span>编译运行</span></a></h3><p>安装 typescript 编译器</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>npm install -g typescript
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>编写 ts 代码</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">hello</span><span class="token punctuation">(</span>msg<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">hello</span><span class="token punctuation">(</span><span class="token string">&#39;hello,world&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>执行 tsc 编译命令</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>tsc xxx.ts
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>编译生成 js 代码，编译后进行了类型擦除</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">hello</span><span class="token punctuation">(</span><span class="token string">&#39;hello,world&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>再来一个例子，用 interface 定义用户类型</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span>u<span class="token operator">:</span> User<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>u<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>u<span class="token punctuation">.</span>age<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;zhangs&#39;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>编译后</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">u</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>u<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>u<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;zhangs&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可见，typescript 属于编译时实施类型检查（静态类型）的技术</p><h3 id="webstorm下的运行方式" tabindex="-1"><a class="header-anchor" href="#webstorm下的运行方式"><span>WebStorm下的运行方式</span></a></h3><ol><li>安装ts: <code>npm install -g typescript</code></li><li>安装直接运行所需依赖包： <code>npm install -g ts-node</code></li><li>在设置中安装安装插件后重启<img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171447404.png" alt="image.png" loading="lazy"></li><li>界面中出现运行按钮</li></ol><hr><figure><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171447854.png" alt="插件已不可用，需要按照上图进行配置" tabindex="0" loading="lazy"><figcaption>插件已不可用，需要按照上图进行配置</figcaption></figure><h2 id="常用类型" tabindex="-1"><a class="header-anchor" href="#常用类型"><span>常用类型</span></a></h2><table><thead><tr><th>类型</th><th>例</th><th>备注</th></tr></thead><tbody><tr><td>字符串类型</td><td>string</td><td></td></tr><tr><td>数字类型</td><td>number</td><td></td></tr><tr><td>布尔类型</td><td>boolean</td><td></td></tr><tr><td>数组类型</td><td>number[],string[], boolean[] 依此类推</td><td></td></tr><tr><td>任意类型</td><td>any</td><td>相当于又回到了没有类型的时代</td></tr><tr><td>复杂类型</td><td>type 与 interface</td><td></td></tr><tr><td>函数类型</td><td>() =&gt; void</td><td>对函数的参数和返回值进行说明</td></tr><tr><td>字面量类型</td><td>&quot;a&quot;|&quot;b&quot;|&quot;c&quot;</td><td>限制变量或参数的取值</td></tr><tr><td>nullish类型</td><td>null 与 undefined</td><td></td></tr><tr><td>泛型</td><td><code>&lt;T&gt;</code>，<code>&lt;T extends 父类型&gt;</code></td><td></td></tr></tbody></table><h3 id="标注位置" tabindex="-1"><a class="header-anchor" href="#标注位置"><span>标注位置</span></a></h3><h4 id="标注变量" tabindex="-1"><a class="header-anchor" href="#标注变量"><span>标注变量</span></a></h4><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> message<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&#39;hello,world&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>一般可以省略，因为可以根据后面的字面量推断出前面变量类型</li></ul><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> message <span class="token operator">=</span> <span class="token string">&#39;hello,world&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="标注参数" tabindex="-1"><a class="header-anchor" href="#标注参数"><span>标注参数</span></a></h4><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>很多时候，都能够推断出参数类型</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;Alice&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Bob&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Eve&#39;</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> lowercaseNames <span class="token operator">=</span> names<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>e<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> e<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>可以用类型推断，推断出 e 是 string 类型</li></ul><h4 id="标注返回值" tabindex="-1"><a class="header-anchor" href="#标注返回值"><span>标注返回值</span></a></h4><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>一般也可以省略，因为可以根据返回值做类型推断</li></ul><h3 id="复杂类型" tabindex="-1"><a class="header-anchor" href="#复杂类型"><span>复杂类型</span></a></h3><h4 id="type" tabindex="-1"><a class="header-anchor" href="#type"><span>type</span></a></h4><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">Cat</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> c1<span class="token operator">:</span> Cat <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;小白&#39;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> c2<span class="token operator">:</span> Cat <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;小花&#39;</span> <span class="token punctuation">}</span>					  <span class="token comment">// 错误: 缺少 age 属性</span>
<span class="token keyword">const</span> c3<span class="token operator">:</span> Cat <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;小黑&#39;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> sex<span class="token operator">:</span> <span class="token string">&#39;公&#39;</span> <span class="token punctuation">}</span> <span class="token comment">// 错误: 多出 sex 属性</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>中文出现乱码解决方案：Help -&gt; Edit Custom VM Options -&gt; 添加：-Dfile.encoding=utf-8</p></blockquote><h4 id="interface" tabindex="-1"><a class="header-anchor" href="#interface"><span>interface</span></a></h4><p>当一个对象类型被多次使用时，一般会使用接口（interface）来描述对象的类型，达到复用的目的。</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>	<span class="token comment">// 逗号可加可不加</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> c1<span class="token operator">:</span> Cat <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;小白&#39;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> c2<span class="token operator">:</span> Cat <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;小花&#39;</span> <span class="token punctuation">}</span>					  <span class="token comment">// 错误: 缺少 age 属性</span>
<span class="token keyword">const</span> c3<span class="token operator">:</span> Cat <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;小黑&#39;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> sex<span class="token operator">:</span> <span class="token string">&#39;公&#39;</span> <span class="token punctuation">}</span> <span class="token comment">// 错误: 多出 sex 属性</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果两个接口之间有相同的属性或方法，可以将公共的属性或方法抽离出来，通过继承来实现复用。<br> 比如，这两个接口都有 x、y 两个属性，重复写两次，可以，但很繁琐。<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171447472.png" alt="image.png" loading="lazy"><br> 更好的方式：<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171447502.png" alt="image.png" loading="lazy"><br> 解释：</p><ol><li>使用 extends（继承）关键字实现了接口 Point3D 继承 Point2D。</li><li>继承后，Point3D 有了 Point2D 的所有属性和方法（此时Point3D 同时有 x、y、z 三个属性）。</li></ol><h4 id="type-对比-interface" tabindex="-1"><a class="header-anchor" href="#type-对比-interface"><span>type 对比 interface</span></a></h4><p>interface（接口）和 type（类型别名）的对比：</p><ul><li>相同点：都可以给对象指定类型。</li><li>不同点： <ul><li>接口，只能为对象指定类型。</li><li>类型别名，不仅可以为对象指定类型，实际上可以为任意类型指定别名。</li></ul></li></ul><figure><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171447897.png" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><h4 id="对象类型" tabindex="-1"><a class="header-anchor" href="#对象类型"><span>对象类型</span></a></h4><p>JS 中的对象是由属性和方法构成的，而 TS 中对象的类型就是在描述对象的结构（有什么类型的属性和方法）。对象类型的写法：<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171447645.png" alt="image.png" loading="lazy"><br> 解释：</p><ol><li>直接使用 {} 来描述对象结构。属性采用属性名: 类型的形式；方法采用方法名(): 返回值类型的形式。</li><li>如果方法有参数，就在方法名后面的小括号中指定参数类型（比如：greet(name: string): void）。</li><li>在一行代码中指定对象的多个属性类型时，使用 ;（分号）来分隔。</li></ol><ul><li>如果一行代码只指定一个属性类型（通过换行来分隔多个属性类型），可以去掉 ;（分号）</li><li>方法的类型也可以使用箭头函数形式（比如：{ sayHi: () =&gt; void }）。</li></ul><h3 id="其它类型" tabindex="-1"><a class="header-anchor" href="#其它类型"><span>其它类型</span></a></h3><h4 id="元组" tabindex="-1"><a class="header-anchor" href="#元组"><span>元组</span></a></h4><p>场景：在地图中，使用经纬度坐标来标记位置信息。<br> 可以使用数组来记录坐标，那么，该数组中只有两个元素，并且这两个元素都是数值类型。<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171447459.png" alt="image.png" loading="lazy"><br> 使用 number[] 的缺点：不严谨，因为该类型的数组中可以出现任意多个数字。<br> 更好的方式：元组（Tuple）。<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171447415.png" alt="image.png" loading="lazy"><br> 元组类型是另一种类型的数组，它确切地知道包含多少个元素，以及特定索引对应的类型。<br> 解释：</p><ol><li>元组类型可以确切地标记出有多少个元素，以及每个元素的类型。</li><li>该示例中，元素有两个元素，每个元素的类型都是 number。</li></ol><h4 id="函数类型" tabindex="-1"><a class="header-anchor" href="#函数类型"><span>函数类型</span></a></h4><p>函数的类型实际上指的是：函数参数和返回值的类型。<br> 为函数指定类型的两种方式：</p><ol><li>单独指定参数、返回值的类型</li><li>同时指定参数、返回值的类型</li></ol><p><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171448880.png" alt="单独指定参数、返回值的类型" title="单独指定参数、返回值的类型" loading="lazy"><br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171448817.png" alt="同时指定参数、返回值的类型" title="同时指定参数、返回值的类型" loading="lazy"><br> 解释：当函数作为表达式时，可以通过类似箭头函数形式的语法来为函数添加类型。<br> 注意：这种形式只适用于函数表达式。<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171448314.png" alt="如果函数没有返回值，那么，函数返回值类型为：void" title="如果函数没有返回值，那么，函数返回值类型为：void" loading="lazy"></p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token comment">// 没有传入参数时才去使用默认参数</span>
<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span>a<span class="token operator">:</span><span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> b<span class="token operator">:</span><span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">number</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> a <span class="token operator">+</span> b
<span class="token punctuation">}</span>
<span class="token comment">// 有可选参数时不能有默认参数，严格模式下可选参数会报错</span>
<span class="token keyword">function</span> <span class="token function">add1</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> b<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> a <span class="token operator">+</span> b
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 + undefined =&gt; NaN</span>
<span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// 21</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Obj</span> <span class="token punctuation">{</span>
 user<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
 <span class="token function-variable function">add</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span>Obj<span class="token punctuation">,</span> num<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>
<span class="token comment">// ts 可以定义 this 的类型，在 js 中无法使用，必须是第一个参数定义 this 的类型</span>
<span class="token keyword">let</span> obj<span class="token operator">:</span> Obj <span class="token operator">=</span> <span class="token punctuation">{</span>
 user<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
 <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span> Obj<span class="token punctuation">,</span> num<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">this</span><span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
obj<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//{ user: [ 1, 2, 4 ], add: [Function: add] }</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="字面量类型" tabindex="-1"><a class="header-anchor" href="#字面量类型"><span>字面量类型</span></a></h4><p>思考以下代码，两个变量的类型分别是什么？<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171448481.png" alt="image.png" loading="lazy"><br> 通过 TS 类型推论机制，可以得到答案：</p><ol><li>变量 str1 的类型为：string。</li><li>变量 str2 的类型为：&#39;Hello TS&#39;。</li></ol><p>解释：</p><ul><li>str1 是一个变量（let），它的值可以是任意字符串，所以类型为：string。</li><li>str2 是一个常量（const），它的值不能变化只能是 &#39;Hello TS&#39;，所以，它的类型为：&#39;Hello TS&#39;。</li></ul><blockquote><p>注意：此处的 &#39;Hello TS&#39;是一个字面量类型。也就是说某个特定的字符串也可以作为 TS 中的类型。<br> 除字符串外，任意的 JS 字面量（比如，对象、数字等）都可以作为类型使用。</p></blockquote><p>使用模式：字面量类型配合联合类型一起使用。<br> 使用场景：用来表示一组明确的可选值列表。</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">printText</span><span class="token punctuation">(</span>s<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> alignment<span class="token operator">:</span> <span class="token string">&quot;left&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;right&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;center&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> alignment<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">printText</span><span class="token punctuation">(</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;left&#39;</span><span class="token punctuation">)</span>
<span class="token function">printText</span><span class="token punctuation">(</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;aaa&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 错误: 取值只能是 left | right | center</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>优势：相比于 string 类型，使用字面量类型更加精确、严谨。</p><h4 id="枚举" tabindex="-1"><a class="header-anchor" href="#枚举"><span>枚举</span></a></h4><p>枚举的功能类似于字面量类型+联合类型组合的功能，也可以表示一组明确的可选值。<br> 枚举：定义一组命名常量。它描述一个值，该值可以是这些命名常量中的一个。<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171448484.png" alt="image.png" loading="lazy"><br> 解释：</p><ol><li>使用 <code>**enum**</code>** **关键字定义枚举。</li><li>约定枚举名称、枚举中的值以大写字母开头。</li><li>枚举中的多个值之间通过 ,（逗号）分隔。</li><li>定义好枚举后，直接使用枚举名称作为类型注解。</li></ol><hr><p>形参 direction 的类型为枚举 Direction，实参的值就应该是枚举 Direction 成员的任意一个。<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171448071.png" alt="访问枚举成员" title="访问枚举成员" loading="lazy"><br> 解释：类似于 JS 中的对象，直接通过点（.)语法访问枚举的成员。</p><hr><p>把枚举成员作为了函数的实参，它的值是什么呢？<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171448252.png" alt="image.png" loading="lazy"><br> 解释：通过将鼠标移入 Direction.Up，可以看到枚举成员 Up 的值为 0。<br> 注意：枚举成员是有值的，默认为：从 0 开始自增的数值。<br> 我们把，枚举成员的值为数字的枚举，称为：数字枚举。<br> 当然，也可以给枚举中的成员初始化值。<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171448704.png" alt="枚举成员的初始化" title="枚举成员的初始化" loading="lazy"></p><hr><p>字符串枚举：枚举成员的值是字符串。<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171448379.png" alt="image.png" loading="lazy"><br> 注意：字符串枚举没有自增长行为，因此，字符串枚举的每个成员必须有初始值。</p><hr><p>枚举是 TS 为数不多的非 JavaScript 类型级扩展（不仅仅是类型）的特性之一。<br> 因为：其他类型仅仅被当做类型，而枚举不仅用作类型，还提供值（枚举成员都是有值的）。<br> 也就是说，其他的类型会在编译为 JS 代码时自动移除。但是，枚举类型会被编译为 JS 代码！<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171448592.png" alt="TS-&gt;JS" title="TS-&gt;JS" loading="lazy"><br> 说明：枚举与前面讲到的字面量类型+联合类型组合的功能类似，都用来表示一组明确的可选值列表。<br> 一般情况下，推荐使用字面量类型+联合类型组合的方式，因为相比枚举，这种方式更加直观、简洁、高效。</p><h4 id="any" tabindex="-1"><a class="header-anchor" href="#any"><span>any</span></a></h4><p>原则：<strong>不推荐使用 any</strong>！这会让 TypeScript 变为 “AnyScript”（失去 TS 类型保护的优势）。 因为当值的类型为 any 时，可以对该值进行任意操作，并且不会有代码提示。<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171448624.png" alt="image.png" loading="lazy"><br> 解释：以上操作都不会有任何类型错误提示，即使可能存在错误！<br> 尽可能的避免使用 any 类型，除非临时使用 any 来“避免”书写很长、很复杂的类型！<br> 其他隐式具有 any 类型的情况：1 声明变量不提供类型也不提供默认值 2 函数参数不加类型。<br> 注意：因为不推荐使用 any，所以，这两种情况下都应该提供类型！</p><h4 id="never" tabindex="-1"><a class="header-anchor" href="#never"><span>never</span></a></h4><p>在 TypeScript 中， never 是一种特殊的类型，表示永远不会发生的值或类型。它通常用于表示一些绝对不可能出现的情况，例如永远不会返回的函数类型或在某些条件下绝对不会发生的值。</p><ol><li>这里， throwError 函数永远不会正常返回，它总是会抛出一个错误，因此其返回类型是 never 。</li></ol><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token comment">// 并不是没有返回值，而是抛出错误，因此此时用 never 比 void 更合适</span>
<span class="token keyword">function</span> <span class="token function">throwError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">never</span> <span class="token punctuation">{</span>
  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;error&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">throwError</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 死循环也可以用never</span>
<span class="token keyword">function</span> <span class="token function">xx</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">never</span> <span class="token punctuation">{</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>由于 never 表示不可能的情况，因此在联合类型中，如果其中一个分支的类型是 never ，那么该联合类型实际上将被缩减为其他分支的类型。</li></ol><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">InvalidType</span> <span class="token operator">=</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">never</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> invalidValue<span class="token operator">:</span> InvalidType<span class="token punctuation">;</span>
invalidValue <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 正常赋值</span>
<span class="token comment">// invalidValue = throwError(&quot;Something went wrong&quot;); // 报错：Type &#39;never&#39; is not assignable to type &#39;string&#39;.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>在条件类型中，如果条件判断为 false ，则分配类型为 never 。</li></ol><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">MyType<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">string</span></span> <span class="token operator">?</span> <span class="token builtin">string</span> <span class="token operator">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> str<span class="token operator">:</span> MyType<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// 类型为 never</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>兜底判断</li></ol><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">a</span> <span class="token operator">=</span> <span class="token string">&#39;唱&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;跳&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;rap&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;篮球&#39;</span>
<span class="token keyword">function</span> <span class="token function">kun</span><span class="token punctuation">(</span>value<span class="token operator">:</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">&#39;唱&#39;</span><span class="token operator">:</span>
      <span class="token keyword">break</span>
    <span class="token keyword">case</span> <span class="token string">&#39;跳&#39;</span><span class="token operator">:</span>
      <span class="token keyword">break</span>
    <span class="token keyword">case</span> <span class="token string">&#39;rap&#39;</span><span class="token operator">:</span>
      <span class="token keyword">break</span>
      <span class="token comment">// case &#39;篮球&#39;:</span>
      <span class="token comment">// break</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token comment">// 兜底逻辑</span>
      <span class="token keyword">const</span> error <span class="token operator">:</span><span class="token builtin">never</span> <span class="token operator">=</span> value <span class="token comment">// 此时报错</span>
      <span class="token keyword">break</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">kun</span><span class="token punctuation">(</span><span class="token string">&#39;篮球&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="typeof" tabindex="-1"><a class="header-anchor" href="#typeof"><span>typeof</span></a></h4><p>JS 中提供了 typeof 操作符，用来在 JS 中获取数据的类型。<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171448800.png" alt="image.png" loading="lazy"><br> TS 也提供了 typeof 操作符：可以在<strong>类型上下文</strong>中引用变量或属性的类型（类型查询）。<br> 使用场景：根据已有变量的值，获取该值的类型，来简化类型书写。<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171448433.png" alt="image.png" loading="lazy">解释：</p><ol><li>使用 typeof 操作符来获取变量 p 的类型，结果与第一种（对象字面量形式的类型）相同。</li><li>typeof 出现在类型注解的位置（参数名称的冒号后面）所处的环境就在类型上下文（区别于 JS 代码）。</li><li>注意：typeof 只能用来查询变量或属性的类型，无法查询其他形式的类型（比如，函数调用的类型）。</li></ol><h4 id="nullish" tabindex="-1"><a class="header-anchor" href="#nullish"><span>nullish</span></a></h4><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span>x<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token operator">?.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;aaa&#39;</span><span class="token punctuation">)</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>x?: string | null 表示可能是 undefined 或者是 string 或者是 null</li></ul><h4 id="symbol" tabindex="-1"><a class="header-anchor" href="#symbol"><span>Symbol</span></a></h4><h5 id="基本使用" tabindex="-1"><a class="header-anchor" href="#基本使用"><span>基本使用</span></a></h5><p>Symbol 是一种基本数据类型，用于创建独一无二的标识符。它是 ECMAScript 6（ES6）引入的新特性，并且也被 TypeScript 支持。 Symbol 可以用于创建对象属性、类成员、和其他上下文中，以确保它们的唯一性，从而避免命名冲突和混淆。</p><ol><li>使用 Symbol() 函数可以创建一个新的 Symbol。每个 Symbol 都是唯一的，不能通过常规的</li></ol><p>方法进行比较。</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> a1<span class="token operator">:</span><span class="token builtin">symbol</span> <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> a2<span class="token operator">:</span><span class="token builtin">symbol</span> <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment">// console.log(a1 === a2) // false</span>
<span class="token comment">// console.log(a1 == a2) // false 因为内存地址都是不同的</span>
<span class="token comment">// Symbol.for 去全局 symbol 有没有注册过这个 key，如果有直接拿来用，没有就去创建一个</span>
<span class="token comment">// console.log(Symbol.for(&#39;a&#39;) === Symbol.for(&#39;a&#39;)); // true</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  a1<span class="token operator">:</span> <span class="token number">111</span><span class="token punctuation">,</span>
  a2<span class="token operator">:</span> <span class="token number">222</span>
<span class="token punctuation">}</span>
<span class="token comment">// console.log(obj); // { name: 1, a1: 111, a2: 222 }</span>
<span class="token keyword">let</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>a1<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token number">111</span><span class="token punctuation">,</span> <span class="token comment">// 使用索引签名</span>
  <span class="token punctuation">[</span>a2<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token number">222</span>
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { name: 1, [Symbol(1)]: 111, [Symbol(1)]: 222 }</span>
<span class="token comment">// for in 不能读到 Symbol</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// name</span>
<span class="token punctuation">}</span>
<span class="token comment">// keys 读不到 Symbol，只能读到 name</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// getOwnPropertyNames 读不到 Symbol，只能读到 name</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// getOwnPropertySymbols 读到 Symbol，但又读不到 name 了</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Reflect.ownKeys 可以读到 Symbol 和 name</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Reflect<span class="token punctuation">.</span><span class="token function">ownKeys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>**Symbol 用作对象属性： **Symbol 可以用作对象的属性名，以避免属性名冲突。因为 Symbol 是唯一的，所以不会意外覆盖其他属性。</li></ol><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> myObj <span class="token operator">=</span> <span class="token punctuation">{</span>
 <span class="token punctuation">[</span>mySymbol<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">&quot;This is a Symbol property&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myObj<span class="token punctuation">[</span>mySymbol<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Output: This is a Symbol property</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li><strong>内置 Symbols：</strong> TypeScript 和 JavaScript 提供了一些预定义的内置 Symbols，例如 Symbol.iterator 、 Symbol、toStringTag 等，用于指定对象的特定行为或元信息。</li><li><strong>Symbol 作为类成员：</strong> Symbol 可以用作类的成员，用于定义私有成员或特定的行为。</li></ol><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> _privateSymbol <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;private&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span>
 <span class="token keyword">private</span><span class="token punctuation">[</span>_privateSymbol<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;This is a private symbol property&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance<span class="token punctuation">[</span>_privateSymbol<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Output: This is a private symbol property</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li><strong>Symbols 作为属性键的限制：</strong> 使用 Symbol 作为属性键可以在一定程度上限制外部对属性的访问。但并不是绝对的私有性，因为使用 Object.getOwnPropertySymbols() 仍然可以获取到对象的 Symbol 属性。</li></ol><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
 <span class="token punctuation">[</span>mySymbol<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">&quot;This is a Symbol property&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> symbolKeys <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>symbolKeys<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Output: This is a Symbol property</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="生成器" tabindex="-1"><a class="header-anchor" href="#生成器"><span>生成器</span></a></h5><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token operator">*</span> <span class="token function">generator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">yield</span> <span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;xx&#39;</span><span class="token punctuation">)</span>
 <span class="token keyword">yield</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">yield</span> <span class="token number">2</span><span class="token punctuation">;</span>
 <span class="token keyword">yield</span> <span class="token string">&#39;3&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> man <span class="token operator">=</span> <span class="token function">generator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>man<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { value: Promise { &#39;xx&#39; }, done: false }</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>man<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { value: 1, done: false }</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>man<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { value: 2, done: false }</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>man<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { value: &#39;3&#39;, done: false }</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>man<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { value: undefined, done: true }</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="迭代器" tabindex="-1"><a class="header-anchor" href="#迭代器"><span>迭代器</span></a></h5><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> myArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> iterator <span class="token operator">=</span> myArray<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出: { value: 1, done: false }</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出: { value: 2, done: false }</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出: { value: 3, done: false }</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出: { value: undefined, done: true }</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token comment">// Set</span>
<span class="token keyword">let</span> set<span class="token operator">:</span>Set<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set(3) { 1, 2, 3 }</span>
<span class="token comment">// Map</span>
<span class="token keyword">let</span> map<span class="token operator">:</span>Map<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token punctuation">,</span><span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> Arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>Arr<span class="token punctuation">,</span><span class="token string">&#39;xx&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// 这里是将 Arr 数组当作 map 元素的 key，&#39;xx&#39; 是 value 插入到 map 中，所以在获取数据的时候用的是 Arr</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>Arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// xx</span>
<span class="token comment">// 伪数组</span>
<span class="token keyword">function</span> <span class="token function">args</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// let list = document.querySelectorAll(&#39;div&#39;); // 需要浏览器环境，node 环境不支持</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> set<span class="token operator">:</span>Set<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> map<span class="token operator">:</span>Map<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token punctuation">,</span><span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> Arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>Arr<span class="token punctuation">,</span><span class="token string">&#39;xx&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">each</span> <span class="token operator">=</span> <span class="token punctuation">(</span>value<span class="token operator">:</span><span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> i<span class="token operator">:</span><span class="token builtin">any</span> <span class="token operator">=</span> value<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 <span class="token keyword">let</span> next<span class="token operator">:</span><span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">{</span>done<span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">}</span>
 <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>next<span class="token punctuation">.</span>done<span class="token punctuation">)</span><span class="token punctuation">{</span>
 next <span class="token operator">=</span> i<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>next<span class="token punctuation">.</span>done<span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>next<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">each</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span> <span class="token comment">// [ [ 1, 2, 4 ], &#39;xx&#39; ] 输出 key value 的数组</span>
<span class="token function">each</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span> <span class="token comment">// 1 2 3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="语法糖" tabindex="-1"><a class="header-anchor" href="#语法糖"><span>语法糖</span></a></h6><ol><li><strong>for...of 循环</strong>：<br><code>for...of</code> 循环是一种用于遍历可迭代对象的语法糖形式，它会自动调用迭代器的 <code>next()</code> 方法来遍历对象的元素。使用 <code>for...of</code> 循环可以避免手动调用 <code>next()</code> 方法，并且代码更加简洁易读。例如：</li></ol><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> myArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> item <span class="token keyword">of</span> myArray<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><strong>扩展运算符（Spread Operator）</strong>：<br> 扩展运算符 <code>...</code> 可以将可迭代对象展开成独立的元素，从而可以方便地在函数调用、数组字面量等地方使用。扩展运算符在实现迭代器时尤其有用。例如：</li></ol><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> myArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> newArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>myArray<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArray<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出: [1, 2, 3]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li><strong>解构赋值</strong>：<br> 解构赋值可以从可迭代对象中提取值并赋值给变量，这样可以方便地获取迭代器返回的元素。例如：</li></ol><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> myArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>first<span class="token punctuation">,</span> second<span class="token punctuation">,</span> third<span class="token punctuation">]</span> <span class="token operator">=</span> myArray<span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>first<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 输出: 1</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>second<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 输出: 2</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>third<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 输出: 3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="类型别名" tabindex="-1"><a class="header-anchor" href="#类型别名"><span>类型别名</span></a></h3><p>类型别名（自定义类型）：为任意类型起别名。<br> 使用场景：当同一类型（复杂）被多次使用时，可以通过类型别名，简化该类型的使用。<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171449009.png" alt="image.png" loading="lazy"><br> 解释：</p><ol><li>使用 <strong>type</strong> 关键字来创建类型别名。</li><li>类型别名（比如，此处的 CustomArray），可以是任意合法的变量名称。</li><li>创建类型别名后，直接使用该类型别名作为变量的类型注解即可</li></ol><h3 id="可选属性" tabindex="-1"><a class="header-anchor" href="#可选属性"><span>可选属性</span></a></h3><p>如果需要某个属性可选，可以用下面的语法</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> c1<span class="token operator">:</span> Cat <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;小白&#39;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> c2<span class="token operator">:</span> Cat <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;小花&#39;</span> <span class="token punctuation">}</span>					  <span class="token comment">// 正确: age 属性可选</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>可选属性要注意处理 undefined 值</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171449293.png" alt="image.png" loading="lazy"><br> 可选参数：在可传可不传的参数名称后面添加 ?（问号)。<br> 注意：可选参数只能出现在参数列表的最后，也就是说可选参数后面不能再出现必选参数。</p><p>对象的属性或方法，也可以是可选的，此时就用到可选属性了。<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171449370.png" alt="image.png" loading="lazy"><br> 比如，我们在使用 axios({ … }) 时，如果发送 GET 请求，method 属性就可以省略。<br> 可选属性的语法与函数可选参数的语法一致，都使用 ?（问号)来表示</p><h3 id="类型推论" tabindex="-1"><a class="header-anchor" href="#类型推论"><span>类型推论</span></a></h3><p>在 TS 中，某些没有明确指出类型的地方，TS 的类型推论机制会帮助提供类型。<br> 换句话说：由于类型推论的存在，这些地方，类型注解可以省略不写！<br> 发生类型推论的 2 种常见场景：1 声明变量并初始化时 2 决定函数返回值时。<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171449592.png" alt="image.png" loading="lazy"><br> 注意：这两种情况下，类型注解可以省略不写！<br> 推荐：能省略类型注解的地方就省略（充分利用TS类型推论的能力，提升开发效率)。<br> 技巧：如果不知道类型，可以通过鼠标放在变量名称上，利用 IDE 的提示来查看类型。</p><h3 id="类型断言" tabindex="-1"><a class="header-anchor" href="#类型断言"><span>类型断言</span></a></h3><p>有时候你会比 TS 更加明确一个值的类型，此时，可以使用类型断言来指定更具体的类型。<br> 例如：<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171449463.png" alt="image.png" loading="lazy"><br> 注意：getElementById 方法返回值的类型是 HTMLElement，该类型只包含所有标签公共的属性或方法，不包含 a 标签特有的 href 等属性。<br> 因此，这个<strong>类型太宽泛（不具体）</strong>，无法操作 href 等 a 标签特有的属性或方法。<br> 解决方式：这种情况下就需要使用类型断言指定更加具体的类型。<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171449325.png" alt="使用类型断言" title="使用类型断言" loading="lazy">解释：</p><ol><li>使用 as 关键字实现类型断言。</li><li>关键字 as 后面的类型是一个更加具体的类型（HTMLAnchorElement 是 HTMLElement 的子类型）。</li><li>通过类型断言，aLink 的类型变得更加具体，这样就可以访问 a 标签特有的属性或方法了。<br> 另一种语法，使用 &lt;&gt; 语法，这种语法形式不常用,知道即可。</li></ol><figure><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171449714.png" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><blockquote><p>技巧：在浏览器控制台，通过 console.dir() 打印 DOM 元素，在属性列表的最后面，即可看到该元素的类型。</p></blockquote><h2 id="高级类型" tabindex="-1"><a class="header-anchor" href="#高级类型"><span>高级类型</span></a></h2><blockquote><p>关于 TypeScript 与 JavaScript 中的类语法不是重点，class 相关语法只是起到辅助作用，更重要的是前面的 interface</p></blockquote><h3 id="class" tabindex="-1"><a class="header-anchor" href="#class"><span>class</span></a></h3><h4 id="基本语法" tabindex="-1"><a class="header-anchor" href="#基本语法"><span>基本语法</span></a></h4><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>	<span class="token comment">// 分号可以省略</span>
    <span class="token comment">// 构造函数</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> u <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其实会被编译成这个样子（默认 --target=es3）</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">var</span> User <span class="token operator">=</span> <span class="token doc-comment comment">/** <span class="token keyword">@class</span> */</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> User<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> u <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>所以 js 中的 class，并不等价于 java 中的 class，它还是基于原型实现的。</p><h4 id="" tabindex="-1"><a class="header-anchor" href="#"><span></span></a></h4><h5 id="方法" tabindex="-1"><a class="header-anchor" href="#方法"><span>方法</span></a></h5><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token keyword">readonly</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>

  <span class="token function">hello</span><span class="token punctuation">(</span>name <span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">study</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>	<span class="token comment">// 默认返回值为void</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">[</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">]正在学习</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> u <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">)</span>
u<span class="token punctuation">.</span><span class="token function">study</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="get-set" tabindex="-1"><a class="header-anchor" href="#get-set"><span>get，set</span></a></h5><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  _name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>	<span class="token comment">// _代表私有属性</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>

  <span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_name
  <span class="token punctuation">}</span>

  <span class="token keyword">set</span> <span class="token function">name</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> u <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>u<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
u<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;李四&#39;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>u<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>注意，需要在编译时加上 <code>tsc --target es6 .\xxx.ts</code> 选项</li><li>es6 等价于 es2015，再此之上还有 es2016 ... es2022</li></ul><h5 id="继承" tabindex="-1"><a class="header-anchor" href="#继承"><span>继承</span></a></h5><p>类继承的两种方式：1 extends（继承父类） 2 implements（实现接口）。<br> 说明：JS 中只有 extends，而 implements 是 TS 提供的。<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171450437.png" alt="extends" title="extends" loading="lazy"><br> 解释：</p><ol><li>通过 extends 关键字实现继承。</li><li>子类 Dog 继承父类 Animal，则 Dog 的实例对象 dog 就同时具有了父类 Animal 和 子类 Dog 的所有属性和方法。</li></ol><hr><p>类继承的两种方式：1 extends（继承父类） 2 implements（实现接口）。<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171450786.png" alt="implements" title="implements" loading="lazy"><br> 解释：</p><ol><li>通过 implements 关键字让 class 实现接口。</li><li>Person 类实现接口 Singable 意味着，Person 类中必须提供 Singable 接口中指定的所有方法和属性。</li></ol><h5 id="类与接口" tabindex="-1"><a class="header-anchor" href="#类与接口"><span>类与接口</span></a></h5><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token function">study</span><span class="token punctuation">(</span>course<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">UserImpl</span> <span class="token keyword">implements</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
  <span class="token function">study</span><span class="token punctuation">(</span>course<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">[</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">]正在学习[</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>course<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">]</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> user<span class="token operator">:</span> User <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserImpl</span><span class="token punctuation">(</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">)</span>
user<span class="token punctuation">.</span><span class="token function">study</span><span class="token punctuation">(</span><span class="token string">&#39;Typescript&#39;</span><span class="token punctuation">)</span>
user<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 错误，必须是接口中定义的方法</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="继承与接口" tabindex="-1"><a class="header-anchor" href="#继承与接口"><span>继承与接口</span></a></h5><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Flyable</span> <span class="token punctuation">{</span>
  <span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Bird</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token keyword">implements</span> <span class="token class-name">Flyable</span> <span class="token punctuation">{</span>
  <span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">在飞翔</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> b<span class="token operator">:</span> Flyable <span class="token operator">&amp;</span> Animal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bird</span><span class="token punctuation">(</span><span class="token string">&quot;小花&quot;</span><span class="token punctuation">)</span>
b<span class="token punctuation">.</span><span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Flyable &amp; Animal 表示变量是 flyable 类型，同时也是 Animal 类型</li></ul><h5 id="方法重写" tabindex="-1"><a class="header-anchor" href="#方法重写"><span>方法重写</span></a></h5><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Father</span> <span class="token punctuation">{</span>
  <span class="token function">study</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">father study</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Son</span> <span class="token keyword">extends</span> <span class="token class-name">Father</span> <span class="token punctuation">{</span>  
  <span class="token function">study</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">study</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">son study</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> f<span class="token operator">:</span> Father <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
f<span class="token punctuation">.</span><span class="token function">study</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="成员可见性" tabindex="-1"><a class="header-anchor" href="#成员可见性"><span>成员可见性</span></a></h4><p>类成员可见性：可以使用 TS 来控制 class 的方法或属性对于 class 外的代码是否可见。<br> 可见性修饰符包括：1 public（公有的） 2 protected（受保护的） 3 private（私有的）。<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171450353.png" alt="image.png" loading="lazy"></p><ol><li>public：表示公有的、公开的，公有成员可以被任何地方访问，默认可见性。</li></ol><p>解释：</p><ul><li>在类属性或方法前面添加 public 关键字，来修饰该属性或方法是共有的。</li><li>因为 public 是默认可见性，所以，可以直接省略</li></ul><ol start="2"><li>protected：表示受保护的，仅对其声明所在类和子类中（非实例对象）可见。</li></ol><p><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171450650.png" alt="image.png" loading="lazy"><br> 解释：</p><ul><li>在类属性或方法前面添加 protected 关键字，来修饰该属性或方法是受保护的。</li><li>在子类的方法内部可以通过 this 来访问父类中受保护的成员，但是，<strong>对实例不可见！</strong></li></ul><ol start="3"><li>private：表示私有的，只在当前类中可见，对实例对象以及子类也是不可见的。</li></ol><p><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171450800.png" alt="image.png" loading="lazy"><br> 解释：</p><ul><li>在类属性或方法前面添加 private 关键字，来修饰该属性或方法是私有的。</li><li>私有的属性或方法只在当前类中可见，对子类和实例对象也都是不可见的！</li></ul><h4 id="只读属性" tabindex="-1"><a class="header-anchor" href="#只读属性"><span>只读属性</span></a></h4><p>readonly：表示只读，用来防止在构造函数之外对属性进行赋值，这个属性ts特有。</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token keyword">readonly</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token keyword">readonly</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span>
  
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> u <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">)</span>
u<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;李四&#39;</span>				<span class="token comment">// 编译错误</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>解释：</p><ol><li>使用 readonly 关键字修饰该属性是只读的，注意<strong>只能修饰属性不能修饰方法</strong>。</li><li>注意：属性 age 后面的类型注解（比如，此处的 number）如果不加，则 age 的类型为 18 （字面量类型）。</li><li><strong>接口或者 {} 表示的对象类型，也可以使用 readonly</strong>。</li></ol><h4 id="抽象" tabindex="-1"><a class="header-anchor" href="#抽象"><span>抽象</span></a></h4><p>特点：</p><ul><li>抽象类不能被实例化。</li><li>抽象类<strong>可以包含抽象方法和非抽象方法</strong>。抽象方法只有方法签名，没有实际的实现，需要在子类中进行实现。非抽象方法可以有实际的实现，子类可以直接继承或覆盖它。</li><li>任何包含抽象方法的类都必须声明为抽象类。</li><li>子类继承抽象类时，必须实现父类中的抽象方法</li></ul><h3 id="类型兼容性" tabindex="-1"><a class="header-anchor" href="#类型兼容性"><span><strong>类型兼容性</strong></span></a></h3><h4 id="鸭子类型" tabindex="-1"><a class="header-anchor" href="#鸭子类型"><span>鸭子类型</span></a></h4><p>两种类型系统：</p><ol><li>Structural Type System（结构化类型系统）</li><li>Nominal Type System（标明类型系统）。</li></ol><p>TS 采用的是结构化类型系统，也叫做 duck typing（<strong>鸭子类型</strong>），类型检查关注的是值所具有的形状。<br> 也就是说，在结构类型系统中，如果两个对象具有相同的形状，则认为它们属于同一类型。<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171450228.png" alt="案例1" title="案例1" loading="lazy"><br> 解释：</p><ol><li>Point 和 Point2D 是两个名称不同的类。</li><li>变量 p 的类型被显示标注为 Point 类型，但是它的值却是 Point2D 的实例，并且没有类型错误。</li><li>因为 TS 是结构化类型系统，只检查 Point 和 Point2D 的结构是否相同（相同，都具有 x 和 y 两个属性，属性类型也相同）。</li><li>但如果在 Nominal Type System 中（比如C#、Java 等），它们是不同的类，类型无法兼容。</li></ol><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span>cat<span class="token operator">:</span> Cat<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cat<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> c1 <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;小白&#39;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span> 
<span class="token function">test</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>const c1 并没有声明类型为 Cat，但它与 Cat 类型有一样的属性，也可以被当作是 Cat 类型</p><hr><p>**注意：**在结构化类型系统中，如果两个对象具有相同的形状，则认为它们属于同一类型，这种说法并不准确。<br> 更准确的说法：对于对象类型来说，y 的成员至少与 x 相同，则 x 兼容 y（<strong>成员多的可以赋值给少的</strong>）<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171450605.png" alt="成员多的赋值给少的" title="成员多的赋值给少的" loading="lazy"><br> 解释：</p><ol><li>Point3D 的成员至少与 Point 相同，则 Point 兼容 Point3D。</li><li>所以，成员多的 Point3D 可以赋值给成员少的 Point。</li></ol><h4 id="接口兼容性" tabindex="-1"><a class="header-anchor" href="#接口兼容性"><span>接口兼容性</span></a></h4><p>除了 class 之外，TS 中的其他类型也存在相互兼容的情况，包括接口兼容性、函数兼容性 等。</p><ul><li>接口之间的兼容性，类似于 class。并且，class 和 interface 之间也可以兼容。<img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171450172.png" alt="接口之间的兼容性" title="接口之间的兼容性" loading="lazy"></li></ul><h4 id="函数兼容性" tabindex="-1"><a class="header-anchor" href="#函数兼容性"><span>函数兼容性</span></a></h4><p>函数之间兼容性比较复杂，需要考虑：<strong>参数个数</strong> 、**参数类型 **、<strong>返回值类型</strong></p><ol><li>参数个数，参数多的兼容参数少的（或者说，参数少的可以赋值给多的）。</li></ol><p><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171450559.png" alt="函数之间的兼容性" title="函数之间的兼容性" loading="lazy"><br> 解释：</p><ul><li>参数少的可以赋值给参数多的，所以，f1 可以赋值给 f2。</li><li>数组 forEach 方法的第一个参数是回调函数，该示例中类型为：(value: string, index: number, array: string[]) =&gt; void。</li><li>在 JS 中省略用不到的函数参数实际上是很常见的，这样的使用方式，促成了 TS 中函数类型之间的兼容性。</li><li>并且因为回调函数是有类型的，所以，TS 会自动推导出参数 item、index、array 的类型。</li></ul><ol start="2"><li>参数类型，相同位置的参数类型要相同（原始类型）或兼容（对象类型）。</li></ol><p><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171450042.png" alt="案例1" title="案例1" loading="lazy"><br> 解释：函数类型 F2 兼容函数类型 F1，因为 F1 和 F2 的第一个参数类型相同。<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171451724.png" alt="案例2" title="案例2" loading="lazy"><br> 解释：</p><ul><li>注意，此处与前面讲到的接口兼容性冲突。</li><li>技巧：将对象拆开，把每个属性看做一个参数，参数少的（f2）可以赋值给参数多的（f3）</li></ul><ol start="3"><li>返回值类型，只关注返回值类型本身即可：</li></ol><p><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171451609.png" alt="image.png" loading="lazy">解释：</p><ol><li>如果返回值类型是原始类型，此时两个类型要相同，比如，左侧类型 F5 和 F6。</li><li>如果返回值类型是对象类型，此时成员多的可以赋值给成员少的，比如，右侧类型 F7 和 F8。</li></ol><h3 id="交叉类型" tabindex="-1"><a class="header-anchor" href="#交叉类型"><span>交叉类型</span></a></h3><p>交叉类型（&amp;）和接口继承（extends）的对比：</p><ul><li>相同点：都可以实现对象类型的组合。</li><li>不同点：两种方式实现类型组合时，对于同名属性之间，处理类型冲突的方式不同。</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171451368.png" alt="image.png" loading="lazy"><br> 说明：以上代码，接口继承会报错（类型不兼容）；交叉类型没有错误，可以简单的理解为：<img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171451195.png" alt="image.png" loading="lazy"></p><h3 id="泛型" tabindex="-1"><a class="header-anchor" href="#泛型"><span>泛型</span></a></h3><h4 id="基本使用-1" tabindex="-1"><a class="header-anchor" href="#基本使用-1"><span>基本使用</span></a></h4><p>下面的几个类型声明显然有一定的相似性</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">RefString</span> <span class="token punctuation">{</span>
  value<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">RefNumber</span> <span class="token punctuation">{</span>
  value<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">RefBoolean</span> <span class="token punctuation">{</span>
  value<span class="token operator">:</span> <span class="token builtin">boolean</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> r1<span class="token operator">:</span> RefString <span class="token operator">=</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token string">&#39;hello&#39;</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> r2<span class="token operator">:</span> RefNumber <span class="token operator">=</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token number">123</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> r3<span class="token operator">:</span> RefBoolean <span class="token operator">=</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Ref<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
  value<span class="token operator">:</span> <span class="token constant">T</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> r1<span class="token operator">:</span> Ref<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token string">&#39;hello&#39;</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> r2<span class="token operator">:</span> Ref<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token number">123</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> r3<span class="token operator">:</span> Ref<span class="token operator">&lt;</span><span class="token builtin">boolean</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>泛型的要点就是 <code>&lt;类型参数&gt;</code>，把【类型】也当作一个变化的要素，像参数一样传递过来，这样就可以派生出结构相似的新类</li></ul><h4 id="泛型函数" tabindex="-1"><a class="header-anchor" href="#泛型函数"><span>泛型函数</span></a></h4><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>n<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> Ref<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> n <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> v1 <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 	<span class="token comment">// Ref&lt;string&gt;</span>
<span class="token keyword">const</span> v2 <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">123.3333</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// Ref&lt;number&gt;</span>

v1<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">toLocaleLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
v2<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171451630.png" alt="调用泛型函数" title="调用泛型函数" loading="lazy"><br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171451201.png" alt="简化调用泛型函数" title="简化调用泛型函数" loading="lazy"></p><h4 id="泛型接口" tabindex="-1"><a class="header-anchor" href="#泛型接口"><span>泛型接口</span></a></h4><p>泛型接口：接口也可以配合泛型来使用，以增加其灵活性，增强其复用性<img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171451883.png" alt="image.png" loading="lazy">解释：</p><ol><li>在接口名称的后面添加 &lt;类型变量&gt;，那么，这个接口就变成了泛型接口。</li><li>接口的类型变量，对接口中所有其他成员可见，也就是接口中所有成员都可以使用类型变量。</li><li>使用泛型接口时，需要显式指定具体的类型（比如，此处的 IdFunc）。</li><li>此时，id 方法的参数和返回值类型都是 number；ids 方法的返回值类型是 number[]。</li></ol><hr><figure><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171451332.png" alt="JS 中的数组在 TS 中就是一个泛型接口" tabindex="0" loading="lazy"><figcaption>JS 中的数组在 TS 中就是一个泛型接口</figcaption></figure><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token comment">// 声明一个数组变量并指定元素类型为 number</span>
<span class="token keyword">let</span> numbers<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 使用泛型接口 Array&lt;T&gt; 来表示数组</span>
<span class="token keyword">let</span> numbersGeneric<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>解释：当我们在使用数组时，TS 会根据数组的不同类型，来自动将类型变量设置为相应的类型。<br> 技巧：可以通过 Ctrl + 鼠标左键（Mac：option + 鼠标左键）来查看具体的类型信息。</p><h4 id="泛型约束" tabindex="-1"><a class="header-anchor" href="#泛型约束"><span>泛型约束</span></a></h4><p>泛型约束：默认情况下，泛型函数的类型变量 Type 可以代表多个类型，这导致无法访问任何属性。 比如，id(&#39;a&#39;) 调用函数时获取参数的长度：<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171451632.png" alt="image.png" loading="lazy"><br> 解释：Type 可以代表任意类型，无法保证一定存在 length 属性，比如 number 类型就没有 length。 此时，就需要为泛型添加约束来<strong>收缩类型</strong>（缩窄类型取值范围)<br> 添加泛型约束收缩类型，主要有以下两种方式：1-&gt;指定更加具体的类型 2-&gt;添加约束。</p><ol><li><strong>指定更加具体的类型</strong></li></ol><p><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171451660.png" alt="image.png" loading="lazy"><br> 比如，将类型修改为 Type[]（Type 类型的数组)，因为只要是数组就一定存在 length 属性，因此就可以访问了。</p><ol start="2"><li><strong>添加约束</strong></li></ol><p><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171451673.png" alt="image.png" loading="lazy"><br> 解释：</p><ol><li>创建描述约束的接口 ILength，该接口要求提供 length 属性。</li><li>通过 extends 关键字使用该接口，为泛型（类型变量）添加约束。</li><li>该约束表示：传入的类型必须具有 length 属性。</li></ol><p><strong>注意</strong>：传入的实参（比如，数组）只要有 length 属性即可，这也符合前面讲到的接口的类型兼容性。<br> 泛型的类型变量可以有多个，并且类型变量之间还可以约束（比如，第二个类型变量受第一个类型变量约束）。 比如，创建一个函数来获取对象中属性的值：<img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171452408.png" alt="image.png" loading="lazy">解释：</p><ol><li>添加了第二个类型变量 Key，两个类型变量之间使用（<strong>,</strong>）<strong>逗号</strong>分隔。</li><li><code>keyof</code> 关键字接收一个对象类型，生成其键名称（可能是字符串或数字）的联合类型。</li></ol><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    address<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 这里的PersonKeys类型为 &quot;name&quot; | &quot;age&quot; | &quot;address&quot;</span>
<span class="token keyword">type</span> <span class="token class-name">PersonKeys</span> <span class="token operator">=</span> <span class="token keyword">keyof</span> Person<span class="token punctuation">;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>本示例中 keyof Type 实际上获取的是 person 对象所有键的联合类型，也就是：&#39;name&#39; | &#39;age&#39;。</li><li>类型变量 Key 受 Type 约束，可以理解为：Key 只能是 Type 所有键中的任意一个，或者说只能访问对象中存在的属性。</li></ol><h4 id="泛型工具" tabindex="-1"><a class="header-anchor" href="#泛型工具"><span>泛型工具</span></a></h4><p>泛型工具类型：TS 内置了一些常用的工具类型，来简化 TS 中的一些常见操作。<br> 说明：它们都是基于泛型实现的（泛型适用于多种类型，更加通用），并且是内置的，可以直接在代码中使用。这些工具类型有很多，主要学习以下几个：</p><ol><li><code>Partial&lt;Type&gt;</code></li><li><code>Readonly&lt;Type&gt;</code></li><li><code>Pick&lt;Type, Keys&gt;</code></li><li><code>Record&lt;Keys, Type&gt;</code></li></ol><h5 id="partial-type" tabindex="-1"><a class="header-anchor" href="#partial-type"><span><code>Partial&lt;Type&gt;</code></span></a></h5><p><code>Partial&lt;Type&gt;</code> 用来构造（创建）一个类型，将 Type 的所有属性设置为可选。<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171452342.png" alt="image.png" loading="lazy"><br> 解释：构造出来的新类型 PartialProps 结构和 Props 相同，但所有属性都变为可选的。</p><h5 id="readonly-type" tabindex="-1"><a class="header-anchor" href="#readonly-type"><span><code>Readonly&lt;Type&gt;</code></span></a></h5><p><code>Readonly&lt;Type&gt;</code> 用来构造一个类型，将 Type 的所有属性都设置为 readonly（只读）。<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171452243.png" alt="image.png" loading="lazy"><br> 解释：构造出来的新类型 ReadonlyProps 结构和 Props 相同，但所有属性都变为只读的。<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171452716.png" alt="image.png" loading="lazy"><br> 当我们想重新给 id 属性赋值时，就会报错：无法分配到 &quot;id&quot; ，因为它是只读属性。</p><h5 id="pick-type-keys" tabindex="-1"><a class="header-anchor" href="#pick-type-keys"><span><code>Pick&lt;Type, Keys&gt;</code></span></a></h5><p><code>Pick&lt;Type, Keys&gt;</code> 从 Type 中选择一组属性来构造新类型。<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171452091.png" alt="image.png" loading="lazy">解释：</p><ol><li>Pick 工具类型有两个类型变量：1-&gt;表示<strong>选择谁的属性</strong> 2-&gt;表示<strong>选择哪几个属性</strong>。</li><li>其中第二个类型变量，如果只选择一个则只传入该属性名即可。</li><li>第二个类型变量传入的属性<strong>只能是第一个类型变量中存在的属性</strong>。</li><li>构造出来的新类型 PickProps，只有 id 和 title 两个属性类型。</li></ol><h5 id="record-keys-type" tabindex="-1"><a class="header-anchor" href="#record-keys-type"><span>Record&lt;Keys, Type&gt;</span></a></h5><p><code>Record&lt;Keys,Type&gt;</code> 构造一个对象类型，属性键为 Keys，属性类型为 Type。<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171452942.png" alt="image.png" loading="lazy"><br> 解释：</p><ol><li>Record 工具类型有两个类型变量：1-&gt;表示<strong>对象有哪些属性</strong> 2-&gt;<strong>表示对象属性的类型</strong>。</li><li>构建的新对象类型 RecordObj 表示：这个对象有三个属性分别为a/b/c，属性值的类型都是 string[]。</li></ol><h3 id="索引签名类型" tabindex="-1"><a class="header-anchor" href="#索引签名类型"><span>索引签名类型</span></a></h3><p>绝大多数情况下，我们都可以在使用对象前就确定对象的结构，并为对象添加准确的类型。<br> 使用场景：当无法确定对象中有哪些属性（或者说对象中可以出现任意多个属性），此时，就用到索引签名类型了。<img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171452712.png" alt="image.png" loading="lazy"><br> 解释：</p><ol><li>使用 <code>[key: string]</code> 来约束该接口中允许出现的属性名称。表示只要是 string 类型的属性名称，都可以出现在对象中。</li><li>这样，对象 obj 中就可以出现任意多个属性（比如，a、b 等）。</li><li><strong>key 只是一个占位符</strong>，可以换成任意合法的变量名称。</li><li>隐藏的前置知识：JS 中对象（{}）的键是 string 类型的。</li></ol><hr><p>在 JS 中数组是一类特殊的对象，特殊在<strong>数组的键（索引）是数值类型</strong>。<br> 并且，数组也可以出现任意多个元素。所以，在数组对应的泛型接口中，也用到了索引签名类型。<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171452674.png" alt="image.png" loading="lazy"><br> 解释：</p><ol><li>MyArray 接口模拟原生的数组接口，并使用<code>[n: number]</code>来作为索引签名类型。</li><li>该索引签名类型表示：只要是 number 类型的键（索引）都可以出现在数组中，或者说数组中可以有任意多个元素。</li><li>同时也符合数组索引是 number 类型这一前提。</li></ol><h3 id="映射类型" tabindex="-1"><a class="header-anchor" href="#映射类型"><span>映射类型</span></a></h3><p>映射类型：基于旧类型创建新类型（对象类型），减少重复、提高开发效率。<br> 比如，类型 PropKeys 有 x/y/z，另一个类型 Type1 中也有 x/y/z，并且 Type1 中 x/y/z 的类型相同：<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171452593.png" alt="image.png" loading="lazy"><br> 这样书写没错，但 x/y/z 重复书写了两次。像这种情况，就可以使用映射类型来进行简化。 <br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171452935.png" alt="image.png" loading="lazy"><br> 解释：</p><ol><li>映射类型是基于索引签名类型的，所以，该语法类似于索引签名类型，也使用了 []。</li><li><code>Key in PropKeys</code> 表示 Key 可以是 PropKeys 联合类型中的任意一个，类似于 forin(let k in obj)。</li><li>使用映射类型创建的新对象类型 Type2 和类型 Type1 结构完全相同。</li><li>注意：<strong>映射类型只能在类型别名中使用，不能在接口中使用</strong>。</li></ol><hr><p>映射类型除了根据<strong>联合类型</strong>创建新类型外，还可以根据<strong>对象类型</strong>来创建：<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171452890.png" alt="image.png" loading="lazy"><br> 解释：</p><ol><li>首先，先执行 <code>keyof Props</code> 获取到对象类型 Props 中所有键的联合类型即，&#39;a&#39; | &#39;b&#39; | &#39;c&#39;。</li><li>然后，<code>Key in ...</code> 就表示 Key 可以是 Props 中所有的键名称中的任意一个。</li></ol><figure><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171452657.png" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><hr><p>实际上，前面讲到的泛型工具类型（比如，<code>Partial&lt;Type&gt;</code>）都是基于映射类型实现的。<br> 比如，<code>Partial&lt;Type&gt;</code> 的实现：<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171453943.png" alt="image.png" loading="lazy">解释：</p><ol><li><code>keyof T</code> 即 keyof Props 表示获取 Props 的所有键，也就是：&#39;a&#39; | &#39;b&#39; | &#39;c&#39;。</li><li>在 [] 后面添加 <code>**?**</code>（问号），表示将这些属性变为<strong>可选</strong>的，以此来实现 Partial 的功能。</li><li>冒号后面的<code>T[P]</code> <strong>表示获取 T 中每个键对应的类型</strong>。比如，如果是 &#39;a&#39; 则类型是 number；如果是 &#39;b&#39; 则类型是 string。</li><li>最终，新类型 PartialProps 和旧类型 Props 结构完全相同，只是让所有类型都变为可选了。</li></ol><hr><p>刚刚用到的 T[P] 语法，在 TS 中叫做索引查询（访问）类型。<br> 作用：用来查询属性的类型。<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171453380.png" alt="image.png" loading="lazy">解释：Props[&#39;a&#39;] 表示查询类型 Props 中属性 &#39;a&#39; 对应的类型 number。所以，TypeA 的类型为 number。<br> 注意：[] 中的属性必须存在于被查询类型中，否则就会报错。</p><hr><p>索引查询类型的其他使用方式：同时查询多个索引的类型<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171453515.png" alt="image.png" loading="lazy"><br> 解释：使用字符串字面量的联合类型，获取属性 a 和 b 对应的类型，结果为： string | number。<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171453247.png" alt="image.png" loading="lazy"><br> 解释：使用 <code>keyof</code> 操作符获取 Props 中所有键对应的类型，结果为： string | number | boolean。</p><h2 id="类型声明文件" tabindex="-1"><a class="header-anchor" href="#类型声明文件"><span>类型声明文件</span></a></h2><h3 id="概述" tabindex="-1"><a class="header-anchor" href="#概述"><span>概述</span></a></h3><p>今天几乎所有的 JavaScript 应用都会引入许多第三方库来完成任务需求。<br> 这些第三方库不管是否是用 TS 编写的，最终都要编译成 JS 代码，才能发布给开发者使用。<br> 我们知道是 TS 提供了类型，才有了代码提示和类型保护等机制。<br> 但在项目开发中使用第三方库时，你会发现它们几乎都有相应的 TS 类型，这些类型是怎么来的呢？类型声明文件<br><strong>类型声明文件：用来为已存在的 JS 库提供类型信息。</strong><br> 这样在 TS 项目中使用这些库时，就像用 TS 一样，都会有代码提示、类型保护等机制了。</p><ol><li>TS 的两种文件类型</li><li>类型声明文件的使用说明</li></ol><h3 id="_2种文件类型" tabindex="-1"><a class="header-anchor" href="#_2种文件类型"><span>2种文件类型</span></a></h3><p>TS 中有两种文件类型：1-&gt;<code>.ts</code> 文件 2-&gt;<code>.d.ts</code> 文件。</p><ul><li>ts 文件： <ol><li><strong>既包含类型信息又可执行代码</strong>。</li><li>可以被编译为 .js 文件，然后，执行代码。</li><li>用途：编写程序代码的地方。</li></ol></li><li>文件：<br> 4. 只包含类型信息的类型声明文件。<br> 5. <strong>不会生成 .js 文件</strong>，仅用于<strong>提供类型信息</strong>。<br> 6. 用途：为 JS 提供类型信息。</li></ul><p>总结：<code>.ts</code> 是 implementation（代码实现文件）；<code>.d.ts</code> 是 declaration（类型声明文件）。<br> 如果要为 JS 库提供类型信息，要使用 .d.ts 文件。</p><h3 id="使用说明" tabindex="-1"><a class="header-anchor" href="#使用说明"><span>使用说明</span></a></h3><p>在使用 TS 开发项目时，类型声明文件的使用包括以下两种方式：</p><ol><li>使用已有的类型声明文件 <ol><li>内置类型声明文件</li><li>第三方库的类型声明文件</li></ol></li><li>创建自己的类型声明文件 <ol><li>项目内共享类型</li><li>为已有JS文件提供类型声明</li></ol></li></ol><p>学习顺序：先会用（别人的）再会写（自己的）。</p><h4 id="使用已有的类型声明文件" tabindex="-1"><a class="header-anchor" href="#使用已有的类型声明文件"><span>使用已有的类型声明文件</span></a></h4><h5 id="内置类型声明文件" tabindex="-1"><a class="header-anchor" href="#内置类型声明文件"><span>内置类型声明文件</span></a></h5><p><strong>TS 为 JS 运行时可用的所有标准化内置 API 都提供了声明文件</strong>。<br> 比如，在使用数组时，数组所有方法都会有相应的代码提示以及类型信息： <img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171453025.png" alt="image.png" loading="lazy"><br> 实际上这都是 TS 提供的内置类型声明文件。<br> 可以通过 Ctrl + 鼠标左键（Mac：option + 鼠标左键）来查看内置类型声明文件内容。<br> 比如，查看 forEach 方法的类型声明，VSCode 中会自动跳转到 lib.es5**.d.ts <strong>类型声明文件中。<br> 当然，像 window、document 等 BOM、DOM API 也都有相应的类型声明（lib.dom</strong>.d.ts**)。</p><h5 id="第三方库的类型声明文件" tabindex="-1"><a class="header-anchor" href="#第三方库的类型声明文件"><span>第三方库的类型声明文件</span></a></h5><p>目前，几乎所有常用的第三方库都有相应的类型声明文件。<br> 第三方库的类型声明文件有两种存在形式：<strong>库自带类型声明文件、由 DefinitelyTyped 提供。</strong></p><ol><li>库自带类型声明文件：比如，axios。</li></ol><p><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171453888.png" alt="image.png" loading="lazy"><br> 解释：这种情况下，正常导入该库，<strong>TS 就会自动加载库自己的类型声明文件</strong>，以提供该库的类型声明。</p><ol start="2"><li>由 DefinitelyTyped 提供。</li></ol><p><a href="https://github.com/DefinitelyTyped/DefinitelyTyped/" target="_blank" rel="noopener noreferrer">DefinitelyTyped</a> 是一个 github 仓库，用来<strong>提供高质量 TypeScript 类型声明</strong>。<br> 可以通过 npm/yarn 来下载该仓库提供的 TS 类型声明包，这些包的名称格式为：<strong>@types/</strong><em>。<br> 比如，@types/react、@types/lodash 等。<br> 说明：在实际项目开发时，如果你使用的第三方库没有自带的声明文件，VSCode 会给出明确的提示。<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/typescript/202406171453505.png" alt="image.png" loading="lazy"><br> 解释：当安装 @types/</em> 类型声明包后，<strong>TS 也会自动加载该类声明包</strong>，以提供该库的类型声明。<br> 补充：TS 官方文档提供了一个<a href="https://www.typescriptlang.org/dt" target="_blank" rel="noopener noreferrer">页面</a>，可以来查询 @types/* 库。</p><h4 id="创建自己的类型声明文件" tabindex="-1"><a class="header-anchor" href="#创建自己的类型声明文件"><span>创建自己的类型声明文件</span></a></h4><h5 id="项目内共享类型" tabindex="-1"><a class="header-anchor" href="#项目内共享类型"><span>项目内共享类型</span></a></h5><p>如果多个 .ts 文件中都用到同一个类型，此时可以创建 .d.ts 文件提供该类型，实现类型共享。<br> 操作步骤：</p><ol><li>创建 index.d.ts 类型声明文件。</li><li>创建需要共享的类型，并使用 export 导出（TS 中的类型也可以使用 import/export 实现模块化功能）。</li><li>在需要使用共享类型的 .ts 文件中，通过 import 导入即可（.d.ts 后缀导入时，直接省略）。</li></ol><h5 id="为已有js文件提供类型声明" tabindex="-1"><a class="header-anchor" href="#为已有js文件提供类型声明"><span>为已有JS文件提供类型声明</span></a></h5><ol><li>在将 JS 项目<a href="https://www.typescriptlang.org/docs/handbook/migrating-from-javascript.html" target="_blank" rel="noopener noreferrer">迁移</a>到 TS 项目时，为了让已有的 .js 文件有类型声明。</li><li>成为库作者，创建库给其他人使用。</li></ol><p>注意：类型声明文件的编写与模块化方式相关，不同的模块化方式有不同的写法。但由于历史原因，JS 模块化的发展经历过多种变化（AMD、CommonJS、UMD、ESModule 等），而 TS 支持各种模块化形式的类型声明。这就导致 ，类型声明文件<a href="https://www.typescriptlang.org/docs/handbook/declaration-files/introduction.html" target="_blank" rel="noopener noreferrer">相关内容</a>又多又杂。<br> 演示：基于最新的 ESModule（import/export）来为已有 .js 文件，创建类型声明文件。<br> 开发环境准备：使用 webpack 搭建，通过 ts-loader 处理 .ts 文件。</p><hr><p>说明：TS 项目中也可以使用 .js 文件。<br> 说明：在导入 .js 文件时，TS 会自动加载与 .js 同名的 .d.ts 文件，以提供类型声明。<br> declare 关键字：用于类型声明，为其他地方（比如，.js 文件）已存在的变量声明类型，而不是创建一个新的变量。</p><ol><li>对于 type、interface 等这些明确就是 TS 类型的（只能在 TS 中使用的），可以省略 declare 关键字。</li><li>对于 let、function 等具有双重含义（在 JS、TS 中都能用），应该使用 declare 关键字，明确指定此处用于类型声明。</li></ol><h2 id="配置文件" tabindex="-1"><a class="header-anchor" href="#配置文件"><span>配置文件</span></a></h2><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;incremental&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// TS编译器在第一次编译之后会生成一个存储编译信息的文件，第二次编译会在第一次的基础上进行增量编译，可以提高编译的速度</span>
  <span class="token property">&quot;tsBuildInfoFile&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./buildFile&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 增量编译文件的存储位置</span>
  <span class="token property">&quot;diagnostics&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 打印诊断信息</span>
  <span class="token property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ES5&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 目标语言的版本（指定编译 js 的版本）</span>
  <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;CommonJS&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 生成代码的模板标准</span>
  <span class="token property">&quot;outFile&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./app.js&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 将多个相互依赖的文件生成一个文件，可以用在AMD模块中，即开启时应设置&quot;module&quot;: &quot;AMD&quot;,</span>
  <span class="token property">&quot;lib&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;DOM&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ES2015&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ScriptHost&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ES2019.Array&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// TS需要引用的库，即声明文件，es5 默认引用dom、es5、scripthost,如需要使用es的高级版本特性，通常都需要配置，如es8的数组新特性需要引入&quot;ES2019.Array&quot;,</span>
  <span class="token property">&quot;allowJS&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 允许编译器编译JS，JSX文件</span>
  <span class="token property">&quot;checkJs&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 允许在JS文件中报错，通常与allowJS一起使用</span>
  <span class="token property">&quot;outDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 指定输出目录</span>
  <span class="token property">&quot;rootDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 指定输出文件目录(用于输出)，用于控制输出目录结构</span>
  <span class="token property">&quot;declaration&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 生成声明文件，开启后会自动生成声明文件</span>
  <span class="token property">&quot;declarationDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./file&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 指定生成声明文件存放目录</span>
  <span class="token property">&quot;emitDeclarationOnly&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 只生成声明文件，而不会生成js文件</span>
  <span class="token property">&quot;sourceMap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 生成目标文件的sourceMap文件（代码源文件）</span>
  <span class="token property">&quot;inlineSourceMap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 生成目标文件的inline SourceMap，inline SourceMap会包含在生成的js文件中</span>
  <span class="token property">&quot;declarationMap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 为声明文件生成sourceMap</span>
  <span class="token property">&quot;typeRoots&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 声明文件目录，默认时node_modules/@types</span>
  <span class="token property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 加载的声明文件包</span>
  <span class="token property">&quot;removeComments&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 在编译过程中删除文件中的注释</span>
  <span class="token property">&quot;noEmit&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 不输出文件,即编译后不会生成任何js文件</span>
  <span class="token property">&quot;noEmitOnError&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 发送错误时不输出任何文件</span>
  <span class="token property">&quot;noEmitHelpers&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 不生成helper函数，减小体积，需要额外安装，常配合importHelpers一起使用</span>
  <span class="token property">&quot;importHelpers&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 通过tslib引入helper函数，文件必须是模块</span>
  <span class="token property">&quot;downlevelIteration&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 降级遍历器实现，如果目标源是es3/5，那么遍历器会有降级的实现</span>
  <span class="token property">&quot;strict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 开启所有严格的类型检查</span>
  <span class="token property">&quot;alwaysStrict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 在代码中注入&#39;use strict&#39;</span>
  <span class="token property">&quot;noImplicitAny&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 不允许隐式的any类型</span>
  <span class="token property">&quot;strictNullChecks&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 不允许把null、undefined赋值给其他类型的变量</span>
  <span class="token property">&quot;strictFunctionTypes&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 不允许函数参数双向协变</span>
  <span class="token property">&quot;strictPropertyInitialization&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 类的实例属性必须初始化</span>
  <span class="token property">&quot;strictBindCallApply&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 严格的bind/call/apply检查</span>
  <span class="token property">&quot;noImplicitThis&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 不允许this有隐式的any类型</span>
  <span class="token property">&quot;noUnusedLocals&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 检查只声明、未使用的局部变量(只提示不报错)</span>
  <span class="token property">&quot;noUnusedParameters&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 检查未使用的函数参数(只提示不报错)</span>
  <span class="token property">&quot;noFallthroughCasesInSwitch&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 防止switch语句贯穿(即如果没有break语句后面不会执行)</span>
  <span class="token property">&quot;noImplicitReturns&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//每个分支都会有返回值</span>
  <span class="token property">&quot;esModuleInterop&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 允许export=导出，由import from 导入</span>
  <span class="token property">&quot;allowUmdGlobalAccess&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 允许在模块中全局变量的方式访问umd模块</span>
  <span class="token property">&quot;moduleResolution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 模块解析策略，ts默认用node的解析策略，即相对的方式导入</span>
  <span class="token property">&quot;baseUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 解析非相对模块的基地址，默认是当前目录</span>
  <span class="token property">&quot;paths&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 路径映射，相对于baseUrl</span>
    <span class="token comment">// 如使用jq时不想使用默认版本，而需要手动指定版本，可进行如下配置</span>
    <span class="token property">&quot;jquery&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;node_modules/jquery/dist/jquery.min.js&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rootDirs&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;src&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;out&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 将多个目录放在一个虚拟目录下，用于运行时，即编译后引入文件的位置可能发生变化，这也设置可以虚拟src和out在同一个目录下，不用再去改变路径也不会报错</span>
  <span class="token property">&quot;listEmittedFiles&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 打印输出文件</span>
  <span class="token property">&quot;listFiles&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token comment">// 打印编译的文件(包括引用的声明文件)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 指定一个匹配列表（属于自动指定该路径下的所有ts相关文件）</span>
<span class="token property">&quot;include&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token string">&quot;src/**/*&quot;</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token comment">// 指定一个排除列表（include的反向操作）</span>
<span class="token property">&quot;exclude&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token string">&quot;demo.ts&quot;</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token comment">// 指定哪些文件使用该配置（属于手动一个个指定文件）</span>
<span class="token property">&quot;files&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token string">&quot;demo.ts&quot;</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token string-property property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&quot;incremental&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// TS编译器在第一次编译之后会生成一个存储编译信息的文件，第二次编译会在第一次的基础上进行增量编译，可以提高编译的速度</span>
  <span class="token string-property property">&quot;tsBuildInfoFile&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./buildFile&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 增量编译文件的存储位置</span>
  <span class="token string-property property">&quot;diagnostics&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 打印诊断信息 </span>
  <span class="token string-property property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ES5&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 目标语言的版本</span>
  <span class="token string-property property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;CommonJS&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 生成代码的模板标准</span>
  <span class="token string-property property">&quot;outFile&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./app.js&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 将多个相互依赖的文件生成一个文件，可以用在AMD模块中，即开启时应设置&quot;module&quot;: &quot;AMD&quot;,</span>
  <span class="token string-property property">&quot;lib&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;DOM&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ES2015&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ScriptHost&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ES2019.Array&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// TS需要引用的库，即声明文件，es5 默认引用dom、es5、scripthost,如需要使用es的高级版本特性，通常都需要配置，如es8的数组新特性需要引入&quot;ES2019.Array&quot;,</span>
  <span class="token string-property property">&quot;allowJS&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 允许编译器编译JS，JSX文件</span>
  <span class="token string-property property">&quot;checkJs&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 允许在JS文件中报错，通常与allowJS一起使用</span>
  <span class="token string-property property">&quot;outDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 指定输出目录</span>
  <span class="token string-property property">&quot;rootDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 指定输出文件目录(用于输出)，用于控制输出目录结构</span>
  <span class="token string-property property">&quot;declaration&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 生成声明文件，开启后会自动生成声明文件</span>
  <span class="token string-property property">&quot;declarationDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./file&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 指定生成声明文件存放目录</span>
  <span class="token string-property property">&quot;emitDeclarationOnly&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 只生成声明文件，而不会生成js文件</span>
  <span class="token string-property property">&quot;sourceMap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 生成目标文件的sourceMap文件</span>
  <span class="token string-property property">&quot;inlineSourceMap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 生成目标文件的inline SourceMap，inline SourceMap会包含在生成的js文件中</span>
  <span class="token string-property property">&quot;declarationMap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 为声明文件生成sourceMap</span>
  <span class="token string-property property">&quot;typeRoots&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 声明文件目录，默认时node_modules/@types</span>
  <span class="token string-property property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 加载的声明文件包</span>
  <span class="token string-property property">&quot;removeComments&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 删除注释 </span>
  <span class="token string-property property">&quot;noEmit&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 不输出文件,即编译后不会生成任何js文件</span>
  <span class="token string-property property">&quot;noEmitOnError&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 发送错误时不输出任何文件</span>
  <span class="token string-property property">&quot;noEmitHelpers&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 不生成helper函数，减小体积，需要额外安装，常配合importHelpers一起使用</span>
  <span class="token string-property property">&quot;importHelpers&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 通过tslib引入helper函数，文件必须是模块</span>
  <span class="token string-property property">&quot;downlevelIteration&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 降级遍历器实现，如果目标源是es3/5，那么遍历器会有降级的实现</span>
  <span class="token string-property property">&quot;strict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 开启所有严格的类型检查</span>
  <span class="token string-property property">&quot;jsx&quot;</span><span class="token operator">:</span> <span class="token string">&quot;preserve&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 指定 jsx 格式</span>
  <span class="token string-property property">&quot;resolveJsonModule&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//设置true则可以直接import导入本地的json文件,例如import pathOptions from &#39;./table.json&#39;</span>
  <span class="token string-property property">&quot;alwaysStrict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 在代码中注入&#39;use strict&#39;</span>
  <span class="token string-property property">&quot;noImplicitAny&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 不允许隐式的any类型</span>
  <span class="token string-property property">&quot;strictNullChecks&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 不允许把null、undefined赋值给其他类型的变量</span>
  <span class="token string-property property">&quot;strictFunctionTypes&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 不允许函数参数双向协变</span>
  <span class="token string-property property">&quot;strictPropertyInitialization&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 类的实例属性必须初始化</span>
  <span class="token string-property property">&quot;strictBindCallApply&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 严格的bind/call/apply检查</span>
  <span class="token string-property property">&quot;noImplicitThis&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 不允许this有隐式的any类型</span>
  <span class="token string-property property">&quot;noUnusedLocals&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 检查只声明、未使用的局部变量(只提示不报错)</span>
  <span class="token string-property property">&quot;noUnusedParameters&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 检查未使用的函数参数(只提示不报错)</span>
  <span class="token string-property property">&quot;noFallthroughCasesInSwitch&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 防止switch语句贯穿(即如果没有break语句后面不会执行)</span>
  <span class="token string-property property">&quot;noImplicitReturns&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//每个分支都会有返回值</span>
  <span class="token string-property property">&quot;esModuleInterop&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 允许export=导出，由import from 导入</span>
  <span class="token string-property property">&quot;allowUmdGlobalAccess&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 允许在模块中全局变量的方式访问umd模块</span>
  <span class="token string-property property">&quot;moduleResolution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 模块解析策略，ts默认用node的解析策略，即相对的方式导入</span>
  <span class="token string-property property">&quot;baseUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 解析非相对模块的基地址，默认是当前目录</span>
  <span class="token string-property property">&quot;paths&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 路径映射，相对于baseUrl</span>
    <span class="token comment">// 如使用jq时不想使用默认版本，而需要手动指定版本，可进行如下配置</span>
    <span class="token string-property property">&quot;jquery&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;node_modules/jquery/dist/jquery.min.js&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;rootDirs&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;src&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;out&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 将多个目录放在一个虚拟目录下，用于运行时，即编译后引入文件的位置可能发生变化，这也设置可以虚拟src和out在同一个目录下，不用再去改变路径也不会报错</span>
  <span class="token string-property property">&quot;listEmittedFiles&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 打印输出文件</span>
  <span class="token string-property property">&quot;listFiles&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token comment">// 打印编译的文件(包括引用的声明文件)</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="命名空间" tabindex="-1"><a class="header-anchor" href="#命名空间"><span>命名空间</span></a></h2><p>在 TypeScript 中，命名空间（Namespace）是一种用于组织和管理代码的机制，它可以避免全局作用域下的命名冲突， 并将相关的代码封装在一个命名空间内。<br> 任何包含顶级 <code>import</code> 或者 <code>export</code> 的文件都被当成一个模块。相反地，如果一个文件不带有顶级的<code>import</code>或者<code>export</code>声名的文件都被当成一个模块。<br> 以下是命名空间的基本用法和特点：</p><ol><li>创建命名空间：</li></ol><p>使用<code>namespace</code>创建命名空间</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">namespace</span> MyNamespace <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">const</span> message <span class="token operator">=</span> <span class="token string">&quot;Hello from MyNamespace&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Hello<span class="token punctuation">,</span> $<span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token operator">!</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>访问命名空间中的成员：<br> 通过使用命名空间名称来访问其中的成员：</li></ol><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>MyNamespace<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出：Hello from MyNamespace</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>MyNamespace<span class="token punctuation">.</span><span class="token function">greet</span><span class="token punctuation">(</span><span class="token string">&quot;Alice&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出：Hello, Alice!</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>嵌套命名空间：<br> 命名空间可以嵌套，以便更好地组织代码：</li></ol><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">namespace</span> OuterNamespace <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">namespace</span> InnerNamespace <span class="token punctuation">{</span>
    <span class="token keyword">export</span> <span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>OuterNamespace<span class="token punctuation">.</span>InnerNamespace<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出：42</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>使用 export 关键字：<br> 在命名空间中，如果要在外部访问命名空间中的成员，需要使用 <code>export</code> 关键字进行导出。然后在外部文件中进行 <code>import {space2} from &#39;./index2.ts&#39;</code>导入。此时会在 <code>index.js</code>中用到 <code>define</code> ，需要在 <code>tsconfig.json</code> 中将 <code>&quot;module&quot;</code>改为 <code>CommonJS</code> ，才可以正常编译。</li><li>别名</li></ol><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">namespace</span> <span class="token constant">A</span> <span class="token punctuation">{</span>
 <span class="token keyword">export</span> <span class="token keyword">namespace</span> <span class="token constant">B</span> <span class="token punctuation">{</span>
 <span class="token keyword">export</span> <span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token number">1</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 以下方式不可以通过 ts-node 去编译，会报错</span>
<span class="token keyword">import</span> <span class="token constant">AAA</span> <span class="token operator">=</span> <span class="token constant">A</span><span class="token punctuation">.</span><span class="token constant">B</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">AAA</span><span class="token punctuation">.</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="6"><li>合并命名空间</li></ol><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">namespace</span> <span class="token constant">A</span> <span class="token punctuation">{</span>
 <span class="token keyword">export</span> <span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token keyword">namespace</span> <span class="token constant">A</span> <span class="token punctuation">{</span>
 <span class="token keyword">export</span> <span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token number">2</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="7"><li>/// <code>&lt;reference&gt;</code> 三斜线指令</li></ol><p>在分散的文件中使用命名空间时，可以使用 /// <code>&lt;reference&gt;</code> 指令引入其他文件中的命名空间：（注意在使用三斜线指令时， tscofig 中不能设置 &quot;moduleDetection&quot;: &quot;force&quot; ）</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token comment">/// &lt;reference path=&quot;path/to/other/file.ts&quot; /&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>需要注意的是，在现代 TypeScript 中，命名空间的使用已经逐渐被模块化替代。模块化使用 <code>import</code> 和 <code>export</code> 关键字来管理代码，更加推荐用于组织项目的代码结构。</p><h2 id="类的混入" tabindex="-1"><a class="header-anchor" href="#类的混入"><span>类的混入</span></a></h2><p>Mixin（混入）是一种在面向对象编程中，通过将一个或多个功能组合到一个类中的方式来实现代码重用的技术。Mixin 可以被认为是一种水平扩展，它可以让一个类在不继承其他类的情况下获得其他类的功能。</p><ol><li><strong>对象复制</strong>： 最简单的方式是通过复制一个对象的属性和方法到另一个对象来实现混入。这可以使用 Object.assign() 方法或自定义的复制函数来实现。</li></ol><ul><li>优点：对象复制是一种简单且直观的方式，可以很容易地将一个对象的功能复制到另一个对象中。它不会影响原型链，因此不会对对象的原型链产生任何影响。</li><li>缺点：对象复制通常是静态的，即在对象创建时就确定了对象的功能。如果需要在运行时动态添加新的功能，对象复制就显得不够灵活。</li></ul><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> mixin <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">someFunction</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 实现某个功能</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  someVariable<span class="token operator">:</span> <span class="token number">123</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> mixin<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 现在 obj 拥有了 mixin 的功能</span>
obj<span class="token punctuation">.</span><span class="token function">someFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>someVariable<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><strong>原型链</strong>： 通过修改对象的原型链来实现混入。可以创建一个拥有所需功能的辅助对象，并将其设置为目标对象的原型。这样目标对象就可以通过原型链访问辅助对象的属性和方法。</li></ol><ul><li>优点：原型链混入可以实现动态继承，即在运行时动态地改变对象的原型链。这意味着可以在任何时候向对象添加新的功能。</li><li>缺点：原型链混入可能会影响对象的整个原型链，从而导致一些意外的行为。另外，由于 JavaScript 对象可以动态地改变原型链，因此可能会导致一些性能问题。</li></ul><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> mixin <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">someFunction</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 实现某个功能</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  someVariable<span class="token operator">:</span> <span class="token number">123</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> mixin<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 现在 obj 拥有了 mixin 的功能</span>
obj<span class="token punctuation">.</span><span class="token function">someFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>someVariable<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>总结：原型链混入更适合需要动态继承的场景，而对象复制更适合静态的功能复制</p><ol start="3"><li><strong>类继承</strong>： 在 ES6 中，可以通过类继承来实现混入。可以定义一个拥有所需功能的基类，并让目标类继承这个基类。这样目标类就可以获得基类的功能。</li></ol><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Mixin</span> <span class="token punctuation">{</span>
  <span class="token function">someFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 实现某个功能</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">get</span> <span class="token function">someVariable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">123</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token keyword">extends</span> <span class="token class-name">Mixin</span> <span class="token punctuation">{</span>
  <span class="token comment">// MyClass 继承了 Mixin 的功能</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span><span class="token function">someFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>someVariable<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用Mixin可以在不修改原有类结构的情况下，将多个功能组合到一个类中，提高代码的重用性和可维护性。但需要注意避免混入过多的功能，以免造成代码复杂性和命名冲突。</p><h2 id="装饰器" tabindex="-1"><a class="header-anchor" href="#装饰器"><span>装饰器</span></a></h2><h3 id="参数装饰器" tabindex="-1"><a class="header-anchor" href="#参数装饰器"><span>参数装饰器</span></a></h3><p>参数装饰器是应用于类方法参数的装饰器，它接收3个参数：目标对象、方法名称和参数在函数参数列表中的索引。</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">logParameter</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> methodName<span class="token punctuation">,</span> parameterIndex</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Parameter &#39;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>parameterIndex<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&#39; of </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>methodName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> in </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>target<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> has been decorated</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span>
    <span class="token function">myMethod</span><span class="token punctuation">(</span><span class="token parameter">@logParameter arg1<span class="token punctuation">,</span> @logParameter arg2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 方法体</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 输出: Parameter &#39;0&#39; of myMethod in MyClass has been decorated</span>
<span class="token comment">// 输出: Parameter &#39;1&#39; of myMethod in MyClass has been decorated</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="类装饰器" tabindex="-1"><a class="header-anchor" href="#类装饰器"><span>类装饰器</span></a></h3><p>类装饰器是应用于类构造函数的装饰器，它接收一个参数：目标类的构造函数。</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">logClass</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Class </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>target<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> has been decorated</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

@logClass
<span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span>
    <span class="token comment">// 类定义</span>
<span class="token punctuation">}</span>

<span class="token comment">// 输出: Class MyClass has been decorated</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="方法装饰器" tabindex="-1"><a class="header-anchor" href="#方法装饰器"><span>方法装饰器</span></a></h3><p>方法装饰器是应用于类方法的装饰器，它接收3个参数：目标对象、方法名称和属性描述符。</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">logMethod</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> methodName<span class="token punctuation">,</span> descriptor</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Method </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>methodName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> in </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>target<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> has been decorated</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span>
    @logMethod
    <span class="token function">myMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 方法体</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 输出: Method myMethod in MyClass has been decorated</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="属性装饰器" tabindex="-1"><a class="header-anchor" href="#属性装饰器"><span>属性装饰器</span></a></h3><p>属性装饰器是应用于类属性的装饰器，它接收2个参数：目标对象和属性名。</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">logProperty</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> propertyName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Property </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>propertyName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> in </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>target<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> has been decorated</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span>
    @logProperty
    myProperty <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 输出: Property myProperty in MyClass has been decorated</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="装饰器工厂" tabindex="-1"><a class="header-anchor" href="#装饰器工厂"><span>装饰器工厂</span></a></h3><p>装饰器工厂是一个返回装饰器的函数，允许我们动态创建装饰器。</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">logFactory</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> methodName<span class="token punctuation">,</span> descriptor</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>message<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> - Method </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>methodName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> in </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>target<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> has been decorated</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span>
    @<span class="token function">logFactory</span><span class="token punctuation">(</span><span class="token string">&#39;Log message&#39;</span><span class="token punctuation">)</span>
    <span class="token function">myMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 方法体</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 输出: Log message - Method myMethod in MyClass has been decorated</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="vp-link vp-external-link-icon vp-meta-label" href="https://github.com/Okita1027/knowledge-database/edit/main/web/TypeScript.md" rel="noopener noreferrer" target="_blank" aria-label="编辑此页"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->编辑此页<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">上次编辑于: </span><!----></div><div class="contributors"><span class="vp-meta-label">贡献者: </span><!--[--><!--[--><span class="vp-meta-info" title="email: 96156298+Okita1027@users.noreply.github.com">Zhiyun Qin</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link vp-link prev" href="/knowledge-database/web/React.html" aria-label="React"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><!---->React</div></a><a class="route-link vp-link next" href="/knowledge-database/web/Vue.html" aria-label="Vue"><div class="hint">下一页<span class="arrow end"></span></div><div class="link">Vue<!----></div></a></nav><!----><!----><!--]--></main><!--]--><!----></div><!--]--><!--]--><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/knowledge-database/assets/app-NwmlIrjp.js" defer></script>
  </body>
</html>
