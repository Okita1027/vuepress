<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.11" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.43" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="icon" href="/knowledge-database/favicon.ico"><title>Vue | æ²–ç”°ã•ã‚“ã®çŸ¥è­˜ãƒ™ãƒ¼ã‚¹</title><meta name="description" content="åŸºäºVuePressçš„çŸ¥è¯†åº“,ä¸»é¢˜hope">
    <link rel="preload" href="/knowledge-database/assets/style-BRd0EN34.css" as="style"><link rel="stylesheet" href="/knowledge-database/assets/style-BRd0EN34.css">
    <link rel="modulepreload" href="/knowledge-database/assets/app-NwmlIrjp.js"><link rel="modulepreload" href="/knowledge-database/assets/Vue.html-D8Btyq6v.js"><link rel="modulepreload" href="/knowledge-database/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/knowledge-database/assets/index.html-wF5_I1pE.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/MongoDB.html-5Cgz9Zt8.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/MySQL.html-AWeQ25UD.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-Cd15iYXj.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-BjBrXAco.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-_v5Xiq6H.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/Axios.html-D-L6aopJ.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/React.html-DcRAJEWs.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-DMXJFFTt.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/TypeScript.html-Do5bxlAY.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/basic.html-cH3fn9yJ.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/practical.html-Bs5-6KbW.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-DyMKucDi.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/functional-programming.html-BM4DVXtK.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/grammar.html-CdWZ41HS.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/JDK17.html-0mzrTxVS.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/JDK18-20.html-BswoBjbM.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/JDK21.html-83bpHGY4.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/JDK22-.html-DRaUTJFT.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/JDK8.html-BbyQSjc9.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/JDK9-16.html-5fHeyR0Z.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-DFvnfOiu.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/basic.html-BCJiPV8t.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/pattern.html-QAwfBFXT.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/principle.html-DyHJgntR.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-D-9q0bqu.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-DHy2pqDI.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/centos.html-CWwE9ZDk.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/common.html-DutZbXr8.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-C7SgcnoR.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/shell.html-B5aayGdI.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/ubuntu.html-rHrSbo3g.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/wsl.html-C3Q8NsJ4.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/basic.html-CYPZ-a-m.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-CLXbs4Vw.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/principle.html-MJsRJXKm.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-3GArg7Jt.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/uml.html-CZd-vx7Y.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/core.html-DEeqZ4N_.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/install.html-DYzVdNVq.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-CfOb8W7F.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-BzJldYxR.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/Mybatis-plus.html-CoG_i72p.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/Mybatis.html-DgMVd4o1.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-DcyCJ7_V.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/Apache.html-DpgV-I0O.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/Nginx.html-BmAzd3Ep.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-DHPStDgz.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-HjpfXcUs.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/SpringMVC.html-D_KYXsub.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-D-Rian4Y.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/behavioral.html-BQC1Pe0A.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/creation.html-CcHmz-Sh.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-BfR-O5nR.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/structural.html-vFEeTcAp.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/core.html-144xr8Ho.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/install.html-CXxyntTU.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-BAF6ZnSv.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/AOP.html-B9UnJ0uF.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/IOC_Annoation.html-Bw6CSYfp.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/IOC_senior.html-Bm-KUL01.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/IOC_XML.html-CQX5Inqd.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-D8rjCYj-.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/äº‹åŠ¡.html-BmoFXh4V.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/core.html-CyjHMmsC.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/integration.html-DOicXo6Z.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-CNLSX4H2.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/YAML.html-D05k1oYK.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/core.html-rjxGLbXs.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-C3jo8vhi.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/basic.html-DAs_Zfwt.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index.html-DIOFwk_y.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/404.html-Dn6WlYU-.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/mermaid.core-D7gpRhQe.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/photoswipe.esm-SzV8tJDW.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/style-l0sNRNKZ.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/docsearch-l0sNRNKZ.js" as="script"><link rel="prefetch" href="/knowledge-database/assets/index-zMbLkDvU.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container external-link-icon has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/knowledge-database/"><img class="vp-nav-logo light" src="/knowledge-database/logo.png" alt><img class="vp-nav-logo dark" src="/knowledge-database/logo-dark.png" alt><span class="vp-site-name hide-in-pad">æ²–ç”°ã•ã‚“ã®çŸ¥è­˜ãƒ™ãƒ¼ã‚¹</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link vp-link" href="/knowledge-database/" aria-label="ä¸»é¡µ"><img class="icon" src="/knowledge-database/home.png" alt aria-hidden no-view style="">ä¸»é¡µ<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link vp-link" href="/knowledge-database/basic/" aria-label="åŸºç¡€"><img class="icon" src="/knowledge-database/icon/java.png" alt aria-hidden no-view style="">åŸºç¡€<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link vp-link" href="/knowledge-database/database/" aria-label="æ•°æ®åº“"><img class="icon" src="/knowledge-database/icon/database.svg" alt aria-hidden no-view style="">æ•°æ®åº“<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link vp-link" href="/knowledge-database/frame/" aria-label="æ¡†æ¶"><img class="icon" src="/knowledge-database/icon/frame.png" alt aria-hidden no-view style="">æ¡†æ¶<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link active vp-link" href="/knowledge-database/web/" aria-label="å‰ç«¯"><img class="icon" src="/knowledge-database/icon/web.png" alt aria-hidden no-view style="">å‰ç«¯<!----></a></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-outlook-dropdown"><!----></div></button></div><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/Okita1027/knowledge-database" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="æœç´¢æ–‡æ¡£"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">æœç´¢æ–‡æ¡£</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!----><ul class="vp-sidebar-links"><li><a class="route-link vp-link vp-sidebar-link vp-sidebar-page" href="/knowledge-database/web/Axios.html" aria-label="Axios"><!---->Axios<!----></a></li><li><a class="route-link vp-link vp-sidebar-link vp-sidebar-page" href="/knowledge-database/web/React.html" aria-label="React"><!---->React<!----></a></li><li><a class="route-link vp-link vp-sidebar-link vp-sidebar-page" href="/knowledge-database/web/TypeScript.html" aria-label="TypeScript"><!---->TypeScript<!----></a></li><li><a class="route-link active vp-link vp-sidebar-link vp-sidebar-page active" href="/knowledge-database/web/Vue.html" aria-label="Vue"><!---->Vue<!----></a></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->Vue</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://Okita1027.github.io" target="_blank" rel="noopener noreferrer">Okita</a></span><span property="author" content="Okita"></span></span><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2024-06-16T22:30:39.000Z"></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color1" role>Vue</span><!--]--><meta property="articleSection" content="Vue"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 91 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT91M"></span><span class="page-word-info" aria-label="å­—æ•°ğŸ” " data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="word icon" name="word"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>çº¦ 27250 å­—</span><meta property="wordCount" content="27250"></span></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!----><div class="vp-toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å‡†å¤‡çŸ¥è¯†">å‡†å¤‡çŸ¥è¯†</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#æ–‡ä»¶ç»“æ„">æ–‡ä»¶ç»“æ„</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#vite-config-ts">vite.config.ts</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#tsconfig-json">tsconfig.json</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#åŸºç¡€å†…å®¹">åŸºç¡€å†…å®¹</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#æŒ‡ä»¤-directives">æŒ‡ä»¤ Directives</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç»‘å®šclass">ç»‘å®šclass</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç»‘å®šstyle">ç»‘å®šstyle</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#æ¡ä»¶æ¸²æŸ“">æ¡ä»¶æ¸²æŸ“</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#åˆ—è¡¨æ¸²æŸ“">åˆ—è¡¨æ¸²æŸ“</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#äº‹ä»¶å¤„ç†">äº‹ä»¶å¤„ç†</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#è¡¨å•è¾“å…¥ç»‘å®š">è¡¨å•è¾“å…¥ç»‘å®š</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ä¾¦å¬å™¨">ä¾¦å¬å™¨</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å†…ç½®æŒ‡ä»¤">å†…ç½®æŒ‡ä»¤</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#æ·±å…¥ç»„ä»¶">æ·±å…¥ç»„ä»¶</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#æ³¨å†Œ">æ³¨å†Œ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#props">Props</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#äº‹ä»¶">äº‹ä»¶</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#v-model">v-model</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#é€ä¼ attributes">é€ä¼ Attributes</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å†…ç½®ç»„ä»¶">å†…ç½®ç»„ä»¶</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#teleport">Teleport</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#suspense">Suspense</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ç»„åˆå¼api">ç»„åˆå¼API</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#refã€reactive">refã€reactive</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#torefã€torefs">toRefã€toRefs</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#computed">computed</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#watch">watch</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#watcheffect">watchEffect</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#çˆ¶å­é€šä¿¡">çˆ¶å­é€šä¿¡</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å¯¼å‡ºå±æ€§">å¯¼å‡ºå±æ€§</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å…¶å®ƒapi">å…¶å®ƒAPI</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#shallowrefã€shallowreactive">shallowRefã€shallowReactive</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#readonlyã€shallowreadonly">readonlyã€shallowReadonly</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#torawã€markraw">toRawã€markRaw</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#customref">customRef</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å…¨å±€api">å…¨å±€API</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#app-component">app.component</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#app-directive">app.directive</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#app-use">app.use</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#app-runwithcontext">app.runWithContext</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#app-config">app.config</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#é€šç”¨">é€šç”¨</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ç”Ÿå‘½å‘¨æœŸé’©å­">ç”Ÿå‘½å‘¨æœŸé’©å­</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#æ€»è§ˆ">æ€»è§ˆ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#vue2">vue2</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#vue3">vue3</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å¤šæ¬¡æ‰§è¡Œ">å¤šæ¬¡æ‰§è¡Œ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#è‡ªå®šä¹‰é’©å­å‡½æ•°">è‡ªå®šä¹‰é’©å­å‡½æ•°</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#è·¯ç”±">è·¯ç”±</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#åŸºæœ¬åˆ‡æ¢æ•ˆæœ">åŸºæœ¬åˆ‡æ¢æ•ˆæœ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ä¸¤ä¸ªæ³¨æ„ç‚¹">ä¸¤ä¸ªæ³¨æ„ç‚¹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#è·¯ç”±å™¨å·¥ä½œæ¨¡å¼">è·¯ç”±å™¨å·¥ä½œæ¨¡å¼</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#toçš„å…¶å®ƒå†™æ³•">toçš„å…¶å®ƒå†™æ³•</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#è·¯ç”±å‘½åä¸è·³è½¬">è·¯ç”±å‘½åä¸è·³è½¬</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#åµŒå¥—è·¯ç”±">åµŒå¥—è·¯ç”±</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#è·¯ç”±ä¼ å‚">è·¯ç”±ä¼ å‚</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#è·¯ç”±çš„propsé…ç½®">è·¯ç”±çš„propsé…ç½®</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#replaceå±æ€§">replaceå±æ€§</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª">ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#é‡å®šå‘">é‡å®šå‘</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ç»„ä»¶é€šä¿¡">ç»„ä»¶é€šä¿¡</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#props-1">props</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#è‡ªå®šä¹‰äº‹ä»¶emit">è‡ªå®šä¹‰äº‹ä»¶emit</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#mitt">mitt</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#v-model-1">v-model</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#attrs">$attrs</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#refs-parent">$refs $parent</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#provideã€inject">provideã€inject</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#slot">slot</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#pinia">pinia</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#æ­å»ºç¯å¢ƒ">æ­å»ºç¯å¢ƒ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å­˜å‚¨ã€è¯»å–æ•°æ®">å­˜å‚¨ã€è¯»å–æ•°æ®</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ä¿®æ”¹å±æ€§">ä¿®æ”¹å±æ€§</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#storetorefs">storeToRefs</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#getters">getters</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#subscribe">$subscribe</a></li><!----><!--]--></ul></li><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content"><h2 id="å‡†å¤‡çŸ¥è¯†" tabindex="-1"><a class="header-anchor" href="#å‡†å¤‡çŸ¥è¯†"><span>å‡†å¤‡çŸ¥è¯†</span></a></h2><h3 id="æ–‡ä»¶ç»“æ„" tabindex="-1"><a class="header-anchor" href="#æ–‡ä»¶ç»“æ„"><span>æ–‡ä»¶ç»“æ„</span></a></h3><h4 id="vue-ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#vue-ç»„ä»¶"><span>Vue ç»„ä»¶</span></a></h4><p>Vue çš„ç»„ä»¶æ–‡ä»¶ä»¥ .vue ç»“å°¾ï¼Œæ¯ä¸ªç»„ä»¶ç”±ä¸‰éƒ¨åˆ†ç»„æˆ</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>script ä»£ç éƒ¨åˆ†ï¼Œæ§åˆ¶æ¨¡æ¿çš„æ•°æ®æ¥æºå’Œè¡Œä¸º</li><li>template æ¨¡æ¿éƒ¨åˆ†ï¼Œç”±å®ƒç”Ÿæˆ html ä»£ç </li><li>style æ ·å¼éƒ¨åˆ†ï¼Œä¸€èˆ¬ä¸å’‹å…³å¿ƒ</li></ul><h4 id="åˆå§‹3æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#åˆå§‹3æ–‡ä»¶"><span>åˆå§‹3æ–‡ä»¶</span></a></h4><p><code>index.html</code> ä½œä¸ºåº”ç”¨ç¨‹åºçš„å…¥å£æ–‡ä»¶ï¼Œå¼•å…¥äº† <code>main.ts</code>ï¼Œè€Œ <code>main.ts</code> åˆ›å»ºäº†ä¸€ä¸ª Vue å®ä¾‹ï¼Œå¹¶å°† <code>App.vue</code> ä½œä¸ºæ ¹ç»„ä»¶ä¼ é€’ç»™è¿™ä¸ªå®ä¾‹ã€‚æœ€ç»ˆï¼Œ<code>App.vue</code> åŒ…å«äº†åº”ç”¨ç¨‹åºçš„æ•´ä½“ç»“æ„å’Œé€»è¾‘ã€‚</p><h5 id="app-vue" tabindex="-1"><a class="header-anchor" href="#app-vue"><span>App.vue</span></a></h5><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- åº”ç”¨ç¨‹åºçš„ç»“æ„å’Œé€»è¾‘ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>	<span class="token comment">// ES6æ–°å¢çš„å¯¼å‡ºè¯­æ³•</span>
  <span class="token comment">// ç»„ä»¶çš„é€‰é¡¹å’Œé€»è¾‘</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token comment">/* ç»„ä»¶çš„æ ·å¼ */</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="index-html" tabindex="-1"><a class="header-anchor" href="#index-html"><span>index.html</span></a></h5><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">&quot;en&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">&quot;UTF-8&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>Vue App<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span> <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> æ ¹å®¹å™¨å…ƒç´  <span class="token operator">--</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;main.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span> <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> ä¸»è¦è„šæœ¬æ–‡ä»¶ <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="main-ts" tabindex="-1"><a class="header-anchor" href="#main-ts"><span>main.ts</span></a></h5><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span><span class="token punctuation">;</span>

<span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åˆ›å»º Vue å®ä¾‹å¹¶æŒ‚è½½åˆ°æ ¹å®¹å™¨å…ƒç´ </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>createApp æ˜¯åˆ›å»ºä¸€ä¸ª Vue åº”ç”¨ç¨‹åºï¼Œå®ƒæ¥æ”¶çš„å‚æ•° App å³ä¹‹å‰æˆ‘ä»¬çœ‹åˆ°çš„æ ¹ç»„ä»¶</li><li>mount å°±æ˜¯æŠŠæ ¹ç»„ä»¶ç”Ÿæˆçš„ html ä»£ç ç‰‡æ®µã€æŒ‚è½½ã€‘åˆ° index.html ä¸­ id ä¸º app çš„ html å…ƒç´ ä¸Š</li></ul><h4 id="è‡ªå®šä¹‰ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#è‡ªå®šä¹‰ç»„ä»¶"><span>è‡ªå®šä¹‰ç»„ä»¶</span></a></h4><p>componentsæ–‡ä»¶å¤¹ç”¨äºåˆ›å»ºè‡ªå®šä¹‰ç»„ä»¶ï¼Œè€Œåå¼•å…¥App.vueä¸­ä½¿ç”¨ã€‚</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">

<span class="token keyword">import</span> <span class="token punctuation">{</span>ref<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> username <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;root&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> password <span class="token operator">=</span> <span class="token string">&#39;123456&#39;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;username.vue&#39;</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>===================== User.vue ===========================<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    è´¦æˆ·ï¼š{{ username }} å¯†ç ï¼š{{ password }}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Person</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Person</span><span class="token punctuation">/&gt;</span></span>	<span class="token comment">&lt;!-- å¯ä»¥é‡å¤å†™å¤šä¸ªç»„ä»¶ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>User</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>User</span><span class="token punctuation">&gt;</span></span>	<span class="token comment">&lt;!-- å•æ ‡ç­¾ã€åŒæ ‡ç­¾éƒ½å¯ä»¥ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">// å¼•å…¥è‡ªå®šä¹‰çš„ç»„ä»¶</span>
<span class="token keyword">import</span> Person <span class="token keyword">from</span> <span class="token string">&#39;./components/Person.vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> User <span class="token keyword">from</span> <span class="token string">&quot;./components/User.vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;App&#39;</span><span class="token punctuation">,</span>	<span class="token comment">// å®šä¹‰äº†å½“å‰ç»„ä»¶çš„åç§°ä¸º &quot;App&quot;ã€‚è¿™ä¸ªåç§°å¯ä»¥åœ¨å¼€å‘è€…å·¥å…·ä¸­ç”¨äºè°ƒè¯•å’Œè¯†åˆ«ç»„ä»¶ã€‚</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>	<span class="token comment">// æ³¨å†Œå’Œå¯¼å…¥å…¶ä»–ç»„ä»¶ï¼Œä»¥ä¾¿åœ¨å½“å‰ç»„ä»¶ä¸­ä½¿ç”¨ã€‚</span>
    <span class="token comment">// ä½¿ç”¨Personã€Userç»„ä»¶</span>
    Person<span class="token punctuation">,</span>
    User
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">*</span> <span class="token punctuation">{</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> å¾®è½¯é›…é»‘<span class="token punctuation">,</span>serif<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ç»„ä»¶åæ ¼å¼" tabindex="-1"><a class="header-anchor" href="#ç»„ä»¶åæ ¼å¼"><span>ç»„ä»¶åæ ¼å¼</span></a></h4><p>ä½¿ç”¨ PascalCase ä½œä¸ºç»„ä»¶åçš„æ³¨å†Œæ ¼å¼ï¼Œè¿™æ˜¯å› ä¸ºï¼š</p><ol><li><code>PascalCase</code> æ˜¯åˆæ³•çš„ JavaScript æ ‡è¯†ç¬¦ã€‚è¿™ä½¿å¾—åœ¨ JavaScript ä¸­å¯¼å…¥å’Œæ³¨å†Œç»„ä»¶éƒ½å¾ˆå®¹æ˜“ï¼ŒåŒæ—¶ IDE ä¹Ÿèƒ½æä¾›è¾ƒå¥½çš„è‡ªåŠ¨è¡¥å…¨ã€‚</li><li><code>&lt;PascalCase /&gt;</code> åœ¨æ¨¡æ¿ä¸­æ›´æ˜æ˜¾åœ°è¡¨æ˜äº†è¿™æ˜¯ä¸€ä¸ª Vue ç»„ä»¶ï¼Œè€Œä¸æ˜¯åŸç”Ÿ HTML å…ƒç´ ã€‚åŒæ—¶ä¹Ÿèƒ½å°† Vue ç»„ä»¶å’Œè‡ªå®šä¹‰å…ƒç´  (web components) åŒºåˆ†å¼€æ¥ã€‚</li></ol><p>åœ¨å•æ–‡ä»¶ç»„ä»¶å’Œå†…è”å­—ç¬¦ä¸²æ¨¡æ¿ä¸­ï¼Œæˆ‘ä»¬éƒ½æ¨èè¿™æ ·åšã€‚ä½†æ˜¯ï¼ŒPascalCase çš„æ ‡ç­¾ååœ¨ DOM å†…æ¨¡æ¿ä¸­æ˜¯ä¸å¯ç”¨çš„ï¼Œè¯¦æƒ…å‚è§ <a href="https://cn.vuejs.org/guide/essentials/component-basics.html#in-dom-template-parsing-caveats" target="_blank" rel="noopener noreferrer">DOM å†…æ¨¡æ¿è§£ææ³¨æ„äº‹é¡¹</a>ã€‚<br> ä¸ºäº†æ–¹ä¾¿ï¼ŒVue æ”¯æŒå°†æ¨¡æ¿ä¸­ä½¿ç”¨ kebab-case çš„æ ‡ç­¾è§£æä¸ºä½¿ç”¨ PascalCase æ³¨å†Œçš„ç»„ä»¶ã€‚è¿™æ„å‘³ç€ä¸€ä¸ªä»¥ <code>MyComponent</code> ä¸ºåæ³¨å†Œçš„ç»„ä»¶ï¼Œåœ¨æ¨¡æ¿ä¸­å¯ä»¥é€šè¿‡ <code>&lt;MyComponent&gt;</code> æˆ– <code>&lt;my-component&gt;</code> å¼•ç”¨ã€‚è¿™è®©æˆ‘ä»¬èƒ½å¤Ÿä½¿ç”¨åŒæ ·çš„ JavaScript ç»„ä»¶æ³¨å†Œä»£ç æ¥é…åˆä¸åŒæ¥æºçš„æ¨¡æ¿ã€‚</p><h3 id="vite-config-ts" tabindex="-1"><a class="header-anchor" href="#vite-config-ts"><span>vite.config.ts</span></a></h3><p>æ–‡æ¡£åœ°å€ï¼š<a href="https://vitejs.cn/config/#server-proxy" target="_blank" rel="noopener noreferrer">é…ç½® Vite {#configuring-vite} | Viteä¸­æ–‡ç½‘ (vitejs.cn)</a><br><code>vite.config.ts</code> ä¸­çš„è·¯å¾„åˆ«åé…ç½®æ˜¯é’ˆå¯¹ Vite æ„å»ºå·¥å…·çš„ï¼Œä¸»è¦ç”¨äºåœ¨æ„å»ºé˜¶æ®µè§£ææ¨¡å—å¯¼å…¥è·¯å¾„ã€‚</p><h4 id="ä¿®æ”¹ç«¯å£" tabindex="-1"><a class="header-anchor" href="#ä¿®æ”¹ç«¯å£"><span>ä¿®æ”¹ç«¯å£</span></a></h4><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vite&#39;</span>
<span class="token keyword">import</span> vue <span class="token keyword">from</span> <span class="token string">&#39;@vitejs/plugin-vue&#39;</span>

<span class="token comment">// https://vitejs.dev/config/</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  server<span class="token operator">:</span> <span class="token punctuation">{</span>
    port<span class="token operator">:</span> <span class="token number">7070</span><span class="token punctuation">,</span>  <span class="token comment">//è®¾ç½®ç›‘å¬ç«¯å£å‘³7070</span>
    host<span class="token operator">:</span> <span class="token string">&quot;0.0.0.0&quot;</span> <span class="token comment">//ç½‘ç»œä¸­çš„å…¶å®ƒä¸»æœºä¹Ÿå¯è®¿é—®è¯¥ç«¯å£</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æ–‡ä»¶å¤¹åˆ«å" tabindex="-1"><a class="header-anchor" href="#æ–‡ä»¶å¤¹åˆ«å"><span>æ–‡ä»¶å¤¹åˆ«å</span></a></h4><h5 id="é…ç½®" tabindex="-1"><a class="header-anchor" href="#é…ç½®"><span>é…ç½®</span></a></h5><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vite&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> resolve <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;path&#39;</span>

<span class="token comment">/* è·¯å¾„é…ç½®
  const pathResolve = (dir: string): any =&gt; {
      return resolve(__dirname, &quot;.&quot;, dir)
  }
  const alias: Record&lt;string, string&gt; = {
      &#39;@&#39;: pathResolve(&#39;src&#39;)
  è¿™æ ·å­ä¸‹é¢çš„aliaså°±ä¸ç”¨å†™ ï¼š{...} äº†
}*/</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
        alias<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string-property property">&quot;@&quot;</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;src&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string-property property">&quot;@c&quot;</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;src/components&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>resolve: è¿™æ˜¯Node.jsçš„ path æ¨¡å—æä¾›çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºå°†è·¯å¾„ç‰‡æ®µè§£æä¸ºç»å¯¹è·¯å¾„ã€‚</li><li>alias: åœ¨Viteé…ç½®ä¸­çš„ resolve.alias æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒå®šä¹‰äº†å¦‚ä½•å°†å¯¼å…¥çš„åˆ«åè§£æä¸ºå¯¹åº”çš„è·¯å¾„ã€‚ <ul><li>&#39;@&#39;: resolve(__dirname, &#39;./src&#39;): è¿™é‡Œå®šä¹‰äº†è·¯å¾„åˆ«å @ï¼Œå®ƒè¢«è§£æä¸ºé¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ src æ–‡ä»¶å¤¹çš„ç»å¯¹è·¯å¾„ã€‚__dirname æ˜¯Node.jsä¸­çš„ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå®ƒè¿”å›å½“å‰æ‰§è¡Œæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ã€‚Viteåœ¨æ„å»ºæ—¶ä¼šä½¿ç”¨è¿™ä¸ªåˆ«åï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥åœ¨é¡¹ç›®ä¸­çš„ä»»ä½•æ–‡ä»¶é‡Œä½¿ç”¨ import æˆ– require è¯­æ³•æ—¶ä½¿ç”¨ @ æ¥å¼•ç”¨ src ç›®å½•ã€‚</li></ul></li></ul><h5 id="å¯èƒ½å‡ºç°çš„é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#å¯èƒ½å‡ºç°çš„é—®é¢˜"><span>å¯èƒ½å‡ºç°çš„é—®é¢˜</span></a></h5><p><code>import { resolve } from &#39;path&#39;</code> è¿™ä¸€è¡Œå¯èƒ½ä¼šçˆ†çº¢ï¼ˆä½†ä¸å½±å“æ‰§è¡Œï¼‰</p><ul><li>åŸå› 1ï¼špathæ¨¡å—æ˜¯node.jså†…ç½®çš„åŠŸèƒ½ï¼Œä½†æ˜¯node.jsæœ¬èº«å¹¶ä¸æ”¯æŒts<br> è§£å†³æ–¹æ¡ˆï¼šå®‰è£…@types/node</li></ul><p><code>npm install @types/node -D</code></p><blockquote><p>åœ¨è¿è¡Œ <code>npm install @types/node -D</code> å‘½ä»¤æ—¶ï¼Œ<code>-D</code> æ˜¯ npm install å‘½ä»¤ä¸­çš„ä¸€ä¸ªé€‰é¡¹ï¼Œè¡¨ç¤ºå°†åŒ…å®‰è£…ä¸ºå¼€å‘ä¾èµ–ï¼ˆdevDependenciesï¼‰ã€‚<br> å…·ä½“æ¥è¯´ï¼š</p><ul><li><code>-D</code> æˆ– <code>--save-dev</code> é€‰é¡¹ä¼šå°†åŒ…å®‰è£…åˆ° <code>package.json</code> æ–‡ä»¶ä¸­çš„ <code>devDependencies</code> å­—æ®µä¸‹ã€‚</li><li>å¼€å‘ä¾èµ–é€šå¸¸æ˜¯æŒ‡åœ¨å¼€å‘é˜¶æ®µéœ€è¦ç”¨åˆ°çš„åŒ…ï¼Œæ¯”å¦‚ TypeScript çš„ç±»å‹å£°æ˜æ–‡ä»¶ã€ä»£ç æ£€æŸ¥å·¥å…·ã€æ„å»ºå·¥å…·ç­‰ã€‚è¿™äº›ä¾èµ–åœ¨é¡¹ç›®éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒæ—¶é€šå¸¸æ˜¯ä¸éœ€è¦çš„ï¼Œåªåœ¨å¼€å‘å’Œæ„å»ºè¿‡ç¨‹ä¸­ä½¿ç”¨ã€‚</li></ul></blockquote><p>å› æ­¤ï¼Œé€šè¿‡åœ¨ <code>npm install</code> å‘½ä»¤ä¸­ä½¿ç”¨ <code>-D</code> é€‰é¡¹ï¼Œå®‰è£…çš„åŒ…å°†è¢«æ·»åŠ åˆ° <code>devDependencies</code> ä¸­ï¼Œè€Œä¸æ˜¯ <code>dependencies</code> ä¸­ï¼Œä»è€Œæ›´æ¸…æ™°åœ°åŒºåˆ†å‡ºå¼€å‘ä¾èµ–å’Œç”Ÿäº§ä¾èµ–ã€‚</p><ul><li>åŸå› 2ï¼šæœ¬åœ°node_moduleså·²ç»å­˜åœ¨@types/nodeåŒ…ï¼Œè¿˜æ˜¯æ‰¾ä¸åˆ°å¯¹åº”çš„fsæ¨¡å—</li></ul><p>è§£å†³æ–¹æ¡ˆï¼šæ£€æŸ¥typescriptå¯¹åº”çš„ç¼–è¯‘é…ç½®æ–‡ä»¶tsconfig.jsonä¸­æ˜¯å¦é…ç½®äº†å¯¹åº”çš„å£°æ˜åŒ…æ–‡ä»¶ï¼ˆ@types/nodeï¼‰</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code>  <span class="token property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;webpack-env&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;mocha&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;chai&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;node&quot;</span>	<span class="token comment">// â˜†</span>
    <span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="é…ç½®ä»£ç†" tabindex="-1"><a class="header-anchor" href="#é…ç½®ä»£ç†"><span>é…ç½®ä»£ç†</span></a></h4><p>ä¸ºäº†é¿å…å‰åç«¯æœåŠ¡å™¨è”è°ƒæ—¶ï¼Œ fetchã€xhr è¯·æ±‚äº§ç”Ÿè·¨åŸŸé—®é¢˜ï¼Œéœ€è¦é…ç½®ä»£ç†ã€‚</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vite&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  server<span class="token operator">:</span> <span class="token punctuation">{</span>
    port<span class="token operator">:</span> <span class="token number">7070</span><span class="token punctuation">,</span>
    proxy<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&#39;/api&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        target<span class="token operator">:</span> <span class="token string">&#39;http://localhost:8080&#39;</span><span class="token punctuation">,</span>
        changeOrigin<span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="tsconfig-json" tabindex="-1"><a class="header-anchor" href="#tsconfig-json"><span>tsconfig.json</span></a></h3><h4 id="é…ç½®è¯¦è§£" tabindex="-1"><a class="header-anchor" href="#é…ç½®è¯¦è§£"><span>é…ç½®è¯¦è§£</span></a></h4><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;incremental&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// TSç¼–è¯‘å™¨åœ¨ç¬¬ä¸€æ¬¡ç¼–è¯‘ä¹‹åä¼šç”Ÿæˆä¸€ä¸ªå­˜å‚¨ç¼–è¯‘ä¿¡æ¯çš„æ–‡ä»¶ï¼Œç¬¬äºŒæ¬¡ç¼–è¯‘ä¼šåœ¨ç¬¬ä¸€æ¬¡çš„åŸºç¡€ä¸Šè¿›è¡Œå¢é‡ç¼–è¯‘ï¼Œå¯ä»¥æé«˜ç¼–è¯‘çš„é€Ÿåº¦</span>
  <span class="token property">&quot;tsBuildInfoFile&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./buildFile&quot;</span><span class="token punctuation">,</span> <span class="token comment">// å¢é‡ç¼–è¯‘æ–‡ä»¶çš„å­˜å‚¨ä½ç½®</span>
  <span class="token property">&quot;diagnostics&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// æ‰“å°è¯Šæ–­ä¿¡æ¯ </span>
  <span class="token property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ES5&quot;</span><span class="token punctuation">,</span> <span class="token comment">// ç›®æ ‡è¯­è¨€çš„ç‰ˆæœ¬</span>
  <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;CommonJS&quot;</span><span class="token punctuation">,</span> <span class="token comment">// ç”Ÿæˆä»£ç çš„æ¨¡æ¿æ ‡å‡†</span>
  <span class="token property">&quot;outFile&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./app.js&quot;</span><span class="token punctuation">,</span> <span class="token comment">// å°†å¤šä¸ªç›¸äº’ä¾èµ–çš„æ–‡ä»¶ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥ç”¨åœ¨AMDæ¨¡å—ä¸­ï¼Œå³å¼€å¯æ—¶åº”è®¾ç½®&quot;module&quot;: &quot;AMD&quot;,</span>
  <span class="token property">&quot;lib&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;DOM&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ES2015&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ScriptHost&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ES2019.Array&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// TSéœ€è¦å¼•ç”¨çš„åº“ï¼Œå³å£°æ˜æ–‡ä»¶ï¼Œes5 é»˜è®¤å¼•ç”¨domã€es5ã€scripthost,å¦‚éœ€è¦ä½¿ç”¨esçš„é«˜çº§ç‰ˆæœ¬ç‰¹æ€§ï¼Œé€šå¸¸éƒ½éœ€è¦é…ç½®ï¼Œå¦‚es8çš„æ•°ç»„æ–°ç‰¹æ€§éœ€è¦å¼•å…¥&quot;ES2019.Array&quot;,</span>
  <span class="token property">&quot;allowJS&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// å…è®¸ç¼–è¯‘å™¨ç¼–è¯‘JSï¼ŒJSXæ–‡ä»¶</span>
  <span class="token property">&quot;checkJs&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// å…è®¸åœ¨JSæ–‡ä»¶ä¸­æŠ¥é”™ï¼Œé€šå¸¸ä¸allowJSä¸€èµ·ä½¿ç”¨</span>
  <span class="token property">&quot;outDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist&quot;</span><span class="token punctuation">,</span> <span class="token comment">// æŒ‡å®šè¾“å‡ºç›®å½•</span>
  <span class="token property">&quot;rootDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span> <span class="token comment">// æŒ‡å®šè¾“å‡ºæ–‡ä»¶ç›®å½•(ç”¨äºè¾“å‡º)ï¼Œç”¨äºæ§åˆ¶è¾“å‡ºç›®å½•ç»“æ„</span>
  <span class="token property">&quot;declaration&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// ç”Ÿæˆå£°æ˜æ–‡ä»¶ï¼Œå¼€å¯åä¼šè‡ªåŠ¨ç”Ÿæˆå£°æ˜æ–‡ä»¶</span>
  <span class="token property">&quot;declarationDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./file&quot;</span><span class="token punctuation">,</span> <span class="token comment">// æŒ‡å®šç”Ÿæˆå£°æ˜æ–‡ä»¶å­˜æ”¾ç›®å½•</span>
  <span class="token property">&quot;emitDeclarationOnly&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// åªç”Ÿæˆå£°æ˜æ–‡ä»¶ï¼Œè€Œä¸ä¼šç”Ÿæˆjsæ–‡ä»¶</span>
  <span class="token property">&quot;sourceMap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// ç”Ÿæˆç›®æ ‡æ–‡ä»¶çš„sourceMapæ–‡ä»¶</span>
  <span class="token property">&quot;inlineSourceMap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// ç”Ÿæˆç›®æ ‡æ–‡ä»¶çš„inline SourceMapï¼Œinline SourceMapä¼šåŒ…å«åœ¨ç”Ÿæˆçš„jsæ–‡ä»¶ä¸­</span>
  <span class="token property">&quot;declarationMap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// ä¸ºå£°æ˜æ–‡ä»¶ç”ŸæˆsourceMap</span>
  <span class="token property">&quot;typeRoots&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// å£°æ˜æ–‡ä»¶ç›®å½•ï¼Œé»˜è®¤æ—¶node_modules/@types</span>
  <span class="token property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// åŠ è½½çš„å£°æ˜æ–‡ä»¶åŒ…</span>
  <span class="token property">&quot;removeComments&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// åˆ é™¤æ³¨é‡Š </span>
  <span class="token property">&quot;noEmit&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// ä¸è¾“å‡ºæ–‡ä»¶,å³ç¼–è¯‘åä¸ä¼šç”Ÿæˆä»»ä½•jsæ–‡ä»¶</span>
  <span class="token property">&quot;noEmitOnError&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// å‘é€é”™è¯¯æ—¶ä¸è¾“å‡ºä»»ä½•æ–‡ä»¶</span>
  <span class="token property">&quot;noEmitHelpers&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// ä¸ç”Ÿæˆhelperå‡½æ•°ï¼Œå‡å°ä½“ç§¯ï¼Œéœ€è¦é¢å¤–å®‰è£…ï¼Œå¸¸é…åˆimportHelpersä¸€èµ·ä½¿ç”¨</span>
  <span class="token property">&quot;importHelpers&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// é€šè¿‡tslibå¼•å…¥helperå‡½æ•°ï¼Œæ–‡ä»¶å¿…é¡»æ˜¯æ¨¡å—</span>
  <span class="token property">&quot;downlevelIteration&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// é™çº§éå†å™¨å®ç°ï¼Œå¦‚æœç›®æ ‡æºæ˜¯es3/5ï¼Œé‚£ä¹ˆéå†å™¨ä¼šæœ‰é™çº§çš„å®ç°</span>
  <span class="token property">&quot;strict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// å¼€å¯æ‰€æœ‰ä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥</span>
  <span class="token property">&quot;jsx&quot;</span><span class="token operator">:</span> <span class="token string">&quot;preserve&quot;</span><span class="token punctuation">,</span> <span class="token comment">// æŒ‡å®š jsx æ ¼å¼</span>
  <span class="token property">&quot;resolveJsonModule&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//è®¾ç½®trueåˆ™å¯ä»¥ç›´æ¥importå¯¼å…¥æœ¬åœ°çš„jsonæ–‡ä»¶,ä¾‹å¦‚import pathOptions from &#39;./table.json&#39;</span>
  <span class="token property">&quot;alwaysStrict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// åœ¨ä»£ç ä¸­æ³¨å…¥&#39;use strict&#39;</span>
  <span class="token property">&quot;noImplicitAny&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// ä¸å…è®¸éšå¼çš„anyç±»å‹</span>
  <span class="token property">&quot;strictNullChecks&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// ä¸å…è®¸æŠŠnullã€undefinedèµ‹å€¼ç»™å…¶ä»–ç±»å‹çš„å˜é‡</span>
  <span class="token property">&quot;strictFunctionTypes&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// ä¸å…è®¸å‡½æ•°å‚æ•°åŒå‘åå˜</span>
  <span class="token property">&quot;strictPropertyInitialization&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// ç±»çš„å®ä¾‹å±æ€§å¿…é¡»åˆå§‹åŒ–</span>
  <span class="token property">&quot;strictBindCallApply&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// ä¸¥æ ¼çš„bind/call/applyæ£€æŸ¥</span>
  <span class="token property">&quot;noImplicitThis&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// ä¸å…è®¸thisæœ‰éšå¼çš„anyç±»å‹</span>
  <span class="token property">&quot;noUnusedLocals&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// æ£€æŸ¥åªå£°æ˜ã€æœªä½¿ç”¨çš„å±€éƒ¨å˜é‡(åªæç¤ºä¸æŠ¥é”™)</span>
  <span class="token property">&quot;noUnusedParameters&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// æ£€æŸ¥æœªä½¿ç”¨çš„å‡½æ•°å‚æ•°(åªæç¤ºä¸æŠ¥é”™)</span>
  <span class="token property">&quot;noFallthroughCasesInSwitch&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// é˜²æ­¢switchè¯­å¥è´¯ç©¿(å³å¦‚æœæ²¡æœ‰breakè¯­å¥åé¢ä¸ä¼šæ‰§è¡Œ)</span>
  <span class="token property">&quot;noImplicitReturns&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//æ¯ä¸ªåˆ†æ”¯éƒ½ä¼šæœ‰è¿”å›å€¼</span>
  <span class="token property">&quot;esModuleInterop&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// å…è®¸export=å¯¼å‡ºï¼Œç”±import from å¯¼å…¥</span>
  <span class="token property">&quot;allowUmdGlobalAccess&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// å…è®¸åœ¨æ¨¡å—ä¸­å…¨å±€å˜é‡çš„æ–¹å¼è®¿é—®umdæ¨¡å—</span>
  <span class="token property">&quot;moduleResolution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node&quot;</span><span class="token punctuation">,</span> <span class="token comment">// æ¨¡å—è§£æç­–ç•¥ï¼Œtsé»˜è®¤ç”¨nodeçš„è§£æç­–ç•¥ï¼Œå³ç›¸å¯¹çš„æ–¹å¼å¯¼å…¥</span>
  <span class="token property">&quot;baseUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span> <span class="token comment">// è§£æéç›¸å¯¹æ¨¡å—çš„åŸºåœ°å€ï¼Œé»˜è®¤æ˜¯å½“å‰ç›®å½•</span>
  <span class="token property">&quot;paths&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// è·¯å¾„æ˜ å°„ï¼Œç›¸å¯¹äºbaseUrl</span>
    <span class="token comment">// å¦‚ä½¿ç”¨jqæ—¶ä¸æƒ³ä½¿ç”¨é»˜è®¤ç‰ˆæœ¬ï¼Œè€Œéœ€è¦æ‰‹åŠ¨æŒ‡å®šç‰ˆæœ¬ï¼Œå¯è¿›è¡Œå¦‚ä¸‹é…ç½®</span>
    <span class="token property">&quot;jquery&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;node_modules/jquery/dist/jquery.min.js&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rootDirs&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;src&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;out&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// å°†å¤šä¸ªç›®å½•æ”¾åœ¨ä¸€ä¸ªè™šæ‹Ÿç›®å½•ä¸‹ï¼Œç”¨äºè¿è¡Œæ—¶ï¼Œå³ç¼–è¯‘åå¼•å…¥æ–‡ä»¶çš„ä½ç½®å¯èƒ½å‘ç”Ÿå˜åŒ–ï¼Œè¿™ä¹Ÿè®¾ç½®å¯ä»¥è™šæ‹Ÿsrcå’Œoutåœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ï¼Œä¸ç”¨å†å»æ”¹å˜è·¯å¾„ä¹Ÿä¸ä¼šæŠ¥é”™</span>
  <span class="token property">&quot;listEmittedFiles&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// æ‰“å°è¾“å‡ºæ–‡ä»¶</span>
  <span class="token property">&quot;listFiles&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token comment">// æ‰“å°ç¼–è¯‘çš„æ–‡ä»¶(åŒ…æ‹¬å¼•ç”¨çš„å£°æ˜æ–‡ä»¶)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æ–‡ä»¶å¤¹åˆ«å-1" tabindex="-1"><a class="header-anchor" href="#æ–‡ä»¶å¤¹åˆ«å-1"><span>æ–‡ä»¶å¤¹åˆ«å</span></a></h4><p><code>tsconfig.json</code> ä¸­çš„è·¯å¾„åˆ«åé…ç½®æ˜¯é’ˆå¯¹ TypeScript ç¼–è¯‘å™¨çš„ï¼Œä¸»è¦ç”¨äºåœ¨ç¼–è¯‘é˜¶æ®µè§£ææ¨¡å—å¯¼å…¥è·¯å¾„ã€‚</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;baseUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;paths&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;@/*&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;./src/*&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>&quot;baseUrl&quot;: &quot;./&quot;: è¿™ä¸€è¡Œè®¾ç½®äº†æ¨¡å—è§£æçš„åŸºæœ¬ç›®å½•ä¸ºå½“å‰ç›®å½•ï¼ˆè¿™é€šå¸¸æ˜¯é¡¹ç›®æ ¹ç›®å½•ï¼‰ã€‚è¿™æ„å‘³ç€ç›¸å¯¹è·¯å¾„çš„å¯¼å…¥å°†ç›¸å¯¹äºè¿™ä¸ªç›®å½•è¿›è¡Œè§£æã€‚</li><li>&quot;paths&quot;: è¿™ä¸ªå¯¹è±¡æä¾›äº†ä¸€ä¸ªæ˜ å°„ï¼Œç”¨äºå°†æ¨¡å—åï¼ˆä¾‹å¦‚ @/...ï¼‰è½¬æ¢ä¸ºå¯¹åº”çš„è·¯å¾„ï¼ˆç›¸å¯¹äº baseUrlï¼‰ã€‚ <ul><li>&quot;@/<em>&quot;: [&quot;./src/</em>&quot;]: è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªè·¯å¾„åˆ«å @ï¼Œå®ƒæ˜ å°„åˆ° src ç›®å½•ã€‚è¿™æ ·ï¼Œä½ å¯ä»¥åœ¨é¡¹ç›®ä¸­çš„ä»»ä½•TypeScriptæ–‡ä»¶é‡Œä½¿ç”¨åƒ import something from &#39;@/utils/my-module&#39; è¿™æ ·çš„è¯­æ³•ï¼Œæ¥ä»£æ›¿ç›¸å¯¹è·¯å¾„çš„å¯¼å…¥ï¼ŒTypeScriptç¼–è¯‘å™¨ä¼šå°† @ è§£æä¸º src ç›®å½•ã€‚åœ¨è·¯å¾„æ˜ å°„ä¸­ï¼Œæ˜Ÿå·ï¼ˆ*ï¼‰æ˜¯ä¸€ä¸ªé€šé…ç¬¦ï¼Œå®ƒä»£è¡¨äº†åˆ«ååé¢çš„æ‰€æœ‰è·¯å¾„éƒ¨åˆ†ã€‚</li></ul></li></ul><p>å¦‚æœbaseUrlè®¾ç½®ä¸º&#39;src&#39;,é‚£pathså°±åº”è¯¥é…ç½®ä¸º{&quot;@/<em>&quot;: &quot;./</em>&quot;},å¦‚ä¸‹ï¼š</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token property">&quot;baseUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;src&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;paths&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;@/*&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;./*&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é…ç½®å®Œæˆåï¼Œå¼•å…¥æ—¶å°±å¯ä»¥ç®€å†™äº†ã€‚ä¾‹å¦‚è¦å¼•å…¥<code>src/types/index.ts</code>ä¸­çš„è‡ªå®šä¹‰ç±»å‹ï¼Œå°±å¯ä»¥åœ¨vueç»„ä»¶ä¸­<code>import {type Children} from &quot;@/types&quot;</code></p><h2 id="åŸºç¡€å†…å®¹" tabindex="-1"><a class="header-anchor" href="#åŸºç¡€å†…å®¹"><span>åŸºç¡€å†…å®¹</span></a></h2><h3 id="æŒ‡ä»¤-directives" tabindex="-1"><a class="header-anchor" href="#æŒ‡ä»¤-directives"><span>æŒ‡ä»¤ Directives</span></a></h3><p>æŒ‡ä»¤æ˜¯å¸¦æœ‰ v- å‰ç¼€çš„ç‰¹æ®Š attributeã€‚Vue æä¾›äº†è®¸å¤š<a href="https://cn.vuejs.org/api/built-in-directives.html" target="_blank" rel="noopener noreferrer">å†…ç½®æŒ‡ä»¤</a>ï¼ŒåŒ…æ‹¬ä¸Šé¢æˆ‘ä»¬æ‰€ä»‹ç»çš„ v-bind å’Œ v-htmlã€‚<br> æŒ‡ä»¤ attribute çš„æœŸæœ›å€¼ä¸ºä¸€ä¸ª JavaScript è¡¨è¾¾å¼ (é™¤äº†å°‘æ•°å‡ ä¸ªä¾‹å¤–ï¼Œå³ä¹‹åè¦è®¨è®ºåˆ°çš„ v-forã€v-on å’Œ v-slot)ã€‚ä¸€ä¸ªæŒ‡ä»¤çš„ä»»åŠ¡æ˜¯åœ¨å…¶è¡¨è¾¾å¼çš„å€¼å˜åŒ–æ—¶å“åº”å¼åœ°æ›´æ–° DOMã€‚ä»¥ <a href="https://cn.vuejs.org/api/built-in-directives.html#v-if" target="_blank" rel="noopener noreferrer">v-if</a> ä¸ºä¾‹ï¼š</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>seen<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Now you see me<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™é‡Œï¼Œv-if æŒ‡ä»¤ä¼šåŸºäºè¡¨è¾¾å¼ seen çš„å€¼çš„çœŸå‡æ¥ç§»é™¤/æ’å…¥è¯¥ <code>&lt;p&gt;</code> å…ƒç´ ã€‚</p><h4 id="å‚æ•°-arguments" tabindex="-1"><a class="header-anchor" href="#å‚æ•°-arguments"><span>å‚æ•° Arguments</span></a></h4><p>æŸäº›æŒ‡ä»¤ä¼šéœ€è¦ä¸€ä¸ªâ€œå‚æ•°â€ï¼Œåœ¨æŒ‡ä»¤ååé€šè¿‡ä¸€ä¸ªå†’å·éš”å¼€åšæ ‡è¯†ã€‚ä¾‹å¦‚ç”¨ v-bind æŒ‡ä»¤æ¥å“åº”å¼åœ°æ›´æ–°ä¸€ä¸ª HTML attributeï¼š</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> ... <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- ç®€å†™ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">:href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> ... <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™é‡Œ href å°±æ˜¯ä¸€ä¸ªå‚æ•°ï¼Œå®ƒå‘Šè¯‰ v-bind æŒ‡ä»¤å°†è¡¨è¾¾å¼ url çš„å€¼ç»‘å®šåˆ°å…ƒç´ çš„ <code>href</code>attribute ä¸Šã€‚åœ¨ç®€å†™ä¸­ï¼Œå‚æ•°å‰çš„ä¸€åˆ‡ (ä¾‹å¦‚ v-bind:) éƒ½ä¼šè¢«ç¼©ç•¥ä¸ºä¸€ä¸ª <code>:</code> å­—ç¬¦ã€‚<br> å¦ä¸€ä¸ªä¾‹å­æ˜¯ v-on æŒ‡ä»¤ï¼Œå®ƒå°†ç›‘å¬ DOM äº‹ä»¶ï¼š</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">v-on:</span>click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>doSomething<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> ... <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- ç®€å†™ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>doSomething<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> ... <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™é‡Œçš„å‚æ•°æ˜¯è¦ç›‘å¬çš„äº‹ä»¶åç§°ï¼šclickã€‚v-on æœ‰ä¸€ä¸ªç›¸åº”çš„ç¼©å†™ï¼Œå³ <code>@</code> å­—ç¬¦ã€‚æˆ‘ä»¬ä¹‹åä¹Ÿä¼šè®¨è®ºå…³äºäº‹ä»¶å¤„ç†çš„æ›´å¤šç»†èŠ‚ã€‚</p><h4 id="åŠ¨æ€å‚æ•°" tabindex="-1"><a class="header-anchor" href="#åŠ¨æ€å‚æ•°"><span>åŠ¨æ€å‚æ•°</span></a></h4><p>åŒæ ·åœ¨æŒ‡ä»¤å‚æ•°ä¸Šä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€ä¸ª JavaScript è¡¨è¾¾å¼ï¼Œéœ€è¦åŒ…å«åœ¨ä¸€å¯¹æ–¹æ‹¬å·å†…ï¼š</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token comment">&lt;!--
  æ³¨æ„ï¼Œå‚æ•°è¡¨è¾¾å¼æœ‰ä¸€äº›çº¦æŸï¼Œ
  å‚è§ä¸‹é¢â€œåŠ¨æ€å‚æ•°å€¼çš„é™åˆ¶â€ä¸â€œåŠ¨æ€å‚æ•°è¯­æ³•çš„é™åˆ¶â€ç« èŠ‚çš„è§£é‡Š
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>[attributeName]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> ... <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- ç®€å†™ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">:[attributeName]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> ... <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™é‡Œçš„ attributeName ä¼šä½œä¸ºä¸€ä¸ª JavaScript è¡¨è¾¾å¼è¢«åŠ¨æ€æ‰§è¡Œï¼Œè®¡ç®—å¾—åˆ°çš„å€¼ä¼šè¢«ç”¨ä½œæœ€ç»ˆçš„å‚æ•°ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœä½ çš„ç»„ä»¶å®ä¾‹æœ‰ä¸€ä¸ªæ•°æ®å±æ€§ attributeNameï¼Œå…¶å€¼ä¸º &quot;href&quot;ï¼Œé‚£ä¹ˆè¿™ä¸ªç»‘å®šå°±ç­‰ä»·äº v-bind:hrefã€‚<br> ç›¸ä¼¼åœ°ï¼Œä½ è¿˜å¯ä»¥å°†ä¸€ä¸ªå‡½æ•°ç»‘å®šåˆ°åŠ¨æ€çš„äº‹ä»¶åç§°ä¸Šï¼š</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">v-on:</span>[eventName]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>doSomething<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> ... <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- ç®€å†™ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">@[eventName]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>doSomething<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> ... <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œå½“ eventName çš„å€¼æ˜¯ &quot;focus&quot; æ—¶ï¼Œv-on:[eventName] å°±ç­‰ä»·äº v-on:focusã€‚</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">function</span> <span class="token function">alertMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#39;hello world&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> asg <span class="token operator">=</span> <span class="token string">&#39;click&#39;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- ä»¥ä¸‹å››è¡Œå…¨éƒ¨ç›¸ç­‰ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name"><span class="token namespace">v-on:</span>[asg]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>alertMsg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>qqqqq<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name"><span class="token namespace">v-on:</span>click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>alertMsg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>wwwww<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- ç®€å†™å½¢å¼ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>alertMsg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>eeeee<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@[asg]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>alertMsg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>yyyyy<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="åŠ¨æ€å‚æ•°å€¼çš„é™åˆ¶" tabindex="-1"><a class="header-anchor" href="#åŠ¨æ€å‚æ•°å€¼çš„é™åˆ¶"><span>åŠ¨æ€å‚æ•°å€¼çš„é™åˆ¶</span></a></h5><p>åŠ¨æ€å‚æ•°ä¸­è¡¨è¾¾å¼çš„å€¼åº”å½“æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæˆ–è€…æ˜¯ nullã€‚ç‰¹æ®Šå€¼ null æ„ä¸ºæ˜¾å¼ç§»é™¤è¯¥ç»‘å®šã€‚å…¶ä»–éå­—ç¬¦ä¸²çš„å€¼ä¼šè§¦å‘è­¦å‘Šã€‚</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@[null]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>alertMsg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>yyyyy<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="åŠ¨æ€å‚æ•°è¯­æ³•çš„é™åˆ¶" tabindex="-1"><a class="header-anchor" href="#åŠ¨æ€å‚æ•°è¯­æ³•çš„é™åˆ¶"><span>åŠ¨æ€å‚æ•°è¯­æ³•çš„é™åˆ¶</span></a></h5><p>åŠ¨æ€å‚æ•°è¡¨è¾¾å¼å› ä¸ºæŸäº›å­—ç¬¦çš„ç¼˜æ•…æœ‰ä¸€äº›è¯­æ³•é™åˆ¶ï¼Œæ¯”å¦‚ç©ºæ ¼å’Œå¼•å·ï¼Œåœ¨ HTML attribute åç§°ä¸­éƒ½æ˜¯ä¸åˆæ³•çš„ã€‚ä¾‹å¦‚ä¸‹é¢çš„ç¤ºä¾‹ï¼š</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token comment">&lt;!-- è¿™ä¼šè§¦å‘ä¸€ä¸ªç¼–è¯‘å™¨è­¦å‘Š --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">:[&#39;foo&#39;</span> <span class="token attr-name">+</span> <span class="token attr-name">bar]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> ... <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœä½ éœ€è¦ä¼ å…¥ä¸€ä¸ªå¤æ‚çš„åŠ¨æ€å‚æ•°ï¼Œæˆ‘ä»¬æ¨èä½¿ç”¨<a href="https://cn.vuejs.org/guide/essentials/computed.html" target="_blank" rel="noopener noreferrer">è®¡ç®—å±æ€§</a>æ›¿æ¢å¤æ‚çš„è¡¨è¾¾å¼ï¼Œä¹Ÿæ˜¯ Vue æœ€åŸºç¡€çš„æ¦‚å¿µä¹‹ä¸€ï¼Œæˆ‘ä»¬å¾ˆå¿«å°±ä¼šè®²åˆ°ã€‚<br> å½“ä½¿ç”¨ DOM å†…åµŒæ¨¡æ¿ (ç›´æ¥å†™åœ¨ HTML æ–‡ä»¶é‡Œçš„æ¨¡æ¿) æ—¶ï¼Œæˆ‘ä»¬éœ€è¦é¿å…åœ¨åç§°ä¸­ä½¿ç”¨å¤§å†™å­—æ¯ï¼Œå› ä¸ºæµè§ˆå™¨ä¼šå¼ºåˆ¶å°†å…¶è½¬æ¢ä¸ºå°å†™ï¼š</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">:[someAttr]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> ... <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä¸Šé¢çš„ä¾‹å­å°†ä¼šåœ¨ DOM å†…åµŒæ¨¡æ¿ä¸­è¢«è½¬æ¢ä¸º :[someattr]ã€‚å¦‚æœä½ çš„ç»„ä»¶æ‹¥æœ‰ â€œsomeAttrâ€ å±æ€§è€Œé â€œsomeattrâ€ï¼Œè¿™æ®µä»£ç å°†ä¸ä¼šå·¥ä½œã€‚å•æ–‡ä»¶ç»„ä»¶å†…çš„æ¨¡æ¿<strong>ä¸</strong>å—æ­¤é™åˆ¶ã€‚</p><h4 id="ä¿®é¥°ç¬¦-modifiers" tabindex="-1"><a class="header-anchor" href="#ä¿®é¥°ç¬¦-modifiers"><span>ä¿®é¥°ç¬¦ Modifiers</span></a></h4><p>ä¿®é¥°ç¬¦æ˜¯ä»¥ç‚¹å¼€å¤´çš„ç‰¹æ®Šåç¼€ï¼Œè¡¨æ˜æŒ‡ä»¤éœ€è¦ä»¥ä¸€äº›ç‰¹æ®Šçš„æ–¹å¼è¢«ç»‘å®šã€‚ä¾‹å¦‚ .prevent ä¿®é¥°ç¬¦ä¼šå‘ŠçŸ¥ v-on æŒ‡ä»¤å¯¹è§¦å‘çš„äº‹ä»¶è°ƒç”¨ event.preventDefault()ï¼š</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">@submit.prevent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onSubmit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä¹‹ååœ¨è®²åˆ° <a href="https://cn.vuejs.org/guide/essentials/event-handling.html#event-modifiers" target="_blank" rel="noopener noreferrer">v-on</a> å’Œ <a href="https://cn.vuejs.org/guide/essentials/forms.html#modifiers" target="_blank" rel="noopener noreferrer">v-model</a> çš„åŠŸèƒ½æ—¶ï¼Œä½ å°†ä¼šçœ‹åˆ°å…¶ä»–ä¿®é¥°ç¬¦çš„ä¾‹å­ã€‚<br> æœ€åï¼Œåœ¨è¿™é‡Œä½ å¯ä»¥ç›´è§‚åœ°çœ‹åˆ°å®Œæ•´çš„æŒ‡ä»¤è¯­æ³•ï¼š<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/vue/202406171459599.png" alt="image.png" loading="lazy"></p><h3 id="ç»‘å®šclass" tabindex="-1"><a class="header-anchor" href="#ç»‘å®šclass"><span>ç»‘å®šclass</span></a></h3><p>æ•°æ®ç»‘å®šçš„ä¸€ä¸ªå¸¸è§éœ€æ±‚åœºæ™¯æ˜¯æ“çºµå…ƒç´ çš„ CSS class åˆ—è¡¨å’Œå†…è”æ ·å¼ã€‚å› ä¸º <code>class</code>å’Œ <code>style</code>éƒ½æ˜¯ attributeï¼Œæˆ‘ä»¬å¯ä»¥å’Œå…¶ä»– attribute ä¸€æ ·ä½¿ç”¨ <code>v-bind</code> å°†å®ƒä»¬å’ŒåŠ¨æ€çš„å­—ç¬¦ä¸²ç»‘å®šã€‚ä½†æ˜¯ï¼Œåœ¨å¤„ç†æ¯”è¾ƒå¤æ‚çš„ç»‘å®šæ—¶ï¼Œé€šè¿‡æ‹¼æ¥ç”Ÿæˆå­—ç¬¦ä¸²æ˜¯éº»çƒ¦ä¸”æ˜“å‡ºé”™çš„ã€‚å› æ­¤ï¼ŒVue ä¸“é—¨ä¸º <code>class</code>å’Œ <code>style</code> çš„ <code>v-bind</code> ç”¨æ³•æä¾›äº†ç‰¹æ®Šçš„åŠŸèƒ½å¢å¼ºã€‚é™¤äº†å­—ç¬¦ä¸²å¤–ï¼Œè¡¨è¾¾å¼çš„å€¼ä¹Ÿå¯ä»¥æ˜¯å¯¹è±¡æˆ–æ•°ç»„ã€‚</p><h4 id="ç»‘å®šå¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#ç»‘å®šå¯¹è±¡"><span>ç»‘å®šå¯¹è±¡</span></a></h4><p>æˆ‘ä»¬å¯ä»¥ç»™ <code>:class</code> (<code>v-bind:class</code> çš„ç¼©å†™) ä¼ é€’ä¸€ä¸ªå¯¹è±¡æ¥åŠ¨æ€åˆ‡æ¢ classï¼š</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ active: isActive }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä¸Šé¢çš„è¯­æ³•è¡¨ç¤º <code>active</code>æ˜¯å¦å­˜åœ¨å–å†³äºæ•°æ®å±æ€§ <code>isActive</code>çš„çœŸå‡å€¼ã€‚<br> ä½ å¯ä»¥åœ¨å¯¹è±¡ä¸­å†™å¤šä¸ªå­—æ®µæ¥æ“ä½œå¤šä¸ª classã€‚æ­¤å¤–ï¼Œ:class æŒ‡ä»¤ä¹Ÿå¯ä»¥å’Œä¸€èˆ¬çš„ class attribute å…±å­˜ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œä¸‹é¢è¿™æ ·çš„çŠ¶æ€ï¼š</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code>const isActive = ref(true)
const hasError = ref(false)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>é…åˆä»¥ä¸‹æ¨¡æ¿ï¼š</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>static<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ active: isActive, &#39;text-danger&#39;: hasError }<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¸²æŸ“çš„ç»“æœä¼šæ˜¯ï¼š</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>static active<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å½“ isActive æˆ–è€… hasError æ”¹å˜æ—¶ï¼Œclass åˆ—è¡¨ä¼šéšä¹‹æ›´æ–°ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœ hasError å˜ä¸º trueï¼Œclass åˆ—è¡¨ä¹Ÿä¼šå˜æˆ &quot;static active text-danger&quot;ã€‚<br> ç»‘å®šçš„å¯¹è±¡å¹¶ä¸ä¸€å®šéœ€è¦å†™æˆå†…è”å­—é¢é‡çš„å½¢å¼ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç»‘å®šä¸€ä¸ªå¯¹è±¡ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> classObject <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">active</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token string-property property">&#39;text-danger&#39;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>classObject<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™å°†æ¸²æŸ“ä¸ºï¼š</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>active<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ç»‘å®šä¸€ä¸ªè¿”å›å¯¹è±¡çš„<a href="https://cn.vuejs.org/guide/essentials/computed.html" target="_blank" rel="noopener noreferrer">è®¡ç®—å±æ€§</a>ã€‚è¿™æ˜¯ä¸€ä¸ªå¸¸è§ä¸”å¾ˆæœ‰ç”¨çš„æŠ€å·§ï¼š</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code>const isActive = ref(true)
const error = ref(null)

const classObject = computed(() =&gt; ({
  active: isActive.value &amp;&amp; !error.value,
  &#39;text-danger&#39;: error.value &amp;&amp; error.value.type === &#39;fatal&#39;
}))
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>classObject<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="ç»‘å®šæ•°ç»„" tabindex="-1"><a class="header-anchor" href="#ç»‘å®šæ•°ç»„"><span>ç»‘å®šæ•°ç»„</span></a></h4><p>æˆ‘ä»¬å¯ä»¥ç»™ <code>:class</code> ç»‘å®šä¸€ä¸ªæ•°ç»„æ¥æ¸²æŸ“å¤šä¸ª CSS classï¼š</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code>const activeClass = ref(&#39;active&#39;)
const errorClass = ref(&#39;text-danger&#39;)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[activeClass, errorClass]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ¸²æŸ“çš„ç»“æœæ˜¯ï¼š</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>active text-danger<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚æœä½ ä¹Ÿæƒ³åœ¨æ•°ç»„ä¸­æœ‰æ¡ä»¶åœ°æ¸²æŸ“æŸä¸ª classï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸‰å…ƒè¡¨è¾¾å¼ï¼š</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[isActive ? activeClass : &#39;&#39;, errorClass]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>errorClass</code>ä¼šä¸€ç›´å­˜åœ¨ï¼Œä½† <code>activeClass</code> åªä¼šåœ¨ <code>isActive</code>ä¸ºçœŸæ—¶æ‰å­˜åœ¨ã€‚<br> ç„¶è€Œï¼Œè¿™å¯èƒ½åœ¨æœ‰å¤šä¸ªä¾èµ–æ¡ä»¶çš„ class æ—¶ä¼šæœ‰äº›å†—é•¿ã€‚å› æ­¤ä¹Ÿå¯ä»¥åœ¨æ•°ç»„ä¸­åµŒå¥—å¯¹è±¡ï¼š</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[{ active: isActive }, errorClass]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="åœ¨ç»„ä»¶ä¸Šä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#åœ¨ç»„ä»¶ä¸Šä½¿ç”¨"><span>åœ¨ç»„ä»¶ä¸Šä½¿ç”¨</span></a></h4><p>å¯¹äºåªæœ‰ä¸€ä¸ªæ ¹å…ƒç´ çš„ç»„ä»¶ï¼Œå½“ä½ ä½¿ç”¨äº† <code>class</code>attribute æ—¶ï¼Œè¿™äº› class ä¼šè¢«æ·»åŠ åˆ°æ ¹å…ƒç´ ä¸Šå¹¶ä¸è¯¥å…ƒç´ ä¸Šå·²æœ‰çš„ class åˆå¹¶ã€‚<br> ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœä½ å£°æ˜äº†ä¸€ä¸ªç»„ä»¶åå« MyComponentï¼Œæ¨¡æ¿å¦‚ä¸‹ï¼š</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token comment">&lt;!-- å­ç»„ä»¶æ¨¡æ¿ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>foo bar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Hi!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä½¿ç”¨æ—¶æ·»åŠ ä¸€äº› classï¼š</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token comment">&lt;!-- åœ¨ä½¿ç”¨ç»„ä»¶æ—¶ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MyComponent</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>baz boo<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¸²æŸ“å‡ºçš„ HTML ä¸ºï¼š</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>foo bar baz boo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Hi!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Class çš„ç»‘å®šä¹Ÿæ˜¯åŒæ ·çš„ï¼š</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MyComponent</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ active: isActive }<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å½“ isActive ä¸ºçœŸæ—¶ï¼Œè¢«æ¸²æŸ“çš„ HTML ä¼šæ˜¯ï¼š</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>foo bar active<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Hi!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚æœä½ çš„ç»„ä»¶æœ‰å¤šä¸ªæ ¹å…ƒç´ ï¼Œä½ å°†éœ€è¦æŒ‡å®šå“ªä¸ªæ ¹å…ƒç´ æ¥æ¥æ”¶è¿™ä¸ª classã€‚ä½ å¯ä»¥é€šè¿‡ç»„ä»¶çš„ <code>$attrs</code> å±æ€§æ¥å®ç°æŒ‡å®šï¼š</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token comment">&lt;!-- MyComponent æ¨¡æ¿ä½¿ç”¨ $attrs æ—¶ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$attrs.class<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Hi!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>This is a child component<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MyComponent</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>baz<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™å°†è¢«æ¸²æŸ“ä¸ºï¼š</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>baz<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Hi!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>This is a child component<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½ å¯ä»¥åœ¨<a href="https://cn.vuejs.org/guide/components/attrs.html" target="_blank" rel="noopener noreferrer">é€ä¼  Attribute</a> ä¸€ç« ä¸­äº†è§£æ›´å¤šç»„ä»¶çš„ attribute ç»§æ‰¿çš„ç»†èŠ‚ã€‚</p><h3 id="ç»‘å®šstyle" tabindex="-1"><a class="header-anchor" href="#ç»‘å®šstyle"><span>ç»‘å®šstyle</span></a></h3><h4 id="ç»‘å®šå¯¹è±¡-1" tabindex="-1"><a class="header-anchor" href="#ç»‘å®šå¯¹è±¡-1"><span>ç»‘å®šå¯¹è±¡</span></a></h4><p><code>:style</code> æ”¯æŒç»‘å®š JavaScript å¯¹è±¡å€¼ï¼Œå¯¹åº”çš„æ˜¯ <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style" target="_blank" rel="noopener noreferrer">HTML å…ƒç´ çš„styleå±æ€§</a>ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> activeColor <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;red&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> fontSize <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ color: activeColor, fontSize: fontSize + &#39;px&#39; }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å°½ç®¡æ¨èä½¿ç”¨ camelCaseï¼ˆé©¼å³°ï¼‰ï¼Œä½† <code>:style</code> ä¹Ÿæ”¯æŒ kebab-casedï¼ˆçƒ¤è‚‰ä¸²ï¼‰ å½¢å¼çš„ CSS å±æ€§ key (å¯¹åº”å…¶ CSS ä¸­çš„å®é™…åç§°)ï¼Œä¾‹å¦‚ï¼š</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ &#39;font-size&#39;: fontSize + &#39;px&#39; }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç›´æ¥ç»‘å®šä¸€ä¸ªæ ·å¼å¯¹è±¡é€šå¸¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ï¼Œè¿™æ ·å¯ä»¥ä½¿æ¨¡æ¿æ›´åŠ ç®€æ´ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> styleObject <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&#39;red&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">fontSize</span><span class="token operator">:</span> <span class="token string">&#39;13px&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>styleObject<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åŒæ ·çš„ï¼Œå¦‚æœæ ·å¼å¯¹è±¡éœ€è¦æ›´å¤æ‚çš„é€»è¾‘ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è¿”å›æ ·å¼å¯¹è±¡çš„<strong>è®¡ç®—å±æ€§</strong>ã€‚</p><h4 id="ç»‘å®šæ•°ç»„-1" tabindex="-1"><a class="header-anchor" href="#ç»‘å®šæ•°ç»„-1"><span>ç»‘å®šæ•°ç»„</span></a></h4><p>æˆ‘ä»¬è¿˜å¯ä»¥ç»™ <code>:style</code> ç»‘å®šä¸€ä¸ªåŒ…å«å¤šä¸ªæ ·å¼å¯¹è±¡çš„æ•°ç»„ã€‚è¿™äº›å¯¹è±¡ä¼šè¢«åˆå¹¶åæ¸²æŸ“åˆ°åŒä¸€å…ƒç´ ä¸Šï¼š</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[baseStyles, overridingStyles]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="è‡ªåŠ¨å‰ç¼€" tabindex="-1"><a class="header-anchor" href="#è‡ªåŠ¨å‰ç¼€"><span>è‡ªåŠ¨å‰ç¼€</span></a></h4><p>å½“ä½ åœ¨ <code>:style</code> ä¸­ä½¿ç”¨äº†éœ€è¦<a href="https://developer.mozilla.org/en-US/docs/Glossary/Vendor_Prefix" target="_blank" rel="noopener noreferrer">æµè§ˆå™¨ç‰¹æ®Šå‰ç¼€</a>çš„ CSS å±æ€§æ—¶ï¼ŒVue ä¼šè‡ªåŠ¨ä¸ºä»–ä»¬åŠ ä¸Šç›¸åº”çš„å‰ç¼€ã€‚Vue æ˜¯åœ¨è¿è¡Œæ—¶æ£€æŸ¥è¯¥å±æ€§æ˜¯å¦æ”¯æŒåœ¨å½“å‰æµè§ˆå™¨ä¸­ä½¿ç”¨ã€‚å¦‚æœæµè§ˆå™¨ä¸æ”¯æŒæŸä¸ªå±æ€§ï¼Œé‚£ä¹ˆå°†å°è¯•åŠ ä¸Šå„ä¸ªæµè§ˆå™¨ç‰¹æ®Šå‰ç¼€ï¼Œä»¥æ‰¾åˆ°å“ªä¸€ä¸ªæ˜¯è¢«æ”¯æŒçš„ã€‚</p><h4 id="æ ·å¼å¤šå€¼" tabindex="-1"><a class="header-anchor" href="#æ ·å¼å¤šå€¼"><span>æ ·å¼å¤šå€¼</span></a></h4><p>ä½ å¯ä»¥å¯¹ä¸€ä¸ªæ ·å¼å±æ€§æä¾›å¤šä¸ª (ä¸åŒå‰ç¼€çš„) å€¼ï¼Œä¸¾ä¾‹æ¥è¯´ï¼š</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ display: [&#39;-webkit-box&#39;, &#39;-ms-flexbox&#39;, &#39;flex&#39;] }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ•°ç»„ä»…ä¼šæ¸²æŸ“æµè§ˆå™¨æ”¯æŒçš„æœ€åä¸€ä¸ªå€¼ã€‚åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œåœ¨æ”¯æŒä¸éœ€è¦ç‰¹åˆ«å‰ç¼€çš„æµè§ˆå™¨ä¸­éƒ½ä¼šæ¸²æŸ“ä¸º <code>display: flex</code>ã€‚</p><h3 id="æ¡ä»¶æ¸²æŸ“" tabindex="-1"><a class="header-anchor" href="#æ¡ä»¶æ¸²æŸ“"><span>æ¡ä»¶æ¸²æŸ“</span></a></h3><p><a href="https://cn.vuejs.org/guide/essentials/conditional.html" target="_blank" rel="noopener noreferrer">æ¡ä»¶æ¸²æŸ“</a></p><h3 id="åˆ—è¡¨æ¸²æŸ“" tabindex="-1"><a class="header-anchor" href="#åˆ—è¡¨æ¸²æŸ“"><span>åˆ—è¡¨æ¸²æŸ“</span></a></h3><p><a href="https://cn.vuejs.org/guide/essentials/list.html" target="_blank" rel="noopener noreferrer">æ ‡é¢˜æ¸²æŸ“</a></p><h3 id="äº‹ä»¶å¤„ç†" tabindex="-1"><a class="header-anchor" href="#äº‹ä»¶å¤„ç†"><span>äº‹ä»¶å¤„ç†</span></a></h3><p><a href="https://cn.vuejs.org/guide/essentials/event-handling.html" target="_blank" rel="noopener noreferrer">äº‹ä»¶å¤„ç†</a></p><h3 id="è¡¨å•è¾“å…¥ç»‘å®š" tabindex="-1"><a class="header-anchor" href="#è¡¨å•è¾“å…¥ç»‘å®š"><span>è¡¨å•è¾“å…¥ç»‘å®š</span></a></h3><p><a href="https://cn.vuejs.org/guide/essentials/forms.html" target="_blank" rel="noopener noreferrer">è¡¨å•è¾“å…¥ç»‘å®š</a></p><h3 id="ä¾¦å¬å™¨" tabindex="-1"><a class="header-anchor" href="#ä¾¦å¬å™¨"><span>ä¾¦å¬å™¨</span></a></h3><p><a href="https://cn.vuejs.org/guide/essentials/watchers.html" target="_blank" rel="noopener noreferrer">ä¾¦å¬å™¨</a></p><h3 id="å†…ç½®æŒ‡ä»¤" tabindex="-1"><a class="header-anchor" href="#å†…ç½®æŒ‡ä»¤"><span>å†…ç½®æŒ‡ä»¤</span></a></h3><p><a href="https://cn.vuejs.org/api/built-in-directives.html" target="_blank" rel="noopener noreferrer">Vue.jså®˜æ–¹æ–‡æ¡£</a></p><h4 id="v-text" tabindex="-1"><a class="header-anchor" href="#v-text"><span>v-text</span></a></h4><p>æ›´æ–°å…ƒç´ çš„æ–‡æœ¬å†…å®¹ã€‚</p><ul><li><strong>æœŸæœ›çš„ç»‘å®šå€¼ç±»å‹ï¼š</strong><code>string</code></li><li><strong>è¯¦ç»†ä¿¡æ¯</strong>v-text é€šè¿‡è®¾ç½®å…ƒç´ çš„ <a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/textContent" target="_blank" rel="noopener noreferrer">textContent</a> å±æ€§æ¥å·¥ä½œï¼Œå› æ­¤å®ƒå°†è¦†ç›–å…ƒç´ ä¸­æ‰€æœ‰ç°æœ‰çš„å†…å®¹ã€‚å¦‚æœä½ éœ€è¦æ›´æ–° textContent çš„éƒ¨åˆ†ï¼Œåº”è¯¥ä½¿ç”¨ <a href="https://cn.vuejs.org/guide/essentials/template-syntax.html#text-interpolation" target="_blank" rel="noopener noreferrer">mustache interpolations</a> ä»£æ›¿ã€‚</li><li>**</li></ul><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>msg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- ç­‰åŒäº --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{msg}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="v-html" tabindex="-1"><a class="header-anchor" href="#v-html"><span>v-html</span></a></h4><p>æ›´æ–°å…ƒç´ çš„ <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/innerHTML" target="_blank" rel="noopener noreferrer">innerHTML</a>ã€‚</p><ul><li>**æœŸæœ›çš„ç»‘å®šå€¼ç±»å‹ï¼š**string</li><li><strong>è¯¦ç»†ä¿¡æ¯</strong></li></ul><p>v-html çš„å†…å®¹ç›´æ¥ä½œä¸ºæ™®é€š HTML æ’å…¥â€”â€” Vue æ¨¡æ¿è¯­æ³•æ˜¯ä¸ä¼šè¢«è§£æçš„ã€‚å¦‚æœä½ å‘ç°è‡ªå·±æ­£æ‰“ç®—ç”¨ v-html æ¥ç¼–å†™æ¨¡æ¿ï¼Œä¸å¦‚é‡æ–°æƒ³æƒ³æ€ä¹ˆä½¿ç”¨ç»„ä»¶æ¥ä»£æ›¿ã€‚<br><strong>å®‰å…¨è¯´æ˜</strong><br> åœ¨ä½ çš„ç«™ç‚¹ä¸ŠåŠ¨æ€æ¸²æŸ“ä»»æ„çš„ HTML æ˜¯éå¸¸å±é™©çš„ï¼Œå› ä¸ºå®ƒå¾ˆå®¹æ˜“å¯¼è‡´ <a href="https://en.wikipedia.org/wiki/Cross-site_scripting" target="_blank" rel="noopener noreferrer">XSS æ”»å‡»</a>ã€‚è¯·åªå¯¹å¯ä¿¡å†…å®¹ä½¿ç”¨ HTML æ’å€¼ï¼Œç»ä¸è¦å°†ç”¨æˆ·æä¾›çš„å†…å®¹ä½œä¸ºæ’å€¼<br> åœ¨<a href="https://cn.vuejs.org/guide/scaling-up/sfc.html" target="_blank" rel="noopener noreferrer">å•æ–‡ä»¶ç»„ä»¶</a>ï¼Œscoped æ ·å¼å°†ä¸ä¼šä½œç”¨äº v-html é‡Œçš„å†…å®¹ï¼Œå› ä¸º HTML å†…å®¹ä¸ä¼šè¢« Vue çš„æ¨¡æ¿ç¼–è¯‘å™¨è§£æã€‚å¦‚æœä½ æƒ³è®© v-html çš„å†…å®¹ä¹Ÿæ”¯æŒ scoped CSSï¼Œä½ å¯ä»¥ä½¿ç”¨ <a href="https://cn.vuejs.org/api/sfc-css-features.html#css-modules" target="_blank" rel="noopener noreferrer">CSS modules</a> æˆ–ä½¿ç”¨ä¸€ä¸ªé¢å¤–çš„å…¨å±€ <code>&lt;style&gt;</code> å…ƒç´ ï¼Œæ‰‹åŠ¨è®¾ç½®ç±»ä¼¼ BEM çš„ä½œç”¨åŸŸç­–ç•¥ã€‚</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>&lt;div v-html=&quot;html&quot;&gt;&lt;/div&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å‚è€ƒ<a href="https://cn.vuejs.org/guide/essentials/template-syntax.html#raw-html" target="_blank" rel="noopener noreferrer">æ¨¡æ¿è¯­æ³• - åŸå§‹ HTML</a></p><h4 id="v-bind-å±æ€§ç»‘å®š" tabindex="-1"><a class="header-anchor" href="#v-bind-å±æ€§ç»‘å®š"><span>v-bindï¼ˆå±æ€§ç»‘å®šï¼‰</span></a></h4><p><a href="https://cn.vuejs.org/guide/essentials/template-syntax.html#attribute-bindings" target="_blank" rel="noopener noreferrer">Attributeç»‘å®š</a><br> åŒå¤§æ‹¬å·ä¸èƒ½åœ¨ HTML attributes ä¸­ä½¿ç”¨ã€‚æƒ³è¦å“åº”å¼åœ°ç»‘å®šä¸€ä¸ª attributeï¼Œåº”è¯¥ä½¿ç”¨ <a href="https://cn.vuejs.org/api/built-in-directives.html#v-bind" target="_blank" rel="noopener noreferrer">v-bindæŒ‡ä»¤</a>ï¼š</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dynamicId<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>v-bind æŒ‡ä»¤æŒ‡ç¤º Vue å°†å…ƒç´ çš„ id attribute ä¸ç»„ä»¶çš„ dynamicId å±æ€§ä¿æŒä¸€è‡´ã€‚å¦‚æœç»‘å®šçš„å€¼æ˜¯ null æˆ–è€… undefinedï¼Œé‚£ä¹ˆè¯¥ attribute å°†ä¼šä»æ¸²æŸ“çš„å…ƒç´ ä¸Šç§»é™¤ã€‚</p><h5 id="ç®€å†™" tabindex="-1"><a class="header-anchor" href="#ç®€å†™"><span>ç®€å†™</span></a></h5><p>å› ä¸º v-bind éå¸¸å¸¸ç”¨ï¼Œæˆ‘ä»¬æä¾›äº†ç‰¹å®šçš„ç®€å†™è¯­æ³•ï¼š</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dynamicId<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¼€å¤´ä¸º : çš„ attribute å¯èƒ½å’Œä¸€èˆ¬çš„ HTML attribute çœ‹èµ·æ¥ä¸å¤ªä¸€æ ·ï¼Œä½†å®ƒçš„ç¡®æ˜¯åˆæ³•çš„ attribute åç§°å­—ç¬¦ï¼Œå¹¶ä¸”æ‰€æœ‰æ”¯æŒ Vue çš„æµè§ˆå™¨éƒ½èƒ½æ­£ç¡®è§£æå®ƒã€‚æ­¤å¤–ï¼Œä»–ä»¬ä¸ä¼šå‡ºç°åœ¨æœ€ç»ˆæ¸²æŸ“çš„ DOM ä¸­ã€‚ç®€å†™è¯­æ³•æ˜¯å¯é€‰çš„ï¼Œä½†ç›¸ä¿¡åœ¨ä½ äº†è§£äº†å®ƒæ›´å¤šçš„ç”¨å¤„åï¼Œä½ åº”è¯¥ä¼šæ›´å–œæ¬¢å®ƒã€‚<br> æ¥ä¸‹æ¥çš„æŒ‡å¼•ä¸­ï¼Œæˆ‘ä»¬éƒ½å°†åœ¨ç¤ºä¾‹ä¸­ä½¿ç”¨ç®€å†™è¯­æ³•ï¼Œå› ä¸ºè¿™æ˜¯åœ¨å®é™…å¼€å‘ä¸­æ›´å¸¸è§çš„ç”¨æ³•ã€‚</p><h5 id="åŒåç®€å†™" tabindex="-1"><a class="header-anchor" href="#åŒåç®€å†™"><span>åŒåç®€å†™</span></a></h5><p>å¦‚æœ attribute çš„åç§°ä¸ç»‘å®šçš„ JavaScript å€¼çš„åç§°ç›¸åŒï¼Œé‚£ä¹ˆå¯ä»¥è¿›ä¸€æ­¥ç®€åŒ–è¯­æ³•ï¼Œçœç•¥ attribute å€¼ï¼š</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token comment">&lt;!-- ä¸ :id=&quot;id&quot; ç›¸åŒ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:id</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- è¿™ä¹ŸåŒæ ·æœ‰æ•ˆ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>id</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸åœ¨ JavaScript ä¸­å£°æ˜å¯¹è±¡æ—¶ä½¿ç”¨çš„å±æ€§ç®€å†™è¯­æ³•ç±»ä¼¼ã€‚è¯·æ³¨æ„ï¼Œè¿™æ˜¯ä¸€ä¸ªåªåœ¨ Vue 3.4 åŠä»¥ä¸Šç‰ˆæœ¬ä¸­å¯ç”¨çš„ç‰¹æ€§ã€‚</p><h5 id="å¸ƒå°”å‹-attribute" tabindex="-1"><a class="header-anchor" href="#å¸ƒå°”å‹-attribute"><span>å¸ƒå°”å‹ Attribute</span></a></h5><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Attributes#%E5%B8%83%E5%B0%94%E5%80%BC%E5%B1%9E%E6%80%A7" target="_blank" rel="noopener noreferrer">å¸ƒå°”å‹ attribute</a> ä¾æ® true / false å€¼æ¥å†³å®š attribute æ˜¯å¦åº”è¯¥å­˜åœ¨äºè¯¥å…ƒç´ ä¸Šã€‚<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/disabled" target="_blank" rel="noopener noreferrer">disabled</a> å°±æ˜¯æœ€å¸¸è§çš„ä¾‹å­ä¹‹ä¸€ã€‚<br> v-bind åœ¨è¿™ç§åœºæ™¯ä¸‹çš„è¡Œä¸ºç•¥æœ‰ä¸åŒï¼š</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">:disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isButtonDisabled<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Button<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å½“ isButtonDisabled ä¸º<a href="https://developer.mozilla.org/en-US/docs/Glossary/Truthy" target="_blank" rel="noopener noreferrer">çœŸå€¼</a>æˆ–ä¸€ä¸ªç©ºå­—ç¬¦ä¸² (å³ <code>&lt;button disabled=&quot;&quot;&gt;</code>) æ—¶ï¼Œå…ƒç´ ä¼šåŒ…å«è¿™ä¸ª disabled attributeã€‚è€Œå½“å…¶ä¸ºå…¶ä»–<a href="https://developer.mozilla.org/en-US/docs/Glossary/Falsy" target="_blank" rel="noopener noreferrer">å‡å€¼</a>æ—¶ attribute å°†è¢«å¿½ç•¥ã€‚</p><h5 id="åŠ¨æ€ç»‘å®šå¤šä¸ªå€¼" tabindex="-1"><a class="header-anchor" href="#åŠ¨æ€ç»‘å®šå¤šä¸ªå€¼"><span>åŠ¨æ€ç»‘å®šå¤šä¸ªå€¼</span></a></h5><p>å¦‚æœä½ æœ‰åƒè¿™æ ·çš„ä¸€ä¸ªåŒ…å«å¤šä¸ª attribute çš„ JavaScript å¯¹è±¡ï¼š</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code>const objectOfAttrs = {
  id: &#39;container&#39;,
  class: &#39;wrapper&#39;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡ä¸å¸¦å‚æ•°çš„ v-bindï¼Œä½ å¯ä»¥å°†å®ƒä»¬ç»‘å®šåˆ°å•ä¸ªå…ƒç´ ä¸Šï¼š</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>objectOfAttrs<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="ä½¿ç”¨-javascript-è¡¨è¾¾å¼" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨-javascript-è¡¨è¾¾å¼"><span>ä½¿ç”¨ JavaScript è¡¨è¾¾å¼</span></a></h5><p>è‡³æ­¤ï¼Œæˆ‘ä»¬ä»…åœ¨æ¨¡æ¿ä¸­ç»‘å®šäº†ä¸€äº›ç®€å•çš„å±æ€§åã€‚ä½†æ˜¯ Vue å®é™…ä¸Šåœ¨æ‰€æœ‰çš„æ•°æ®ç»‘å®šä¸­éƒ½æ”¯æŒå®Œæ•´çš„ JavaScript è¡¨è¾¾å¼ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token builtin">number</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>

<span class="token punctuation">{</span><span class="token punctuation">{</span> ok <span class="token operator">?</span> <span class="token string">&#39;YES&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;NO&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>

<span class="token punctuation">{</span><span class="token punctuation">{</span> message<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>

<span class="token operator">&lt;</span>div <span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">&quot;`list-${id}`&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™äº›è¡¨è¾¾å¼éƒ½ä¼šè¢«ä½œä¸º JavaScript ï¼Œä»¥å½“å‰ç»„ä»¶å®ä¾‹ä¸ºä½œç”¨åŸŸè§£ææ‰§è¡Œã€‚<br> åœ¨ Vue æ¨¡æ¿å†…ï¼ŒJavaScript è¡¨è¾¾å¼å¯ä»¥è¢«ä½¿ç”¨åœ¨å¦‚ä¸‹åœºæ™¯ä¸Šï¼š</p><ul><li>åœ¨æ–‡æœ¬æ’å€¼ä¸­ (åŒå¤§æ‹¬å·)</li><li>åœ¨ä»»ä½• Vue æŒ‡ä»¤ (ä»¥ v- å¼€å¤´çš„ç‰¹æ®Š attribute) attribute çš„å€¼ä¸­</li></ul><h5 id="ä»…æ”¯æŒè¡¨è¾¾å¼" tabindex="-1"><a class="header-anchor" href="#ä»…æ”¯æŒè¡¨è¾¾å¼"><span>ä»…æ”¯æŒè¡¨è¾¾å¼</span></a></h5><p>æ¯ä¸ªç»‘å®šä»…æ”¯æŒ<strong>å•ä¸€è¡¨è¾¾å¼</strong>ï¼Œä¹Ÿå°±æ˜¯ä¸€æ®µèƒ½å¤Ÿè¢«æ±‚å€¼çš„ JavaScript ä»£ç ã€‚ä¸€ä¸ªç®€å•çš„åˆ¤æ–­æ–¹æ³•æ˜¯æ˜¯å¦å¯ä»¥åˆæ³•åœ°å†™åœ¨ return åé¢ã€‚<br> å› æ­¤ï¼Œä¸‹é¢çš„ä¾‹å­éƒ½æ˜¯<strong>æ— æ•ˆ</strong>çš„ï¼š</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token comment">&lt;!-- è¿™æ˜¯ä¸€ä¸ªè¯­å¥ï¼Œè€Œéè¡¨è¾¾å¼ --&gt;</span>
{{ var a = 1 }}

<span class="token comment">&lt;!-- æ¡ä»¶æ§åˆ¶ä¹Ÿä¸æ”¯æŒï¼Œè¯·ä½¿ç”¨ä¸‰å…ƒè¡¨è¾¾å¼ --&gt;</span>
{{ if (ok) { return message } }}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="è°ƒç”¨å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#è°ƒç”¨å‡½æ•°"><span>è°ƒç”¨å‡½æ•°</span></a></h5><p>å¯ä»¥åœ¨ç»‘å®šçš„è¡¨è¾¾å¼ä¸­ä½¿ç”¨ä¸€ä¸ªç»„ä»¶æš´éœ²çš„æ–¹æ³•ï¼š</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>time</span> <span class="token attr-name">:title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toTitleDate(date)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:datetime</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>date<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  {{ formatDate(date) }}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>time</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>TIP</strong></p><blockquote><p><strong>ç»‘å®šåœ¨è¡¨è¾¾å¼ä¸­çš„æ–¹æ³•åœ¨ç»„ä»¶æ¯æ¬¡æ›´æ–°æ—¶éƒ½ä¼šè¢«é‡æ–°è°ƒç”¨ï¼Œå› æ­¤ä¸åº”è¯¥äº§ç”Ÿä»»ä½•å‰¯ä½œç”¨ï¼Œæ¯”å¦‚æ”¹å˜æ•°æ®æˆ–è§¦å‘å¼‚æ­¥æ“ä½œã€‚</strong></p></blockquote><h5 id="å—é™çš„å…¨å±€è®¿é—®" tabindex="-1"><a class="header-anchor" href="#å—é™çš„å…¨å±€è®¿é—®"><span>å—é™çš„å…¨å±€è®¿é—®</span></a></h5><p>æ¨¡æ¿ä¸­çš„è¡¨è¾¾å¼å°†è¢«æ²™ç›’åŒ–ï¼Œä»…èƒ½å¤Ÿè®¿é—®åˆ°<a href="https://github.com/vuejs/core/blob/main/packages/shared/src/globalsAllowList.ts#L3" target="_blank" rel="noopener noreferrer">æœ‰é™çš„å…¨å±€å¯¹è±¡åˆ—è¡¨</a>ã€‚è¯¥åˆ—è¡¨ä¸­ä¼šæš´éœ²å¸¸ç”¨çš„å†…ç½®å…¨å±€å¯¹è±¡ï¼Œæ¯”å¦‚ Math å’Œ Dateã€‚<br> æ²¡æœ‰æ˜¾å¼åŒ…å«åœ¨åˆ—è¡¨ä¸­çš„å…¨å±€å¯¹è±¡å°†ä¸èƒ½åœ¨æ¨¡æ¿å†…è¡¨è¾¾å¼ä¸­è®¿é—®ï¼Œä¾‹å¦‚ç”¨æˆ·é™„åŠ åœ¨ window ä¸Šçš„å±æ€§ã€‚ç„¶è€Œï¼Œä½ ä¹Ÿå¯ä»¥è‡ªè¡Œåœ¨ <a href="https://cn.vuejs.org/api/application.html#app-config-globalproperties" target="_blank" rel="noopener noreferrer">app.config.globalProperties</a> ä¸Šæ˜¾å¼åœ°æ·»åŠ å®ƒä»¬ï¼Œä¾›æ‰€æœ‰çš„ Vue è¡¨è¾¾å¼ä½¿ç”¨ã€‚</p><h4 id="v-model-åŒå‘ç»‘å®š" tabindex="-1"><a class="header-anchor" href="#v-model-åŒå‘ç»‘å®š"><span>v-modelï¼ˆåŒå‘ç»‘å®šï¼‰</span></a></h4><h2 id="æ·±å…¥ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#æ·±å…¥ç»„ä»¶"><span>æ·±å…¥ç»„ä»¶</span></a></h2><h3 id="æ³¨å†Œ" tabindex="-1"><a class="header-anchor" href="#æ³¨å†Œ"><span>æ³¨å†Œ</span></a></h3><h3 id="props" tabindex="-1"><a class="header-anchor" href="#props"><span>Props</span></a></h3><p><a href="https://cn.vuejs.org/guide/components/props.html#props" target="_blank" rel="noopener noreferrer">Props</a></p><h4 id="propæ ¡éªŒ" tabindex="-1"><a class="header-anchor" href="#propæ ¡éªŒ"><span>Propæ ¡éªŒ</span></a></h4><p><a href="https://cn.vuejs.org/guide/components/props.html#prop-validation" target="_blank" rel="noopener noreferrer">https://cn.vuejs.org/guide/components/props.html#prop-validation</a></p><h4 id="booleanç±»å‹è½¬æ¢" tabindex="-1"><a class="header-anchor" href="#booleanç±»å‹è½¬æ¢"><span>Booleanç±»å‹è½¬æ¢</span></a></h4><p><a href="https://cn.vuejs.org/guide/components/props.html#boolean-casting" target="_blank" rel="noopener noreferrer">https://cn.vuejs.org/guide/components/props.html#boolean-casting</a></p><h3 id="äº‹ä»¶" tabindex="-1"><a class="header-anchor" href="#äº‹ä»¶"><span>äº‹ä»¶</span></a></h3><h4 id="è§¦å‘ä¸ç›‘å¬äº‹ä»¶" tabindex="-1"><a class="header-anchor" href="#è§¦å‘ä¸ç›‘å¬äº‹ä»¶"><span>è§¦å‘ä¸ç›‘å¬äº‹ä»¶</span></a></h4><h4 id="äº‹ä»¶å‚æ•°" tabindex="-1"><a class="header-anchor" href="#äº‹ä»¶å‚æ•°"><span>äº‹ä»¶å‚æ•°</span></a></h4><h4 id="å£°æ˜è§¦å‘çš„äº‹ä»¶" tabindex="-1"><a class="header-anchor" href="#å£°æ˜è§¦å‘çš„äº‹ä»¶"><span>å£°æ˜è§¦å‘çš„äº‹ä»¶</span></a></h4><h4 id="äº‹ä»¶æ ¡éªŒ" tabindex="-1"><a class="header-anchor" href="#äº‹ä»¶æ ¡éªŒ"><span>äº‹ä»¶æ ¡éªŒ</span></a></h4><p>å’Œå¯¹ <code>props</code> æ·»åŠ ç±»å‹æ ¡éªŒçš„æ–¹å¼ç±»ä¼¼ï¼Œæ‰€æœ‰è§¦å‘çš„äº‹ä»¶ä¹Ÿå¯ä»¥ä½¿ç”¨å¯¹è±¡å½¢å¼æ¥æè¿°ã€‚<br> è¦ä¸ºäº‹ä»¶æ·»åŠ æ ¡éªŒï¼Œé‚£ä¹ˆäº‹ä»¶å¯ä»¥è¢«èµ‹å€¼ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œæ¥å—çš„å‚æ•°å°±æ˜¯æŠ›å‡ºäº‹ä»¶æ—¶ä¼ å…¥ <code>emit</code> çš„å†…å®¹ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼æ¥è¡¨æ˜äº‹ä»¶æ˜¯å¦åˆæ³•ã€‚</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// æ²¡æœ‰æ ¡éªŒ</span>
    <span class="token literal-property property">click</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>

    <span class="token comment">// æ ¡éªŒ submit äº‹ä»¶</span>
    <span class="token function-variable function">submit</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> email<span class="token punctuation">,</span> password <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>email <span class="token operator">&amp;&amp;</span> password<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">&#39;Invalid submit event payload!&#39;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword">function</span> <span class="token function">submitForm</span><span class="token punctuation">(</span><span class="token parameter">email<span class="token punctuation">,</span> password</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;submit&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> email<span class="token punctuation">,</span> password <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="v-model" tabindex="-1"><a class="header-anchor" href="#v-model"><span>v-model</span></a></h3><p><a href="https://cn.vuejs.org/guide/components/v-model.html#component-v-model" target="_blank" rel="noopener noreferrer">ç»„ä»¶v-model</a></p><h4 id="åŸºæœ¬ç”¨æ³•" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬ç”¨æ³•"><span>åŸºæœ¬ç”¨æ³•</span></a></h4><h4 id="v-modelçš„å‚æ•°" tabindex="-1"><a class="header-anchor" href="#v-modelçš„å‚æ•°"><span>v-modelçš„å‚æ•°</span></a></h4><h4 id="å¤šä¸ªv-modelç»‘å®š" tabindex="-1"><a class="header-anchor" href="#å¤šä¸ªv-modelç»‘å®š"><span>å¤šä¸ªv-modelç»‘å®š</span></a></h4><h4 id="å¤„ç†v-modelä¿®é¥°ç¬¦" tabindex="-1"><a class="header-anchor" href="#å¤„ç†v-modelä¿®é¥°ç¬¦"><span>å¤„ç†v-modelä¿®é¥°ç¬¦</span></a></h4><h5 id="å¸¦å‚æ•°çš„v-modelä¿®é¥°ç¬¦" tabindex="-1"><a class="header-anchor" href="#å¸¦å‚æ•°çš„v-modelä¿®é¥°ç¬¦"><span>å¸¦å‚æ•°çš„v-modelä¿®é¥°ç¬¦</span></a></h5><h3 id="é€ä¼ attributes" tabindex="-1"><a class="header-anchor" href="#é€ä¼ attributes"><span>é€ä¼ Attributes</span></a></h3><h4 id="attributesç»§æ‰¿" tabindex="-1"><a class="header-anchor" href="#attributesç»§æ‰¿"><span>Attributesç»§æ‰¿</span></a></h4><h2 id="å†…ç½®ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#å†…ç½®ç»„ä»¶"><span>å†…ç½®ç»„ä»¶</span></a></h2><h3 id="teleport" tabindex="-1"><a class="header-anchor" href="#teleport"><span>Teleport</span></a></h3><p>åœ¨Vue.jsä¸­ï¼Œ<code>Teleport</code> æ˜¯ä¸€ä¸ªå†…ç½®çš„ç»„ä»¶ï¼Œå®ƒæä¾›äº†ä¸€ç§å°†ç»„ä»¶çš„å­èŠ‚ç‚¹ä¼ é€åˆ°Vueåº”ç”¨å¤–éƒ¨çš„DOMèŠ‚ç‚¹çš„èƒ½åŠ›ã€‚è¿™åœ¨å½“ä½ éœ€è¦å°†æ¨¡æ€æ¡†ã€é€šçŸ¥æˆ–å…¶ä»–æµ®åŠ¨å…ƒç´ ç§»åˆ°DOMæ ‘ä¸­æ›´åˆé€‚çš„ä½ç½®æ—¶éå¸¸æœ‰ç”¨ï¼Œæ¯”å¦‚ç›´æ¥æŒ‚è½½åˆ° <code>body</code> æ ‡ç­¾ä¸‹ï¼Œä»¥é¿å…æ ·å¼å†²çªæˆ–z-indexé—®é¢˜ã€‚</p><h4 id="åŸºæœ¬ç”¨æ³•-1" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬ç”¨æ³•-1"><span>åŸºæœ¬ç”¨æ³•</span></a></h4><p>ä¸‹é¢æ˜¯ä¸€ä¸ª <code>Teleport</code> ç»„ä»¶çš„åŸºæœ¬ä¾‹å­ï¼š</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- ä½¿ç”¨Teleportå°†æ¨¡æ€æ¡†ç§»åˆ°bodyä¸‹ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>teleport</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>body<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>modal<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- æ¨¡æ€æ¡†å†…å®¹ --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>This is a modal!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>teleport</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.modal</span> <span class="token punctuation">{</span>
  <span class="token comment">/* æ¨¡æ€æ¡†æ ·å¼ */</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ¨¡æ€æ¡† <code>&lt;div class=&quot;modal&quot;&gt;...&lt;/div&gt;</code> ä¼šè¢«ä¼ é€åˆ°é¡µé¢çš„ <code>&lt;body&gt;</code> æ ‡ç­¾ä¸‹ï¼Œè€Œä¸æ˜¯ç•™åœ¨å½“å‰ç»„ä»¶çš„DOMç»“æ„ä¸­ã€‚è¿™æ ·ï¼Œæ¨¡æ€æ¡†å°±èƒ½å¤Ÿåœ¨é¡µé¢ä¸Šå æ®å…¨å±€å±‚çº§ï¼Œé¿å…äº†å¯èƒ½å‡ºç°çš„æ ·å¼ç»§æ‰¿å’Œå¸ƒå±€é—®é¢˜ã€‚</p><h4 id="åŠ¨æ€ç›®æ ‡" tabindex="-1"><a class="header-anchor" href="#åŠ¨æ€ç›®æ ‡"><span>åŠ¨æ€ç›®æ ‡</span></a></h4><p><code>Teleport</code> çš„ <code>to</code> å±æ€§è¿˜å¯ä»¥æ˜¯ä¸€ä¸ªåŠ¨æ€å±æ€§ï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥æ ¹æ®æ¡ä»¶åŠ¨æ€åœ°æ”¹å˜ç›®æ ‡å…ƒç´ ï¼š</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>teleport</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>teleportTarget<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- Content to teleport --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>teleport</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code>export default {
  data() {
    return {
      teleportTarget: &#39;#some-element-id&#39;
    };
  }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ<code>teleportTarget</code> æ•°æ®å±æ€§å†³å®šäº†ç›®æ ‡å…ƒç´ çš„ä½ç½®ï¼Œå¯ä»¥æ ¹æ®éœ€è¦è¿›è¡Œæ›´æ”¹ã€‚</p><h4 id="æ³¨æ„äº‹é¡¹" tabindex="-1"><a class="header-anchor" href="#æ³¨æ„äº‹é¡¹"><span>æ³¨æ„äº‹é¡¹</span></a></h4><p>ä½¿ç”¨ <code>Teleport</code> æ—¶è¦æ³¨æ„å‡ ä¸ªå…³é”®ç‚¹ï¼š</p><ul><li><code>Teleport</code> çš„å†…å®¹å¯ä»¥åœ¨ä»»ä½•æ—¶å€™åŠ¨æ€åœ°è¢«ä¼ é€åˆ°ä¸åŒçš„ä½ç½®ã€‚</li><li>ä¼ é€çš„å†…å®¹ä¾ç„¶æ˜¯Vueç»„ä»¶æ ‘çš„ä¸€éƒ¨åˆ†ï¼Œè¿™æ„å‘³ç€å®ƒä»¬ä¾ç„¶å¯ä»¥è®¿é—®åˆ°ç›¸åŒçš„ä¸Šä¸‹æ–‡ï¼Œä¾‹å¦‚çˆ¶ç»„ä»¶æä¾›çš„æ•°æ®å’Œäº‹ä»¶ã€‚</li><li>ä¼ é€å†…å®¹çš„äº‹ä»¶å’Œæ•°æ®ç»‘å®šä¸ä¼šå—åˆ°å½±å“ã€‚</li><li><code>Teleport</code> åœ¨SSRï¼ˆæœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼‰ä¸­æœ‰æ‰€é™åˆ¶ï¼Œå› ä¸ºåœ¨æœåŠ¡å™¨ä¸Šæ²¡æœ‰å…¨å±€çš„ <code>document</code> æˆ– <code>body</code>ã€‚</li></ul><p><code>Teleport</code> æ˜¯Vue 3ä¸­ä¸€ä¸ªéå¸¸å®ç”¨çš„åŠŸèƒ½ï¼Œå®ƒè§£å†³äº†ä¸€äº›å¸¸è§çš„Webå¼€å‘éš¾é¢˜ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†æ¨¡æ€æ¡†å’Œå¼¹å‡ºå±‚æ—¶ã€‚</p><h3 id="suspense" tabindex="-1"><a class="header-anchor" href="#suspense"><span>Suspense</span></a></h3><p>Vue 3å¼•å…¥äº†ä¸€ä¸ªåä¸º <code>Suspense</code> çš„æ–°å†…ç½®ç»„ä»¶ï¼Œå®ƒæä¾›äº†ä¸€ç§ç­‰å¾…å¼‚æ­¥ç»„ä»¶åŠ è½½çš„æœºåˆ¶ï¼Œå¹¶åœ¨åŠ è½½è¿‡ç¨‹ä¸­æ˜¾ç¤ºä¸€ä¸ªåå¤‡ï¼ˆfallbackï¼‰å†…å®¹ã€‚è¿™å¯¹äºæ”¹å–„ç”¨æˆ·ä½“éªŒéå¸¸æœ‰ç”¨ï¼Œå› ä¸ºå®ƒå…è®¸å¼€å‘è€…ä¸ºç»„ä»¶çš„åŠ è½½çŠ¶æ€æä¾›ä¸€ä¸ªæ˜ç¡®çš„æŒ‡ç¤ºï¼Œè€Œä¸æ˜¯è®©ç”¨æˆ·é¢å¯¹ä¸€ä¸ªç©ºç™½çš„å±å¹•æˆ–ä¸æ–­å˜åŒ–çš„UIã€‚</p><h4 id="åŸºæœ¬ç”¨æ³•-2" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬ç”¨æ³•-2"><span>åŸºæœ¬ç”¨æ³•</span></a></h4><p>ä½¿ç”¨ <code>Suspense</code> åŒ…è£¹å¼‚æ­¥ç»„ä»¶ï¼Œé…ç½®å¥½<code>default</code>ï¼Œå¹¶æä¾›ä¸€ä¸ª <code>fallback</code> æ’æ§½æ¥æ˜¾ç¤ºåŠ è½½çŠ¶æ€ï¼š</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Suspense</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#default</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AsyncComponent</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#fallback</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>Loading...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Suspense</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineAsyncComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> AsyncComponent <span class="token operator">=</span> <span class="token function">defineAsyncComponent</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;./components/AsyncComponent.vue&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    AsyncComponent
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>AsyncComponent</code> æ˜¯é€šè¿‡ <code>defineAsyncComponent</code> æ–¹æ³•å®šä¹‰çš„å¼‚æ­¥ç»„ä»¶ã€‚åœ¨ <code>AsyncComponent</code> åŠ è½½å¹¶å‡†å¤‡å¥½æ¸²æŸ“ä¹‹å‰ï¼Œç”¨æˆ·å°†çœ‹åˆ° &quot;Loading...&quot; çš„æ–‡æœ¬ã€‚</p><h4 id="ä½¿ç”¨åœºæ™¯" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨åœºæ™¯"><span>ä½¿ç”¨åœºæ™¯</span></a></h4><p><code>Suspense</code> ç‰¹åˆ«é€‚ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š</p><ul><li>åŠ è½½å¼‚æ­¥ç»„ä»¶æ—¶ï¼Œéœ€è¦å‘ç”¨æˆ·æ˜¾ç¤ºä¸€ä¸ªåŠ è½½æŒ‡ç¤ºå™¨ã€‚</li><li>åœ¨ç­‰å¾…æ•°æ®è¯·æ±‚å®Œæˆä¹‹å‰ï¼Œéœ€è¦æ˜¾ç¤ºä¸€ä¸ªå ä½ç¬¦æˆ–åŠ è½½çŠ¶æ€ã€‚</li></ul><h4 id="ç»“åˆå¼‚æ­¥ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#ç»“åˆå¼‚æ­¥ç»„ä»¶"><span>ç»“åˆå¼‚æ­¥ç»„ä»¶</span></a></h4><p>å¼‚æ­¥ç»„ä»¶å¯ä»¥é€šè¿‡ <code>defineAsyncComponent</code> æ–¹æ³•åˆ›å»ºï¼Œå¹¶å¯ä»¥ä¸ <code>Suspense</code> ç»“åˆä½¿ç”¨ï¼Œä»¥ä¾¿åœ¨ç»„ä»¶åŠ è½½æ—¶æä¾›ä¸€ä¸ªåå¤‡å†…å®¹ã€‚ä»¥ä¸‹æ˜¯å¦‚ä½•å®šä¹‰ä¸€ä¸ªå¼‚æ­¥ç»„ä»¶ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineAsyncComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> AsyncComponent <span class="token operator">=</span> <span class="token function">defineAsyncComponent</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;./components/AsyncComponent.vue&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æ³¨æ„äº‹é¡¹-1" tabindex="-1"><a class="header-anchor" href="#æ³¨æ„äº‹é¡¹-1"><span>æ³¨æ„äº‹é¡¹</span></a></h4><ul><li><code>Suspense</code> ç»„ä»¶ç›®å‰ä»…åœ¨Vue 3ä¸­å¯ç”¨ã€‚</li><li><code>Suspense</code> è¿˜å¯ä»¥å’ŒVue Routerä¸€èµ·ä½¿ç”¨ï¼Œä»¥ä¾¿åœ¨è·¯ç”±çº§åˆ«æ‡’åŠ è½½ç»„ä»¶æ—¶æä¾›åŠ è½½æŒ‡ç¤ºã€‚</li><li><code>Suspense</code> æ”¯æŒåµŒå¥—ä½¿ç”¨ï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥åœ¨ä¸€ä¸ª <code>Suspense</code> ç»„ä»¶å†…éƒ¨åŒ…å«å¦ä¸€ä¸ª <code>Suspense</code> ç»„ä»¶ï¼Œæ¯ä¸ªéƒ½æœ‰è‡ªå·±çš„åå¤‡å†…å®¹ã€‚</li><li>åœ¨æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰ä¸­ï¼Œ<code>Suspense</code> ä¹Ÿæœ‰æ‰€æ”¯æŒï¼Œä½†æ˜¯å®ç°æ–¹å¼å¯èƒ½æœ‰æ‰€ä¸åŒï¼Œå› ä¸ºæœåŠ¡ç«¯æ¸²æŸ“éœ€è¦åŒæ­¥è§£ææ‰€æœ‰çš„å¼‚æ­¥ä¾èµ–ã€‚</li></ul><h2 id="ç»„åˆå¼api" tabindex="-1"><a class="header-anchor" href="#ç»„åˆå¼api"><span>ç»„åˆå¼API</span></a></h2><h3 id="refã€reactive" tabindex="-1"><a class="header-anchor" href="#refã€reactive"><span>refã€reactive</span></a></h3><h4 id="ref" tabindex="-1"><a class="header-anchor" href="#ref"><span>ref</span></a></h4><ul><li>ä½œç”¨: å®šä¹‰ä¸€ä¸ªå“åº”å¼çš„æ•°æ®</li><li>è¯­æ³•: <code>let xxx = ref(initValue)</code><ul><li>åˆ›å»ºä¸€ä¸ªåŒ…å«å“åº”å¼æ•°æ®çš„<strong>å¼•ç”¨å¯¹è±¡ï¼ˆreferenceå¯¹è±¡ï¼Œç®€ç§°refå¯¹è±¡ï¼‰</strong>ã€‚</li><li>JSä¸­æ“ä½œæ•°æ®ï¼š <code>xxx.value</code></li><li>æ¨¡æ¿ä¸­è¯»å–æ•°æ®: ä¸éœ€è¦.valueï¼Œç›´æ¥ï¼š<code>&lt;div&gt;{{xxx}}&lt;/div&gt;</code></li></ul></li><li>å¤‡æ³¨ï¼š <ul><li>æ¥æ”¶çš„æ•°æ®å¯ä»¥æ˜¯ï¼šåŸºæœ¬ç±»å‹ã€ä¹Ÿå¯ä»¥æ˜¯å¯¹è±¡ç±»å‹ã€‚</li><li>åŸºæœ¬ç±»å‹çš„æ•°æ®ï¼šå“åº”å¼ä¾ç„¶æ˜¯é <code>Object.defineProperty()</code>çš„<code>get</code>ä¸<code>set</code>å®Œæˆçš„ã€‚</li><li>å¯¹è±¡ç±»å‹çš„æ•°æ®ï¼šå†…éƒ¨ â€œ æ±‚åŠ© â€ äº†Vue3.0ä¸­çš„ä¸€ä¸ªæ–°å‡½æ•°â€”â€” <code>reactive</code>å‡½æ•°ã€‚</li></ul></li></ul><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">

<span class="token keyword">import</span> <span class="token punctuation">{</span>ref<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> message <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;Message&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">changeMessage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  message<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&#39;Message changed!&#39;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    {{message}}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeMessage<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Change Message<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">

<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> info <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;QZY&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">21</span><span class="token punctuation">,</span>
  <span class="token literal-property property">job</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;IT&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;è‰ºæœ¯å®¶&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;åŒ»ç”Ÿ&#39;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">change</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// èƒ½è®¿é—®å±æ€§ï¼Œä½†ä¿®æ”¹æ—¶å¿…é¡»å…ˆé€šè¿‡ .value æ¥æ‹¿åˆ°å¯¹è±¡</span>
  info<span class="token punctuation">.</span>value<span class="token punctuation">.</span>job<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&#39;å‰ç«¯å·¥ç¨‹å¸ˆ&#39;</span>
  info<span class="token punctuation">.</span>value<span class="token punctuation">.</span>job<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&#39;è®¾è®¡å¸ˆ&#39;</span>
  info<span class="token punctuation">.</span>value<span class="token punctuation">.</span>job<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&#39;å¤§å¤«&#39;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--  èƒ½å¤ŸæŸ¥çœ‹å±æ€§  --&gt;</span>
    {{info.job[0]}}
    {{info.job[1]}}
    {{info.job[2]}}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>change<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="reactive" tabindex="-1"><a class="header-anchor" href="#reactive"><span>reactive</span></a></h4><ul><li>ä½œç”¨: å®šä¹‰ä¸€ä¸ª<strong>å¯¹è±¡ç±»å‹</strong>çš„å“åº”å¼æ•°æ®ï¼ˆåŸºæœ¬ç±»å‹ä¸è¦ç”¨å®ƒï¼Œè¦ç”¨<code>ref</code>å‡½æ•°ï¼‰</li><li>è¯­æ³•ï¼š<code>const ä»£ç†å¯¹è±¡= reactive(æºå¯¹è±¡)</code>æ¥æ”¶ä¸€ä¸ªå¯¹è±¡ï¼ˆæˆ–æ•°ç»„ï¼‰ï¼Œè¿”å›ä¸€ä¸ª<strong>ä»£ç†å¯¹è±¡ï¼ˆProxyçš„å®ä¾‹å¯¹è±¡ï¼Œç®€ç§°proxyå¯¹è±¡ï¼‰</strong></li><li>reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®æ˜¯â€œæ·±å±‚æ¬¡çš„â€ã€‚</li><li>å†…éƒ¨åŸºäº ES6 çš„ Proxy å®ç°ï¼Œé€šè¿‡ä»£ç†å¯¹è±¡æ“ä½œæºå¯¹è±¡å†…éƒ¨æ•°æ®è¿›è¡Œæ“ä½œã€‚</li><li>ä¸èƒ½ç›´æ¥ä¿®æ”¹æ•´ä½“ï¼Œå¦‚<code>info = {...}</code></li></ul><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">

<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> info <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;John Doe&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>
  <span class="token literal-property property">job</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;å·¥ç¨‹å¸ˆ&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;æ¸…æ´å·¥&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;åŒ»ç”Ÿ&#39;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    {{info.name}} {{info.age}}
    <span class="token comment">&lt;!-- éå†jobæ•°ç»„ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in info.job<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{item}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="refè§£åŒ…ç»†èŠ‚" tabindex="-1"><a class="header-anchor" href="#refè§£åŒ…ç»†èŠ‚"><span>refè§£åŒ…ç»†èŠ‚</span></a></h4><h5 id="ä½œä¸º-reactive-å¯¹è±¡çš„å±æ€§" tabindex="-1"><a class="header-anchor" href="#ä½œä¸º-reactive-å¯¹è±¡çš„å±æ€§"><span>ä½œä¸º reactive å¯¹è±¡çš„å±æ€§</span></a></h5><p>ä¸€ä¸ª ref ä¼šåœ¨ä½œä¸ºå“åº”å¼å¯¹è±¡çš„å±æ€§è¢«è®¿é—®æˆ–ä¿®æ”¹æ—¶è‡ªåŠ¨è§£åŒ…ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒçš„è¡Œä¸ºå°±åƒä¸€ä¸ªæ™®é€šçš„å±æ€§ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  count
<span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token comment">// 0</span>

state<span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>count<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">// 1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœå°†ä¸€ä¸ªæ–°çš„ ref èµ‹å€¼ç»™ä¸€ä¸ªå…³è”äº†å·²æœ‰ ref çš„å±æ€§ï¼Œé‚£ä¹ˆå®ƒä¼šæ›¿æ¢æ‰æ—§çš„ refï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> otherCount <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

state<span class="token punctuation">.</span>count <span class="token operator">=</span> otherCount
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token comment">// 2</span>
<span class="token comment">// åŸå§‹ ref ç°åœ¨å·²ç»å’Œ state.count å¤±å»è”ç³»</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>count<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">// 1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åªæœ‰å½“åµŒå¥—åœ¨ä¸€ä¸ªæ·±å±‚å“åº”å¼å¯¹è±¡å†…æ—¶ï¼Œæ‰ä¼šå‘ç”Ÿ ref è§£åŒ…ã€‚å½“å…¶ä½œä¸º<a href="https://cn.vuejs.org/api/reactivity-advanced.html#shallowreactive" target="_blank" rel="noopener noreferrer">æµ…å±‚å“åº”å¼å¯¹è±¡</a>çš„å±æ€§è¢«è®¿é—®æ—¶ä¸ä¼šè§£åŒ…ã€‚</p><h5 id="æ•°ç»„å’Œé›†åˆçš„æ³¨æ„äº‹é¡¹" tabindex="-1"><a class="header-anchor" href="#æ•°ç»„å’Œé›†åˆçš„æ³¨æ„äº‹é¡¹"><span>æ•°ç»„å’Œé›†åˆçš„æ³¨æ„äº‹é¡¹</span></a></h5><p>ä¸ <code>reactive</code> å¯¹è±¡ä¸åŒçš„æ˜¯ï¼Œå½“ <code>ref</code> ä½œä¸ºå“åº”å¼æ•°ç»„æˆ–åŸç”Ÿé›†åˆç±»å‹ (å¦‚ Map) ä¸­çš„å…ƒç´ è¢«è®¿é—®æ—¶ï¼Œå®ƒ<strong>ä¸ä¼š</strong>è¢«è§£åŒ…ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> books <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;Vue 3 Guide&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// è¿™é‡Œéœ€è¦ .value</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>books<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>

<span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#39;count&#39;</span><span class="token punctuation">,</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// è¿™é‡Œéœ€è¦ .value</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;count&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="åœ¨æ¨¡æ¿ä¸­è§£åŒ…çš„æ³¨æ„äº‹é¡¹" tabindex="-1"><a class="header-anchor" href="#åœ¨æ¨¡æ¿ä¸­è§£åŒ…çš„æ³¨æ„äº‹é¡¹"><span>åœ¨æ¨¡æ¿ä¸­è§£åŒ…çš„æ³¨æ„äº‹é¡¹</span></a></h4><p>åœ¨æ¨¡æ¿æ¸²æŸ“ä¸Šä¸‹æ–‡ä¸­ï¼Œåªæœ‰é¡¶çº§çš„ <code>ref</code> å±æ€§æ‰ä¼šè¢«è§£åŒ…ã€‚<br> åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œcount å’Œ object æ˜¯é¡¶çº§å±æ€§ï¼Œä½† object.id ä¸æ˜¯ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> object <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å› æ­¤ï¼Œè¿™ä¸ªè¡¨è¾¾å¼æŒ‰é¢„æœŸå·¥ä½œï¼š</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code>{{ count + 1 }}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä½†è¿™ä¸ª<strong>ä¸ä¼š</strong>ï¼š</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code>{{ object.id + 1 }}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ¸²æŸ“çš„ç»“æœå°†æ˜¯ [object Object]1ï¼Œå› ä¸ºåœ¨è®¡ç®—è¡¨è¾¾å¼æ—¶ object.id æ²¡æœ‰è¢«è§£åŒ…ï¼Œä»ç„¶æ˜¯ä¸€ä¸ª ref å¯¹è±¡ã€‚ä¸ºè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥å°† id è§£æ„ä¸ºä¸€ä¸ªé¡¶çº§å±æ€§</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code>const { id } = object
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code>{{ id + 1 }}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç°åœ¨æ¸²æŸ“çš„ç»“æœå°†æ˜¯ 2ã€‚<br> å¦ä¸€ä¸ªéœ€è¦æ³¨æ„çš„ç‚¹æ˜¯ï¼Œå¦‚æœ ref æ˜¯æ–‡æœ¬æ’å€¼çš„æœ€ç»ˆè®¡ç®—å€¼ (å³  æ ‡ç­¾)ï¼Œé‚£ä¹ˆå®ƒå°†è¢«è§£åŒ…ï¼Œå› æ­¤ä»¥ä¸‹å†…å®¹å°†æ¸²æŸ“ä¸º 1ï¼š</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code>{{ object.id }}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¯¥ç‰¹æ€§ä»…ä»…æ˜¯æ–‡æœ¬æ’å€¼çš„ä¸€ä¸ªä¾¿åˆ©ç‰¹æ€§ï¼Œç­‰ä»·äº <code>{{ object.id.value }}</code>ã€‚</p><h4 id="æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“"><span>æ€»ç»“</span></a></h4><ul><li>ä»å®šä¹‰æ•°æ®è§’åº¦å¯¹æ¯”ï¼š <ul><li>refç”¨æ¥å®šä¹‰ï¼š<strong>åŸºæœ¬ç±»å‹æ•°æ®</strong>ã€‚</li><li>reactiveç”¨æ¥å®šä¹‰ï¼š<strong>å¯¹è±¡ï¼ˆæˆ–æ•°ç»„ï¼‰ç±»å‹æ•°æ®</strong>ã€‚</li><li>å¤‡æ³¨ï¼šrefä¹Ÿå¯ä»¥ç”¨æ¥å®šä¹‰<strong>å¯¹è±¡ï¼ˆæˆ–æ•°ç»„ï¼‰ç±»å‹æ•°æ®</strong>, å®ƒå†…éƒ¨ä¼šè‡ªåŠ¨é€šè¿‡<code>reactive</code>è½¬ä¸º<strong>ä»£ç†å¯¹è±¡</strong>ã€‚</li></ul></li><li>ä»åŸç†è§’åº¦å¯¹æ¯”ï¼š <ul><li>refé€šè¿‡<code>Object.defineProperty()</code>çš„<code>get</code>ä¸<code>set</code>æ¥å®ç°å“åº”å¼ï¼ˆæ•°æ®åŠ«æŒï¼‰ã€‚</li><li>reactiveé€šè¿‡ä½¿ç”¨<strong>Proxy</strong>æ¥å®ç°å“åº”å¼ï¼ˆæ•°æ®åŠ«æŒï¼‰, å¹¶é€šè¿‡<strong>Reflect</strong>æ“ä½œ<strong>æºå¯¹è±¡</strong>å†…éƒ¨çš„æ•°æ®ã€‚</li></ul></li><li>ä»ä½¿ç”¨è§’åº¦å¯¹æ¯”ï¼š <ul><li>refå®šä¹‰çš„æ•°æ®ï¼šæ“ä½œæ•°æ®<strong>éœ€è¦</strong><code>.value</code>ï¼Œè¯»å–æ•°æ®æ—¶æ¨¡æ¿ä¸­ç›´æ¥è¯»å–<strong>ä¸éœ€è¦</strong><code>.value</code>ã€‚</li><li>reactiveå®šä¹‰çš„æ•°æ®ï¼šæ“ä½œæ•°æ®ä¸è¯»å–æ•°æ®ï¼š<strong>å‡ä¸éœ€è¦</strong><code>.value</code>ï¼ˆ<strong>è‡ªåŠ¨æ‹†åŒ…</strong>ï¼‰ã€‚</li></ul></li></ul><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> data1 <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data1<span class="token punctuation">.</span>value<span class="token punctuation">)</span>

<span class="token keyword">let</span> data2 <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  b<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  c<span class="token operator">:</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data2<span class="token punctuation">.</span>a<span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data2<span class="token punctuation">.</span>b<span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data2<span class="token punctuation">.</span>c<span class="token punctuation">)</span>  <span class="token comment">// è‡ªåŠ¨æ‹†åŒ…</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>å¯¹è±¡ç±»å‹</strong>çš„æ•´ä½“ä¿®æ”¹ï¼š <ul><li>refå¼•ç”¨çš„<strong>å¯¹è±¡ç±»å‹</strong>èƒ½å¤Ÿé€šè¿‡å­—é¢ç±»çš„å½¢å¼ä¿®æ”¹åŸæ¥çš„åœ°å€</li></ul></li></ul><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code>let user = ref({
  username: &#39;admin&#39;,
  password: &#39;123456&#39;
})
user = {username: &#39;root&#39;, password: &#39;root&#39;}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>reactiveå¼•ç”¨çš„<strong>å¯¹è±¡ç±»å‹</strong>åªèƒ½ä¿®æ”¹å…¶å€¼ï¼Œä¸èƒ½ä¿®æ”¹åœ°å€</li></ul><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code>let user = reactive({
  username: &#39;admin&#39;,
  password: &#39;123456&#39;
})
Object.assign(user, {name: &#39;root&#39;, password: &#39;root&#39;})
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="torefã€torefs" tabindex="-1"><a class="header-anchor" href="#torefã€torefs"><span>toRefã€toRefs</span></a></h3><p>åœ¨ Vue 3 ä¸­ï¼Œ<code>toRef</code> å’Œ <code>toRefs</code> æ˜¯ç”¨äºåˆ›å»ºå“åº”å¼å¼•ç”¨çš„å‡½æ•°ã€‚<br> é€šè¿‡ä½¿ç”¨ <code>toRef</code> å’Œ <code>toRefs</code>ï¼Œå¯ä»¥æ›´æ–¹ä¾¿åœ°å¤„ç†å“åº”å¼æ•°æ®å¯¹è±¡ä¸­çš„å±æ€§ï¼Œå¹¶ç¡®ä¿åœ¨æ›´æ–°å±æ€§æ—¶èƒ½å¤Ÿæ­£ç¡®åœ°è§¦å‘å“åº”å¼æ›´æ–°ã€‚</p><ol><li><code>toRef</code>ï¼š <ul><li><code>toRef</code> å‡½æ•°æ¥æ”¶ä¸€ä¸ªå“åº”å¼å¯¹è±¡å’Œä¸€ä¸ªå±æ€§åï¼Œå¹¶è¿”å›ä¸€ä¸ªæŒ‡å‘è¯¥å±æ€§çš„ ref å¯¹è±¡ã€‚</li><li>å½“æºå¯¹è±¡çš„å±æ€§å‘ç”Ÿå˜åŒ–æ—¶ï¼Œé€šè¿‡ <code>toRef</code> åˆ›å»ºçš„ ref å¯¹è±¡ä¹Ÿä¼šç›¸åº”åœ°æ›´æ–°ã€‚</li></ul></li></ol><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> reactive<span class="token punctuation">,</span> toRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> countRef <span class="token operator">=</span> <span class="token function">toRef</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> <span class="token string">&#39;count&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>countRef<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡ºå½“å‰ count çš„å€¼</span>

state<span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// ä¿®æ”¹ count çš„å€¼</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>countRef<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡ºä¿®æ”¹åçš„ count çš„å€¼</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><code>toRefs</code>ï¼š <ul><li><code>toRefs</code> å‡½æ•°æ¥æ”¶ä¸€ä¸ªå“åº”å¼å¯¹è±¡ï¼Œå¹¶ä»¥åŒ…å«æ¯ä¸ªå±æ€§çš„ ref å¯¹è±¡çš„å½¢å¼è¿”å›ä¸€ä¸ªæ™®é€šå¯¹è±¡ã€‚</li><li>è¿™æ ·åšæ˜¯ä¸ºäº†èƒ½å¤Ÿåœ¨ setup å‡½æ•°ä¸­å°†å“åº”å¼å¯¹è±¡çš„å±æ€§è§£æ„ä¸ºå•ç‹¬çš„ ref å¯¹è±¡ï¼Œä½¿å¾—æ¨¡æ¿ä¸­èƒ½ç›´æ¥è®¿é—®å’Œæ›´æ–°è¿™äº›å±æ€§ï¼Œè€Œæ— éœ€ä½¿ç”¨ <code>.value</code>ã€‚</li></ul></li></ol><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> reactive<span class="token punctuation">,</span> toRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&#39;Hello&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> count<span class="token punctuation">,</span> message <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>count<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡ºå½“å‰ count çš„å€¼</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡ºå½“å‰ message çš„å€¼</span>

state<span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// ä¿®æ”¹ count çš„å€¼</span>
state<span class="token punctuation">.</span>message <span class="token operator">=</span> <span class="token string">&#39;Bonjour&#39;</span><span class="token punctuation">;</span> <span class="token comment">// ä¿®æ”¹ message çš„å€¼</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>count<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡ºä¿®æ”¹åçš„ count çš„å€¼</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡ºä¿®æ”¹åçš„ message çš„å€¼</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">

<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive<span class="token punctuation">,</span> toRef<span class="token punctuation">,</span> toRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> cmd <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;queryIP&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token string">&#39;ipconfig&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> nameRef <span class="token operator">=</span> <span class="token function">toRef</span><span class="token punctuation">(</span>cmd<span class="token punctuation">,</span> <span class="token string">&#39;name&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åˆ›å»ºå•ä¸ªå¼•ç”¨</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span>name<span class="token punctuation">,</span> code<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>cmd<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç›´æ¥åˆ›å»ºå¤šä¸ªå¼•ç”¨</span>

<span class="token doc-comment comment">/**
 * ä¿®æ”¹å¼•ç”¨å°†åŒæ­¥å½±å“åˆ°åŸæ¥çš„å€¼
 */</span>
<span class="token keyword">function</span> <span class="token function">change1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  nameRef<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&#39;IPQuery&#39;</span><span class="token punctuation">;</span>
  code<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&#39;ifconfig&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * ä¿®æ”¹åŸå§‹çš„å€¼å°†åŒæ­¥å½±å“åˆ°å¼•ç”¨
 */</span>
<span class="token keyword">function</span> <span class="token function">change2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  cmd<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;æŸ¥çœ‹ç½‘ç»œç«¯å£&#39;</span>
  cmd<span class="token punctuation">.</span>code <span class="token operator">=</span> <span class="token string">&#39;net stat -ano&#39;</span>
<span class="token punctuation">}</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    reactive:{{cmd.name}}{{cmd.code}} <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    toRef:{{nameRef}} <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    toRes:{{name}}{{code}}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>change1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹å±æ€§1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>change2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹å±æ€§2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="computed" tabindex="-1"><a class="header-anchor" href="#computed"><span>computed</span></a></h3><p>è®¡ç®—å‡½æ•°è¦ç‚¹ï¼š</p><ul><li><strong>æœ‰ç¼“å­˜</strong>ï¼šåªè¦ç”¨äºè®¡ç®—çš„æºå±æ€§ä¸å‘ç”Ÿå˜åŒ–ï¼Œæ— è®ºä½¿ç”¨å¤šå°‘æ¬¡ï¼Œ<code>computed</code>å‡½æ•°åªæ‰§è¡Œ1æ¬¡</li><li><strong>åªè¯»</strong>ï¼šä¸èƒ½ç›´æ¥æ›´æ”¹å…¶è®¡ç®—çš„å€¼ï¼Œå¿…é¡»é€šè¿‡å†…éƒ¨çš„<code>set</code>æ–¹æ³•æ”¹å˜<strong>è®¡ç®—æºå±æ€§</strong>æ¥é—´æ¥æ›´æ”¹å…¶å€¼</li></ul><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span>computed<span class="token punctuation">,</span> ref<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> firstName <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;ada&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> lastName <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;wang&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// è®¡ç®—å±æ€§ï¼ˆç®€å†™ï¼‰</span>
<span class="token keyword">let</span> fullName <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> firstName<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token string">&#39;+&#39;</span> <span class="token operator">+</span> lastName<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// è®¡ç®—å±æ€§ï¼ˆå®Œæ•´å†™æ³•ï¼‰</span>
<span class="token keyword">let</span> fullNameUpper <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> firstName<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span>
        firstName<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span>
        lastName<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span>
        lastName<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// æ­¤å¤„æ¥æ”¶çš„valå°±æ˜¯ä¸‹æ–¹çš„&#39;Qin-Zhiyun&#39;</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>fName<span class="token punctuation">,</span> lName<span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;-&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ç”¨äºè®¡ç®—çš„æºå±æ€§æ”¹å˜äº†ï¼Œcomputedçš„å€¼ä¹Ÿå‘ç”Ÿæ”¹å˜</span>
    firstName<span class="token punctuation">.</span>value <span class="token operator">=</span> fName<span class="token punctuation">;</span>
    lastName<span class="token punctuation">.</span>value <span class="token operator">=</span> lName<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token doc-comment comment">/**
 * é€šçŸ¥ä¸Šæ–¹çš„fullNameUpperçš„è®¡ç®—å€¼è¿›è¡Œæ›´æ”¹
 */</span>
<span class="token keyword">function</span> <span class="token function">changeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  fullNameUpper<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&#39;Qin-Zhiyun&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    firstName: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>firstName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    lastName: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lastName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    fullName: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">v-bind:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fullName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeName()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ChangeName<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    fullNameUpper: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">v-bind:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fullNameUpper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æœ€ä½³å®è·µ" tabindex="-1"><a class="header-anchor" href="#æœ€ä½³å®è·µ"><span>æœ€ä½³å®è·µ</span></a></h4><ol><li>Getter ä¸åº”æœ‰å‰¯ä½œç”¨</li></ol><p>è®¡ç®—å±æ€§çš„ getter åº”åªåšè®¡ç®—è€Œæ²¡æœ‰ä»»ä½•å…¶ä»–çš„å‰¯ä½œç”¨ï¼Œè¿™ä¸€ç‚¹éå¸¸é‡è¦ï¼Œè¯·åŠ¡å¿…ç‰¢è®°ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œ<strong>ä¸è¦æ”¹å˜å…¶ä»–çŠ¶æ€ã€åœ¨ getter ä¸­åšå¼‚æ­¥è¯·æ±‚æˆ–è€…æ›´æ”¹ DOM</strong>ï¼ä¸€ä¸ªè®¡ç®—å±æ€§çš„å£°æ˜ä¸­æè¿°çš„æ˜¯å¦‚ä½•æ ¹æ®å…¶ä»–å€¼æ´¾ç”Ÿä¸€ä¸ªå€¼ã€‚å› æ­¤ getter çš„èŒè´£åº”è¯¥ä»…ä¸ºè®¡ç®—å’Œè¿”å›è¯¥å€¼ã€‚åœ¨ä¹‹åçš„æŒ‡å¼•ä¸­æˆ‘ä»¬ä¼šè®¨è®ºå¦‚ä½•ä½¿ç”¨<a href="https://cn.vuejs.org/guide/essentials/watchers.html" target="_blank" rel="noopener noreferrer">ä¾¦å¬å™¨</a>æ ¹æ®å…¶ä»–å“åº”å¼çŠ¶æ€çš„å˜æ›´æ¥åˆ›å»ºå‰¯ä½œç”¨ã€‚</p><ol start="2"><li>é¿å…ç›´æ¥ä¿®æ”¹è®¡ç®—å±æ€§å€¼</li></ol><p>ä»è®¡ç®—å±æ€§è¿”å›çš„å€¼æ˜¯æ´¾ç”ŸçŠ¶æ€ã€‚å¯ä»¥æŠŠå®ƒçœ‹ä½œæ˜¯ä¸€ä¸ªâ€œä¸´æ—¶å¿«ç…§â€ï¼Œæ¯å½“æºçŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¿«ç…§ã€‚æ›´æ”¹å¿«ç…§æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œå› æ­¤è®¡ç®—å±æ€§çš„è¿”å›å€¼åº”è¯¥è¢«è§†ä¸ºåªè¯»çš„ï¼Œå¹¶ä¸”æ°¸è¿œä¸åº”è¯¥è¢«æ›´æ”¹â€”â€”åº”è¯¥æ›´æ–°å®ƒæ‰€ä¾èµ–çš„æºçŠ¶æ€ä»¥è§¦å‘æ–°çš„è®¡ç®—ã€‚</p><h3 id="watch" tabindex="-1"><a class="header-anchor" href="#watch"><span>watch</span></a></h3><ol><li><strong>ä½œç”¨</strong></li></ol><p>ä¾¦å¬ä¸€ä¸ªæˆ–å¤šä¸ªå“åº”å¼æ•°æ®æºï¼Œå¹¶åœ¨æ•°æ®æºå˜åŒ–æ—¶è°ƒç”¨æ‰€ç»™çš„å›è°ƒå‡½æ•°ã€‚</p><ol start="2"><li><strong>è¯¦ç»†ä¿¡æ¯</strong></li></ol><ul><li><code>watch()</code> é»˜è®¤æ˜¯æ‡’ä¾¦å¬çš„ï¼Œå³ä»…åœ¨ä¾¦å¬æºå‘ç”Ÿå˜åŒ–æ—¶æ‰æ‰§è¡Œå›è°ƒå‡½æ•°ã€‚</li><li>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¾¦å¬å™¨çš„<strong>æº</strong>ã€‚è¿™ä¸ªæ¥æºå¯ä»¥æ˜¯ä»¥ä¸‹å‡ ç§ï¼š <ul><li>ä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªå€¼</li><li>ä¸€ä¸ª <code>ref</code></li><li>ä¸€ä¸ªå“åº”å¼å¯¹è±¡ï¼Œå³ <code>reactive</code></li><li>ç”±ä»¥ä¸Šç±»å‹çš„å€¼ç»„æˆçš„æ•°ç»„</li></ul></li><li>ç¬¬äºŒä¸ªå‚æ•°æ˜¯åœ¨å‘ç”Ÿå˜åŒ–æ—¶è¦è°ƒç”¨çš„å›è°ƒå‡½æ•°ã€‚è¿™ä¸ªå›è°ƒå‡½æ•°æ¥å—ä¸‰ä¸ªå‚æ•°ï¼šæ–°å€¼ã€æ—§å€¼ï¼Œä»¥åŠä¸€ä¸ªç”¨äºæ³¨å†Œå‰¯ä½œç”¨æ¸…ç†çš„å›è°ƒå‡½æ•°ã€‚è¯¥å›è°ƒå‡½æ•°ä¼šåœ¨å‰¯ä½œç”¨ä¸‹ä¸€æ¬¡é‡æ–°æ‰§è¡Œå‰è°ƒç”¨ï¼Œå¯ä»¥ç”¨æ¥æ¸…é™¤æ— æ•ˆçš„å‰¯ä½œç”¨ï¼Œä¾‹å¦‚ï¼šç­‰å¾…ä¸­çš„å¼‚æ­¥è¯·æ±‚ã€‚å½“ä¾¦å¬å¤šä¸ªæ¥æºæ—¶ï¼Œå›è°ƒå‡½æ•°æ¥å—ä¸¤ä¸ªæ•°ç»„ï¼Œåˆ†åˆ«å¯¹åº”æ¥æºæ•°ç»„ä¸­çš„æ–°å€¼å’Œæ—§å€¼ã€‚</li><li>ç¬¬ä¸‰ä¸ªå¯é€‰çš„å‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ”¯æŒä»¥ä¸‹è¿™äº›é€‰é¡¹ï¼š <ul><li><strong>immediate</strong>ï¼šåœ¨ä¾¦å¬å™¨åˆ›å»ºæ—¶ç«‹å³è§¦å‘å›è°ƒã€‚ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶æ—§å€¼æ˜¯ <code>undefined</code>ã€‚</li><li><strong>deep</strong>ï¼šå¦‚æœæºæ˜¯å¯¹è±¡ï¼Œå¼ºåˆ¶æ·±åº¦éå†ï¼Œä»¥ä¾¿åœ¨æ·±å±‚çº§å˜æ›´æ—¶è§¦å‘å›è°ƒã€‚å‚è€ƒ<a href="https://cn.vuejs.org/guide/essentials/watchers.html#deep-watchers" target="_blank" rel="noopener noreferrer">æ·±å±‚ä¾¦å¬å™¨</a>ã€‚</li><li><strong>flush</strong>ï¼šè°ƒæ•´å›è°ƒå‡½æ•°çš„åˆ·æ–°æ—¶æœºã€‚å‚è€ƒ<a href="https://cn.vuejs.org/guide/essentials/watchers.html#callback-flush-timing" target="_blank" rel="noopener noreferrer">å›è°ƒçš„åˆ·æ–°æ—¶æœº</a>åŠ <a href="https://cn.vuejs.org/api/reactivity-core.html#watcheffect" target="_blank" rel="noopener noreferrer">watchEffect()</a>ã€‚</li><li><strong>onTrack / onTrigger</strong>ï¼šè°ƒè¯•ä¾¦å¬å™¨çš„ä¾èµ–ã€‚å‚è€ƒ<a href="https://cn.vuejs.org/guide/extras/reactivity-in-depth.html#watcher-debugging" target="_blank" rel="noopener noreferrer">è°ƒè¯•ä¾¦å¬å™¨</a>ã€‚</li><li><strong>once</strong>: å›è°ƒå‡½æ•°åªä¼šè¿è¡Œä¸€æ¬¡ã€‚ä¾¦å¬å™¨å°†åœ¨å›è°ƒå‡½æ•°é¦–æ¬¡è¿è¡Œåè‡ªåŠ¨åœæ­¢ã€‚</li></ul></li><li>ä¸ <a href="https://cn.vuejs.org/api/reactivity-core.html#watcheffect" target="_blank" rel="noopener noreferrer">watchEffect()</a> ç›¸æ¯”ï¼Œwatch() ä½¿æˆ‘ä»¬å¯ä»¥ï¼š <ul><li>æ‡’æ‰§è¡Œå‰¯ä½œç”¨ï¼›</li><li>æ›´åŠ æ˜ç¡®æ˜¯åº”è¯¥ç”±å“ªä¸ªçŠ¶æ€è§¦å‘ä¾¦å¬å™¨é‡æ–°æ‰§è¡Œï¼›</li><li>å¯ä»¥è®¿é—®æ‰€ä¾¦å¬çŠ¶æ€çš„å‰ä¸€ä¸ªå€¼å’Œå½“å‰å€¼ã€‚</li></ul></li></ul><h4 id="refå®šä¹‰çš„åŸºæœ¬ç±»å‹" tabindex="-1"><a class="header-anchor" href="#refå®šä¹‰çš„åŸºæœ¬ç±»å‹"><span>refå®šä¹‰çš„åŸºæœ¬ç±»å‹</span></a></h4><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span>ref<span class="token punctuation">,</span> watch<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">const</span> sum <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">increment</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  sum<span class="token punctuation">.</span>value<span class="token operator">++</span>
<span class="token punctuation">}</span>
<span class="token comment">// ç›‘è§†sumå˜åŒ–</span>
<span class="token keyword">const</span> stopWatch <span class="token operator">=</span> <span class="token function">watch</span><span class="token punctuation">(</span>sum<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">newVal<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">sum changed from </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>oldVal<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>newVal<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token comment">// è‹¥newValueå¤§äº10åˆ™åœæ­¢ç›‘è§†</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>newVal <span class="token operator">&gt;=</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">stopWatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>watchæƒ…å†µä¸€ï¼šç›‘è§†ã€Refã€‘å¼•ç”¨çš„ã€åŸºæœ¬ç±»å‹ã€‘<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>Sum:{{sum}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>increment<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>sum++<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="refå®šä¹‰çš„å¯¹è±¡ç±»å‹" tabindex="-1"><a class="header-anchor" href="#refå®šä¹‰çš„å¯¹è±¡ç±»å‹"><span>refå®šä¹‰çš„å¯¹è±¡ç±»å‹</span></a></h4><ul><li>å¤§å¤šæ•°æ—¶å€™ä¸å…³å¿ƒoldValue,åªå…³å¿ƒnewValueï¼Œæ•…ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥åªå†™ä¸€ä¸ªvalueä»£è¡¨æ–°çš„å€¼</li></ul><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span>ref<span class="token punctuation">,</span> watch<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;å¼ ä¸‰&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">changeName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  person<span class="token punctuation">.</span>value<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;æå››&#39;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">changeAge</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  person<span class="token punctuation">.</span>value<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">20</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">changePerson</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  person<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;ç‹äº”&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// å®é™…ä¸Šå¤§å¤šæ•°æ—¶å€™ä¸å…³å¿ƒoldValue,åªå…³å¿ƒnewValueï¼Œæ•…æ­¤å¤„å¯ä»¥åªå†™ä¸€ä¸ªå‚æ•°value</span>
<span class="token function">watch</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;watchPerson=&gt;&#39;</span><span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">deep</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">immediate</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// deep:ç›‘è§†å¯¹è±¡çš„è¡¨å±‚å±æ€§(.xxx)ï¼›immediate:é¡µé¢å¯åŠ¨åç«‹å³ç›‘è§†</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>watchæƒ…å†µäºŒ:ç›‘è§†ã€Refã€‘å¼•ç”¨çš„ã€å¯¹è±¡ç±»å‹ã€‘<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>å§“åï¼š{{ person.name }} | å¹´é¾„ï¼š{{ person.age }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹å§“å<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeAge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹å¹´é¾„<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changePerson<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹æ•´ä¸ªäºº<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="reactiveå®šä¹‰çš„å¯¹è±¡ç±»å‹" tabindex="-1"><a class="header-anchor" href="#reactiveå®šä¹‰çš„å¯¹è±¡ç±»å‹"><span>reactiveå®šä¹‰çš„å¯¹è±¡ç±»å‹</span></a></h4><ul><li>reactiveé»˜è®¤å¼€å¯æ·±åº¦ç›‘è§†ï¼Œå³ä½¿è®¾ç½®äº†deepä¸ºfalseï¼Œä¹Ÿä¼šè¿›è¡Œæ·±åº¦ç›‘è§†</li></ul><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span>reactive<span class="token punctuation">,</span> watch<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;å¼ ä¸‰&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">changeName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  person<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;æå››&#39;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">changeAge</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  person<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">20</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">changePerson</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;ç‹äº”&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// å› ä¸ºObject.assignæ²¡æœ‰æ”¹å˜åœ°å€å€¼ï¼Œæ‰€ä»¥æ­¤å¤„æ‰“å°å‡ºæ¥çš„ newValue ç­‰äº oldValue</span>
<span class="token function">watch</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;watchPerson=&gt;&#39;</span><span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token comment">// reactiveé»˜è®¤å¼€å¯æ·±åº¦ç›‘è§†ï¼Œå³ä½¿è®¾ç½®äº†deepä¸ºfalseï¼Œä¹Ÿä¼šè¿›è¡Œæ·±åº¦ç›‘è§†</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>watchæƒ…å†µä¸‰:ç›‘è§†ã€reactiveã€‘å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>å§“åï¼š{{ person.name }} | å¹´é¾„ï¼š{{ person.age }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹å§“å<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeAge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹å¹´é¾„<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changePerson<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹æ•´ä¸ªäºº<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ref-reactiveå®šä¹‰çš„å¯¹è±¡ç±»å‹ä¸­çš„æŸä¸ªå±æ€§" tabindex="-1"><a class="header-anchor" href="#ref-reactiveå®šä¹‰çš„å¯¹è±¡ç±»å‹ä¸­çš„æŸä¸ªå±æ€§"><span>ref/reactiveå®šä¹‰çš„å¯¹è±¡ç±»å‹ä¸­çš„æŸä¸ªå±æ€§</span></a></h4><ul><li>å¯¹äºå¯¹è±¡ä¸­çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå¿…é¡»ç”¨å‡½æ•°å½¢å¼</li><li>å¯¹äºå¯¹è±¡ä¸­çš„å¯¹è±¡ç±»å‹ï¼Œå¯ä»¥ä¸ä½¿ç”¨å‡½æ•°å½¢å¼ï¼Œä½†è¿™æ ·æ— æ³•ç›‘è§†æ•´ä¸ªå¯¹è±¡çš„å˜åŒ–</li><li>æœ€ä½³å®è·µï¼šå¯¹äºå¯¹è±¡ç±»å‹ï¼Œä½¿ç”¨å‡½æ•°å½¢å¼ + deepï¼ˆæ·±åº¦ç›‘è§†ï¼‰å±æ€§</li></ul><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span>reactive<span class="token punctuation">,</span> watch<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;å¼ ä¸‰&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token literal-property property">hobby</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;ç¯®çƒ&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;è¶³çƒ&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;æ’çƒ&#39;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">changeName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  person<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;æå››&#39;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">changeAge</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  person<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">20</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">changeHobby</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  person<span class="token punctuation">.</span>hobby<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&#39;ç¯®ç¯®çƒçƒ&#39;</span>
  person<span class="token punctuation">.</span>hobby<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;ä¹’ä¹“çƒ&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">changePerson</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;ç‹äº”&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token literal-property property">hobby</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;æ’çƒ&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;ä¹’ä¹“çƒ&#39;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">/*// å¯¹äºå¯¹è±¡ä¸­çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå¿…é¡»ç”¨å‡½æ•°å½¢å¼
watch(() =&gt; person.name, (newValue, oldValue) =&gt; {
  console.log(&#39;ç›‘è§†Personçš„nameå±æ€§=&gt;&#39;, newValue, oldValue)
})
watch(() =&gt; person.age, (newValue, oldValue) =&gt; {
  console.log(&#39;ç›‘è§†Personçš„ageå±æ€§=&gt;&#39;, newValue, oldValue)
})
// å¯¹äºå¯¹è±¡ä¸­çš„å¯¹è±¡ç±»å‹ï¼Œå¯ä»¥ä¸ä½¿ç”¨å‡½æ•°å¼ï¼Œä½†è¿™æ ·æ— æ³•ç›‘è§†æ•´ä¸ªå¯¹è±¡çš„å˜åŒ–
watch(person.hobby, (newValue, oldValue) =&gt; {
  console.log(&#39;ç›‘è§†Personçš„hobbyå±æ€§=&gt;&#39;, newValue, oldValue)
})*/</span>
<span class="token comment">// æœ€ä½³å®è·µï¼šå¯¹äºå¯¹è±¡ç±»å‹ï¼Œä½¿ç”¨å‡½æ•°å¼ + deepï¼ˆæ·±åº¦ç›‘è§†ï¼‰å±æ€§</span>
<span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> person<span class="token punctuation">.</span>hobby<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;ç›‘è§†Personå¯¹è±¡çš„hobbyå±æ€§=&gt;&#39;</span><span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">deep</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>watchæƒ…å†µå››:ç›‘è§†ã€refã€‘æˆ–ã€reactiveã€‘å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ä¸­çš„ã€æŸä¸ªå±æ€§ã€‘<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>å§“åï¼š{{ person.name }} | å¹´é¾„ï¼š{{ person.age }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹å§“å<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeAge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹å¹´é¾„<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeHobby<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹çˆ±å¥½<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changePerson<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹æ•´ä¸ªäºº<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ä¸Šè¿°æƒ…å†µä¸­çš„å¤šä¸ªå±æ€§" tabindex="-1"><a class="header-anchor" href="#ä¸Šè¿°æƒ…å†µä¸­çš„å¤šä¸ªå±æ€§"><span>ä¸Šè¿°æƒ…å†µä¸­çš„å¤šä¸ªå±æ€§</span></a></h4><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span>reactive<span class="token punctuation">,</span> watch<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;å¼ ä¸‰&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token literal-property property">hobby</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;ç¯®çƒ&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;è¶³çƒ&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;æ’çƒ&#39;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">changeName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  person<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;æå››&#39;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">changeAge</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  person<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">20</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">changeHobby</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  person<span class="token punctuation">.</span>hobby<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&#39;ç¯®ç¯®çƒçƒ&#39;</span>
  person<span class="token punctuation">.</span>hobby<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;ä¹’ä¹“çƒ&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">changePerson</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;ç‹äº”&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token literal-property property">hobby</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;æ’çƒ&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;ä¹’ä¹“çƒ&#39;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// ç›‘è§†Personå¯¹è±¡çš„nameå’Œhobbyå±æ€§                               newValue          oldValue</span>
<span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> person<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> person<span class="token punctuation">.</span>hobby<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>name<span class="token punctuation">,</span> hobby<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>preName<span class="token punctuation">,</span> preHobby<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;ç›‘è§†Personå¯¹è±¡çš„nameã€hobbyå±æ€§=&gt; æ–°å€¼ï¼š&#39;</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> hobby <span class="token operator">+</span> <span class="token string">&#39; æ—§å€¼ï¼š&#39;</span> <span class="token punctuation">,</span> preName<span class="token punctuation">,</span> preHobby<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">deep</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>watchæƒ…å†µäº”:ç›‘è§†ä»¥ä¸Šçš„æƒ…å†µä¸­çš„å¤šä¸ªæ•°æ®ï¼Œå³æ•°ç»„[]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>å§“åï¼š{{ person.name }} | å¹´é¾„ï¼š{{ person.age }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹å§“å<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeAge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹å¹´é¾„<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeHobby<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹çˆ±å¥½<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changePerson<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹æ•´ä¸ªäºº<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="watcheffect" tabindex="-1"><a class="header-anchor" href="#watcheffect"><span>watchEffect</span></a></h3><p>ç«‹å³è¿è¡Œä¸€ä¸ªå‡½æ•°ï¼ŒåŒæ—¶å“åº”å¼åœ°è¿½è¸ªå…¶ä¾èµ–ï¼Œå¹¶åœ¨ä¾èµ–æ›´æ”¹æ—¶é‡æ–°æ‰§è¡Œè¯¥å‡½æ•°ã€‚<br><code>watch</code>VS<code>watchEffect</code></p><ol><li>éƒ½èƒ½ç›‘å¬å“åº”å¼æ•°æ®çš„å˜åŒ–ï¼Œä¸åŒçš„æ˜¯ç›‘å¬æ•°æ®å˜åŒ–çš„æ–¹å¼ä¸åŒ</li><li><code>watch</code>è¦æ˜ç¡®æŒ‡å‡ºç›‘è§†çš„æ•°æ®</li><li><code>watchEffect</code>ä¸åŒæ˜ç¡®æŒ‡å‡ºç›‘è§†çš„æ•°æ®ï¼ˆå‡½æ•°ä¸­ç”¨åˆ°å“ªäº›å±æ€§ï¼Œå°±ç›‘è§†å“ªäº›å±æ€§ï¼‰</li></ol><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span>ref<span class="token punctuation">,</span> watchEffect<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token constant">X</span> <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">Y</span> <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">Z</span> <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">Xincrement</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token constant">X</span><span class="token punctuation">.</span>value <span class="token operator">+=</span> <span class="token number">11</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">Yincrement</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token constant">Y</span><span class="token punctuation">.</span>value <span class="token operator">+=</span> <span class="token number">22</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">Zincrement</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token constant">Z</span><span class="token punctuation">.</span>value <span class="token operator">+=</span> <span class="token number">33</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">X</span><span class="token punctuation">.</span>value <span class="token operator">&gt;</span> <span class="token number">12</span> <span class="token operator">||</span> <span class="token constant">Y</span><span class="token punctuation">.</span>value <span class="token operator">&gt;</span> <span class="token number">24</span> <span class="token operator">||</span> <span class="token constant">Z</span><span class="token punctuation">.</span>value <span class="token operator">&gt;</span> <span class="token number">36</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;X &gt; 12 || Y &gt; 24 || Z &gt; 36&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>WatchEffect<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{{ X }}-{{ Y }}-{{ Z }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Xincrement<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>X+=11<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Yincrement<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Y+=22<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Zincrement<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Z+=33<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="çˆ¶å­é€šä¿¡" tabindex="-1"><a class="header-anchor" href="#çˆ¶å­é€šä¿¡"><span>çˆ¶å­é€šä¿¡</span></a></h3><h4 id="çˆ¶ä¼ å­props" tabindex="-1"><a class="header-anchor" href="#çˆ¶ä¼ å­props"><span>çˆ¶ä¼ å­props</span></a></h4><p>åŸºæœ¬æ€æƒ³</p><ul><li>çˆ¶ç»„ä»¶ä¸­ç»™å­ç»„ä»¶ç»‘å®šå±æ€§</li><li>å­ç»„ä»¶å†…éƒ¨é€šè¿‡propsé€‰é¡¹æ¥æ”¶æ•°æ®</li></ul><figure><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/vue/202406171500316.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li>çˆ¶ç»„ä»¶å£°æ˜çš„æ•°æ®æ•°é‡å¿…é¡»**<em>&gt;=</em>**å­ç»„ä»¶è·å–çš„æ•°æ®æ•°é‡</li><li><code>defineProps</code>æ˜¯å®ï¼Œä¸éœ€è¦å¼•å…¥ä¹Ÿèƒ½ç›´æ¥ä½¿ç”¨</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/vue/202406171459831.png" alt="æ¥æ”¶æ–¹ï¼ˆå­ç»„ä»¶ï¼‰çš„é™åˆ¶" title="æ¥æ”¶æ–¹ï¼ˆå­ç»„ä»¶ï¼‰çš„é™åˆ¶" loading="lazy"><br> æ¡ˆä¾‹</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">Child</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    sex<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// export type Children = Child[];</span>
<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">Children</span> <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>Child<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--  å£°æ˜numå’Œchildrenæ•°æ®å‡†å¤‡ä¼ ç»™å­ç»„ä»¶  --&gt;</span>
<span class="token comment">&lt;!--    &lt;PropsChildren num=&quot;123456&quot; :children=&quot;children&quot; /&gt;--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PropsChildren</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">setup</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>App<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span>type Children<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@types&quot;</span><span class="token punctuation">;</span> <span class="token comment">// å¼•å…¥Childrenç±»å‹</span>
<span class="token keyword">import</span> PropsChildren <span class="token keyword">from</span> <span class="token string">&quot;./components/PropsChildren.vue&quot;</span><span class="token punctuation">;</span>	<span class="token comment">// å¼•å…¥å­ç»„ä»¶</span>

<span class="token keyword">let</span> <span class="token literal-property property">children</span><span class="token operator">:</span> Children<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;å°æ˜&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
      <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&#39;ç”·&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;å°çº¢&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">17</span><span class="token punctuation">,</span>
      <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&#39;å¥³&#39;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">)</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">// æ¥å—çˆ¶ç»„ä»¶ä¼ æ¥çš„æ•°æ®å¹¶èµ‹å€¼ç»™data</span>
<span class="token comment">/*let data = defineProps([&#39;num&#39;, &#39;children&#39;])
let children = data.children;*/</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span>type Children<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@types&quot;</span><span class="token punctuation">;</span> <span class="token comment">// å¼•å…¥Childrenç±»å‹</span>

<span class="token comment">// WithDefaults:è®¾ç½®é»˜è®¤å€¼ï¼›&lt;&gt;{}æ³›å‹é™åˆ¶ä¼ è¿‡æ¥çš„ç±»å‹ï¼›?:å¯é€‰å‚æ•°</span>
<span class="token function">withDefaults</span><span class="token punctuation">(</span>defineProps<span class="token operator">&lt;</span><span class="token punctuation">{</span> num<span class="token operator">?</span><span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token literal-property property">children</span><span class="token operator">:</span> Children <span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token function-variable function">children</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;qin&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&#39;ç”·&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;Z&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&#39;å¥³&#39;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--    &lt;h2&gt;{{ data.num }}&lt;/h2&gt;
        &lt;h2 v-for=&quot;child in children&quot; :key=&quot;child.name&quot;&gt;{{child}}&lt;/h2&gt;--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{{ num }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child in children<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child.name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å§“åï¼š{{ child.name }} å¹´é¾„ï¼š{{ child.age }} æ€§åˆ«ï¼š{{ child.sex }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å­ä¼ çˆ¶refã€emit" tabindex="-1"><a class="header-anchor" href="#å­ä¼ çˆ¶refã€emit"><span>å­ä¼ çˆ¶refã€emit</span></a></h4><h5 id="define-emitã€" tabindex="-1"><a class="header-anchor" href="#define-emitã€"><span>(define)emitã€@</span></a></h5><p>åŸºæœ¬æ€æƒ³</p><ul><li>çˆ¶ç»„ä»¶ä¸­ç»™å­ç»„ä»¶æ ‡ç­¾é€šè¿‡<code>@</code>ç»‘å®šäº‹ä»¶</li><li>å­ç»„ä»¶å†…éƒ¨é€šè¿‡ <code>emit</code> æ–¹æ³•è§¦å‘äº‹ä»¶</li></ul><figure><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/vue/202406171500548.png" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><h5 id="refã€defineexpose" tabindex="-1"><a class="header-anchor" href="#refã€defineexpose"><span>refã€defineExpose</span></a></h5><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span>ref<span class="token punctuation">,</span> defineExpose<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> spring <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> summer <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> autumn <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> winter <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// æš´éœ²ç»™çˆ¶ç»„ä»¶App.vue</span>
<span class="token function">defineExpose</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// çˆ¶ç»„ä»¶å¯ä»¥ä½¿ç”¨springã€summerï¼Œä½†ä¸èƒ½ä½¿ç”¨autumnã€winter</span>
  spring<span class="token punctuation">,</span>
  summer
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--  ç»™h1å…ƒç´ è®¾ç½®refå±æ€§ï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡refè·å–åˆ°h1å…ƒç´   --&gt;</span>
    <span class="token comment">&lt;!--  refå±æ€§æ ‡è¯†çš„å…ƒç´ ç›¸å½“äºå±€éƒ¨å˜é‡ï¼Œä¸ä¼šä¸å…¶å®ƒç»„ä»¶ä¸­ç›¸åŒçš„refå†²çª  --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>spring<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ˜¥å¤©<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>summer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å¤å¤©<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>autumn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç§‹å¤©<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>winter<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å†¬å¤©<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RefOnTag</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>refOnTag<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>parent: {{ refOnTag }} <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">setup</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>App<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span>ref<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> RefOnTag <span class="token keyword">from</span> <span class="token string">&quot;./components/RefOnTag.vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> refOnTag <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>refOnTag<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å¯¼å‡ºå±æ€§" tabindex="-1"><a class="header-anchor" href="#å¯¼å‡ºå±æ€§"><span>å¯¼å‡ºå±æ€§</span></a></h3><h4 id="ç»Ÿä¸€æš´éœ²" tabindex="-1"><a class="header-anchor" href="#ç»Ÿä¸€æš´éœ²"><span>ç»Ÿä¸€æš´éœ²</span></a></h4><p>ç»Ÿä¸€æš´éœ²ï¼ˆNamed Exportsï¼‰æ˜¯æŒ‡åœ¨æ¨¡å—ä¸­é€šè¿‡å‘½åå¯¼å‡ºå¤šä¸ªå˜é‡ã€å‡½æ•°æˆ–ç±»ã€‚å¯ä»¥ä½¿ç”¨èŠ±æ‹¬å· {} æ¥å¯¼å…¥ç‰¹å®šçš„å¯¼å‡ºé¡¹</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">&#39;John&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Hello!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> sayHello<span class="token punctuation">,</span> Person <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./module.js&#39;</span><span class="token punctuation">;</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;John&#39;</span>
<span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;Hello!&#39;</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&#39;Alice&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;Alice&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="åˆ†åˆ«æš´éœ²" tabindex="-1"><a class="header-anchor" href="#åˆ†åˆ«æš´éœ²"><span>åˆ†åˆ«æš´éœ²</span></a></h4><p>åˆ†åˆ«æš´éœ²ï¼ˆNamed Exportsï¼‰æ˜¯æŒ‡åœ¨æ¨¡å—ä¸­é€šè¿‡å¤šæ¬¡ä½¿ç”¨ export å…³é”®å­—æ¥åˆ†åˆ«å¯¼å‡ºä¸åŒçš„å˜é‡ã€å‡½æ•°æˆ–ç±»ã€‚æ¯ä¸ªå¯¼å‡ºé¡¹éƒ½éœ€è¦å•ç‹¬å¯¼å…¥</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">&#39;John&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Hello!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> sayHello<span class="token punctuation">,</span> Person <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> sayHello<span class="token punctuation">,</span> Person <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./module.js&#39;</span><span class="token punctuation">;</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;John&#39;</span>
<span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;Hello!&#39;</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&#39;Alice&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;Alice&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="é»˜è®¤æš´éœ²" tabindex="-1"><a class="header-anchor" href="#é»˜è®¤æš´éœ²"><span>é»˜è®¤æš´éœ²</span></a></h4><p>é»˜è®¤æš´éœ²ï¼ˆDefault Exportï¼‰æ˜¯æŒ‡åœ¨æ¨¡å—ä¸­ä½¿ç”¨ export default è¯­æ³•å¯¼å‡ºä¸€ä¸ªé»˜è®¤çš„å€¼æˆ–å¯¹è±¡ã€‚å¯¼å…¥æ—¶å¯ä»¥è‡ªå®šä¹‰å¯¼å…¥åç§°ï¼Œå¹¶ä¸”ä¸éœ€è¦ä½¿ç”¨èŠ±æ‹¬å·ã€‚<br> éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé»˜è®¤æš´éœ²åœ¨<strong>ä¸€ä¸ªæ¨¡å—ä¸­åªèƒ½ä½¿ç”¨ä¸€æ¬¡</strong>ã€‚</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">&#39;John&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> myName <span class="token keyword">from</span> <span class="token string">&#39;./module.js&#39;</span><span class="token punctuation">;</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;John&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å…¶å®ƒapi" tabindex="-1"><a class="header-anchor" href="#å…¶å®ƒapi"><span>å…¶å®ƒAPI</span></a></h2><h3 id="shallowrefã€shallowreactive" tabindex="-1"><a class="header-anchor" href="#shallowrefã€shallowreactive"><span>shallowRefã€shallowReactive</span></a></h3><h4 id="shallowref" tabindex="-1"><a class="header-anchor" href="#shallowref"><span><code>shallowRef</code></span></a></h4><ol><li>ä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ªå“åº”å¼æ•°æ®ï¼Œä½†åªå¯¹é¡¶å±‚å±æ€§è¿›è¡Œå“åº”å¼å¤„ç†ã€‚</li><li>ç”¨æ³•ï¼š <code>let myVar = shallowRef(initialValue);</code></li><li>ç‰¹ç‚¹ï¼šåªè·Ÿè¸ªå¼•ç”¨å€¼çš„å˜åŒ–ï¼Œä¸å…³å¿ƒå€¼å†…éƒ¨çš„å±æ€§å˜åŒ–ã€‚</li></ol><h4 id="shallowreactive" tabindex="-1"><a class="header-anchor" href="#shallowreactive"><span><code>shallowReactive</code></span></a></h4><ol><li>ä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ªæµ…å±‚å“åº”å¼å¯¹è±¡ï¼Œåªä¼šä½¿å¯¹è±¡çš„æœ€é¡¶å±‚å±æ€§å˜æˆå“åº”å¼çš„ï¼Œå¯¹è±¡å†…éƒ¨çš„åµŒå¥—å±æ€§åˆ™ä¸ä¼šå˜æˆå“åº”å¼çš„</li><li>ç”¨æ³•ï¼š <code>const myObj = shallowReactive({ ... });</code></li><li>ç‰¹ç‚¹ï¼šå¯¹è±¡çš„é¡¶å±‚å±æ€§æ˜¯å“åº”å¼çš„ï¼Œä½†åµŒå¥—å¯¹è±¡çš„å±æ€§ä¸æ˜¯ã€‚</li></ol><h4 id="æ€»ç»“-1" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“-1"><span>æ€»ç»“</span></a></h4><blockquote><p>é€šè¿‡ä½¿ç”¨ <code>[shallowRef()](https://cn.vuejs.org/api/reactivity-advanced.html#shallowref)</code> å’Œ <code>[shallowReactive()](https://cn.vuejs.org/api/reactivity-advanced.html#shallowreactive)</code> æ¥ç»•å¼€æ·±åº¦å“åº”ã€‚æµ…å±‚å¼ <code>API</code> åˆ›å»ºçš„çŠ¶æ€åªåœ¨å…¶é¡¶å±‚æ˜¯å“åº”å¼çš„ï¼Œå¯¹æ‰€æœ‰æ·±å±‚çš„å¯¹è±¡ä¸ä¼šåšä»»ä½•å¤„ç†ï¼Œé¿å…äº†å¯¹æ¯ä¸€ä¸ªå†…éƒ¨å±æ€§åšå“åº”å¼æ‰€å¸¦æ¥çš„æ€§èƒ½æˆæœ¬ï¼Œè¿™ä½¿å¾—å±æ€§çš„è®¿é—®å˜å¾—æ›´å¿«ï¼Œå¯æå‡æ€§èƒ½ã€‚</p></blockquote><h3 id="readonlyã€shallowreadonly" tabindex="-1"><a class="header-anchor" href="#readonlyã€shallowreadonly"><span>readonlyã€shallowReadonly</span></a></h3><h4 id="readonly" tabindex="-1"><a class="header-anchor" href="#readonly"><span><code>**readonly**</code></span></a></h4><ol><li>ä½œç”¨ï¼šç”¨äºåˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„æ·±åªè¯»å‰¯æœ¬ã€‚</li><li>ç”¨æ³•ï¼š</li></ol><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> original <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> readOnlyCopy <span class="token operator">=</span> <span class="token function">readonly</span><span class="token punctuation">(</span>original<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>ç‰¹ç‚¹ï¼š</li></ol><ul><li>å¯¹è±¡çš„æ‰€æœ‰åµŒå¥—å±æ€§éƒ½å°†å˜ä¸ºåªè¯»ã€‚</li><li>ä»»ä½•å°è¯•ä¿®æ”¹è¿™ä¸ªå¯¹è±¡çš„æ“ä½œéƒ½ä¼šè¢«é˜»æ­¢ï¼ˆåœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼Œè¿˜ä¼šåœ¨æ§åˆ¶å°ä¸­å‘å‡ºè­¦å‘Šï¼‰ã€‚</li></ul><ol start="4"><li>åº”ç”¨åœºæ™¯ï¼š</li></ol><ul><li>åˆ›å»ºä¸å¯å˜çš„çŠ¶æ€å¿«ç…§ã€‚</li><li>ä¿æŠ¤å…¨å±€çŠ¶æ€æˆ–é…ç½®ä¸è¢«ä¿®æ”¹ã€‚</li></ul><h4 id="shallowreadonly" tabindex="-1"><a class="header-anchor" href="#shallowreadonly"><span><code>**shallowReadonly**</code></span></a></h4><ol><li>ä½œç”¨ï¼šä¸ <code>readonly</code> ç±»ä¼¼ï¼Œä½†åªä½œç”¨äºå¯¹è±¡çš„é¡¶å±‚å±æ€§ã€‚</li><li>ç”¨æ³•ï¼š</li></ol><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> original <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> shallowReadOnlyCopy <span class="token operator">=</span> <span class="token function">shallowReadonly</span><span class="token punctuation">(</span>original<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>ç‰¹ç‚¹ï¼š</li></ol><ul><li>åªå°†å¯¹è±¡çš„é¡¶å±‚å±æ€§è®¾ç½®ä¸ºåªè¯»ï¼Œå¯¹è±¡å†…éƒ¨çš„åµŒå¥—å±æ€§ä»ç„¶æ˜¯å¯å˜çš„ã€‚</li><li>é€‚ç”¨äºåªéœ€ä¿æŠ¤å¯¹è±¡é¡¶å±‚å±æ€§çš„åœºæ™¯ã€‚</li></ul><h3 id="torawã€markraw" tabindex="-1"><a class="header-anchor" href="#torawã€markraw"><span>toRawã€markRaw</span></a></h3><h4 id="toraw" tabindex="-1"><a class="header-anchor" href="#toraw"><span><code>toRaw</code></span></a></h4><ol><li>ä½œç”¨ï¼šç”¨äºè·å–ä¸€ä¸ªå“åº”å¼å¯¹è±¡çš„åŸå§‹å¯¹è±¡ï¼Œ <code>toRaw</code> è¿”å›çš„å¯¹è±¡ä¸å†æ˜¯å“åº”å¼çš„ï¼Œä¸ä¼šè§¦å‘è§†å›¾æ›´æ–°ã€‚</li></ol><blockquote><p>å®˜ç½‘æè¿°ï¼šè¿™æ˜¯ä¸€ä¸ªå¯ä»¥ç”¨äºä¸´æ—¶è¯»å–è€Œä¸å¼•èµ·ä»£ç†è®¿é—®/è·Ÿè¸ªå¼€é”€ï¼Œæˆ–æ˜¯å†™å…¥è€Œä¸è§¦å‘æ›´æ”¹çš„ç‰¹æ®Šæ–¹æ³•ã€‚ä¸å»ºè®®ä¿å­˜å¯¹åŸå§‹å¯¹è±¡çš„æŒä¹…å¼•ç”¨ï¼Œè¯·è°¨æ…ä½¿ç”¨ã€‚</p></blockquote><blockquote><p>ä½•æ—¶ä½¿ç”¨ï¼Ÿ â€”â€” åœ¨éœ€è¦å°†å“åº”å¼å¯¹è±¡ä¼ é€’ç»™é <code>Vue</code> çš„åº“æˆ–å¤–éƒ¨ç³»ç»Ÿæ—¶ï¼Œä½¿ç”¨ <code>toRaw</code> å¯ä»¥ç¡®ä¿å®ƒä»¬æ”¶åˆ°çš„æ˜¯æ™®é€šå¯¹è±¡</p></blockquote><ol start="2"><li>å…·ä½“ç¼–ç ï¼š</li></ol><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> reactive<span class="token punctuation">,</span>toRaw<span class="token punctuation">,</span>markRaw<span class="token punctuation">,</span>isReactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token comment">/* toRaw */</span>
<span class="token comment">// å“åº”å¼å¯¹è±¡</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;tony&#39;</span><span class="token punctuation">,</span><span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// åŸå§‹å¯¹è±¡</span>
<span class="token keyword">let</span> rawPerson <span class="token operator">=</span> <span class="token function">toRaw</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="markraw" tabindex="-1"><a class="header-anchor" href="#markraw"><span><code>markRaw</code></span></a></h4><ol><li>ä½œç”¨ï¼šæ ‡è®°ä¸€ä¸ªå¯¹è±¡ï¼Œä½¿å…¶<strong>æ°¸è¿œä¸ä¼š</strong>å˜æˆå“åº”å¼çš„ã€‚</li></ol><blockquote><p>ä¾‹å¦‚ä½¿ç”¨<code>mockjs</code>æ—¶ï¼Œä¸ºäº†é˜²æ­¢è¯¯æŠŠ<code>mockjs</code>å˜ä¸ºå“åº”å¼å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ <code>markRaw</code> å»æ ‡è®°<code>mockjs</code></p></blockquote><ol start="2"><li>ç¼–ç ï¼š</li></ol><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">/* markRaw */</span>
<span class="token keyword">let</span> citys <span class="token operator">=</span> <span class="token function">markRaw</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">&#39;asdda01&#39;</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;åŒ—äº¬&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">&#39;asdda02&#39;</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;ä¸Šæµ·&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">&#39;asdda03&#39;</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;å¤©æ´¥&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">&#39;asdda04&#39;</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;é‡åº†&#39;</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// æ ¹æ®åŸå§‹å¯¹è±¡cityså»åˆ›å»ºå“åº”å¼å¯¹è±¡citys2 â€”â€” åˆ›å»ºå¤±è´¥ï¼Œå› ä¸ºcitysè¢«markRawæ ‡è®°äº†</span>
<span class="token keyword">let</span> citys2 <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span>citys<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="customref" tabindex="-1"><a class="header-anchor" href="#customref"><span>customRef</span></a></h3><p>åœ¨Vue 3ä¸­ï¼Œ<code>customRef</code> æ˜¯ä¸€ä¸ªç”¨äºåˆ›å»ºè‡ªå®šä¹‰çš„å“åº”å¼å¼•ç”¨ï¼ˆ<code>ref</code>ï¼‰çš„å‡½æ•°ã€‚å®ƒå…è®¸ä½ å®Œå…¨æ§åˆ¶ä¾èµ–è¿½è¸ªå’Œå“åº”æ€§è§¦å‘ï¼Œè¿™ä½¿å¾—ä½ å¯ä»¥å®šä¹‰è‡ªå·±çš„å“åº”å¼è¡Œä¸ºã€‚<br> æˆ‘ä»¬ä½¿ç”¨ <code>ref</code> æ¥åˆ›å»ºä¸€ä¸ªå“åº”å¼çš„å¼•ç”¨ï¼Œä½†æ˜¯å¦‚æœä½ éœ€è¦æ›´ç²¾ç»†çš„æ§åˆ¶å“åº”å¼ç³»ç»Ÿçš„è¡Œä¸ºï¼Œæ¯”å¦‚æ§åˆ¶ä½•æ—¶æ”¶é›†ä¾èµ–å’Œè§¦å‘æ›´æ–°ï¼Œè¿™æ—¶ <code>customRef</code> å°±éå¸¸æœ‰ç”¨ã€‚<br><code>customRef</code>æ¥æ”¶ä¸€ä¸ªå·¥å‚å‡½æ•°ï¼Œè¯¥å‡½æ•°è¿”å›ä¸¤ä¸ªå‡½æ•°ï¼š</p><ul><li><code>track</code>ï¼šå½“å“åº”å¼ç³»ç»Ÿéœ€è¦å°†å½“å‰æ­£åœ¨æ‰§è¡Œçš„å‰¯ä½œç”¨ï¼ˆä¾‹å¦‚æ¸²æŸ“å‡½æ•°ï¼‰ä¸å“åº”å¼çŠ¶æ€å…³è”æ—¶ï¼Œä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚è¿™é€šå¸¸åœ¨getterä¸­å‘ç”Ÿã€‚</li><li><code>trigger</code>ï¼šå½“æ›´æ–°å“åº”å¼çŠ¶æ€æ—¶ï¼Œéœ€è¦é€šçŸ¥å“åº”å¼ç³»ç»Ÿé‡æ–°è¿è¡Œå‰¯ä½œç”¨æ—¶ï¼Œä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚è¿™é€šå¸¸åœ¨setterä¸­å‘ç”Ÿã€‚</li></ul><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>customRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// å¯¼å‡ºé’©å­å‡½æ•°</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span>initValue<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>delay<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">let</span> msg <span class="token operator">=</span> <span class="token function">customRef</span><span class="token punctuation">(</span><span class="token punctuation">(</span>track<span class="token punctuation">,</span>trigger<span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> timer<span class="token operator">:</span><span class="token builtin">number</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">track</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// å‘Šè¯‰Vueæ•°æ®msgå¾ˆé‡è¦ï¼Œè¦å¯¹msgæŒç»­å…³æ³¨ï¼Œä¸€æ—¦å˜åŒ–å°±æ›´æ–°-å‘Šè¯‰Vueè¿½è¸ªè¿™ä¸ªå±æ€§</span>
        <span class="token keyword">return</span> initValue
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span>
        timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          initValue <span class="token operator">=</span> value
          <span class="token function">trigger</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//é€šçŸ¥Vueæ•°æ®msgå˜åŒ–äº†-è§¦å‘å“åº”</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> 
  <span class="token keyword">return</span> <span class="token punctuation">{</span>msg<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å…¨å±€api" tabindex="-1"><a class="header-anchor" href="#å…¨å±€api"><span>å…¨å±€API</span></a></h2><h3 id="app-component" tabindex="-1"><a class="header-anchor" href="#app-component"><span>app.component</span></a></h3><p><code>app.component</code> ç”¨äºåœ¨åº”ç”¨å®ä¾‹ä¸Šå…¨å±€æ³¨å†Œä¸€ä¸ªç»„ä»¶ã€‚è¿™æ„å‘³ç€ä¸€æ—¦æ³¨å†Œï¼Œè¿™ä¸ªç»„ä»¶å¯ä»¥åœ¨ä»»ä½•æ–°åˆ›å»ºçš„Vueæ ¹å®ä¾‹ä¸‹çš„æ¨¡æ¿ä¸­è¢«ä½¿ç”¨ï¼Œè€Œ<strong>ä¸éœ€è¦å†æ¬¡å¯¼å…¥æˆ–æ³¨å†Œ</strong>ã€‚å…¨å±€æ³¨å†Œé€šå¸¸åœ¨åº”ç”¨å¯åŠ¨æ—¶è¿›è¡Œï¼Œä¾‹å¦‚åœ¨ä½ çš„å…¥å£æ–‡ä»¶ï¼ˆå¦‚ <code>main.js</code> æˆ– <code>main.ts</code>ï¼‰ä¸­ã€‚</p><h4 id="ç¤ºä¾‹ä»£ç " tabindex="-1"><a class="header-anchor" href="#ç¤ºä¾‹ä»£ç "><span>ç¤ºä¾‹ä»£ç </span></a></h4><p>ä»¥ä¸‹æ˜¯å¦‚ä½•ä½¿ç”¨ <code>app.component</code> æ¥å…¨å±€æ³¨å†Œä¸€ä¸ªç»„ä»¶çš„ä¾‹å­ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// main.js æˆ– main.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// å¼•å…¥ä½ çš„ç»„ä»¶</span>
<span class="token keyword">import</span> MyComponent <span class="token keyword">from</span> <span class="token string">&#39;./components/MyComponent.vue&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// åˆ›å»ºVueåº”ç”¨å®ä¾‹</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å…¨å±€æ³¨å†ŒMyComponentï¼Œæ‰€æœ‰æ¨¡æ¿éƒ½å¯ä»¥ä½¿ç”¨&lt;MyComponent&gt;äº†</span>
app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&#39;MyComponent&#39;</span><span class="token punctuation">,</span> MyComponent<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æŒ‚è½½åº”ç”¨å®ä¾‹åˆ°DOM</span>
app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>MyComponent</code> æ˜¯å…¨å±€æ³¨å†Œçš„ç»„ä»¶åï¼Œè€Œ <code>MyComponent.vue</code> æ˜¯ç»„ä»¶çš„æ–‡ä»¶ã€‚æ³¨å†Œä¹‹åï¼Œä½ å¯ä»¥åœ¨ä»»ä½•Vueç»„ä»¶çš„æ¨¡æ¿ä¸­ä½¿ç”¨ <code>&lt;MyComponent&gt;&lt;/MyComponent&gt;</code> æ ‡ç­¾æ¥ä½¿ç”¨è¿™ä¸ªç»„ä»¶ï¼Œè€Œä¸éœ€è¦åœ¨æ¯ä¸ªä½¿ç”¨å®ƒçš„ç»„ä»¶å†…éƒ¨å†æ¬¡å¯¼å…¥ã€‚</p><h4 id="å±€éƒ¨æ³¨å†Œ-vs-å…¨å±€æ³¨å†Œ" tabindex="-1"><a class="header-anchor" href="#å±€éƒ¨æ³¨å†Œ-vs-å…¨å±€æ³¨å†Œ"><span>å±€éƒ¨æ³¨å†Œ vs å…¨å±€æ³¨å†Œ</span></a></h4><p>å°½ç®¡å…¨å±€æ³¨å†Œçš„ç»„ä»¶å¯ä»¥åœ¨ä»»ä½•å…¶ä»–ç»„ä»¶ä¸­ä½¿ç”¨ï¼Œä½†åœ¨å¤§å‹åº”ç”¨ä¸­ï¼Œæ¨èä½¿ç”¨å±€éƒ¨æ³¨å†Œï¼Œä»¥ä¾¿æ›´å¥½åœ°æ§åˆ¶ç»„ä»¶çš„å°è£…æ€§å’Œé‡ç”¨æ€§ã€‚å±€éƒ¨æ³¨å†Œæ˜¯åœ¨ç»„ä»¶å†…éƒ¨ä½¿ç”¨ <code>components</code> é€‰é¡¹æ¥å®ç°çš„ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code>// MyParentComponent.vue
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-component</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> MyComponent <span class="token keyword">from</span> <span class="token string">&#39;./components/MyComponent.vue&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    MyComponent
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>MyComponent</code> åªåœ¨ <code>MyParentComponent</code> çš„æ¨¡æ¿ä¸­å¯ç”¨ã€‚</p><h4 id="æ³¨æ„äº‹é¡¹-2" tabindex="-1"><a class="header-anchor" href="#æ³¨æ„äº‹é¡¹-2"><span>æ³¨æ„äº‹é¡¹</span></a></h4><ul><li>å…¨å±€æ³¨å†Œåº”è°¨æ…ä½¿ç”¨ï¼Œå› ä¸ºè¿™ä¼šå½±å“æ•´ä¸ªåº”ç”¨çš„å¤§å°ï¼Œæ‰€æœ‰å…¨å±€æ³¨å†Œçš„ç»„ä»¶éƒ½ä¼šè¢«åŒ…å«åœ¨æœ€ç»ˆçš„æ„å»ºç»“æœä¸­ï¼Œå³ä½¿æœ‰äº›é¡µé¢æ²¡æœ‰ä½¿ç”¨å®ƒä»¬ã€‚</li><li>å±€éƒ¨æ³¨å†Œçš„ç»„ä»¶åœ¨å…¶æ‰€åœ¨çš„ç»„ä»¶å†…éƒ¨æ›´åŠ æ˜ç¡®ï¼Œæ›´å®¹æ˜“ç®¡ç†ä¾èµ–ï¼Œé€šå¸¸ä¹Ÿæ›´æœ‰åˆ©äºä»£ç æ‹†åˆ†å’Œæ‡’åŠ è½½ã€‚</li><li>åœ¨Vue 3ä¸­ï¼Œå…¨å±€æ³¨å†Œçš„è¯­æ³•ç¨æœ‰ä¸åŒäºVue 2ï¼Œå¦‚ä¸Šé¢çš„ç¤ºä¾‹æ‰€ç¤ºã€‚ç¡®ä¿æŒ‰ç…§ä½ ä½¿ç”¨çš„Vueç‰ˆæœ¬æ¥æ­£ç¡®æ³¨å†Œç»„ä»¶ã€‚</li></ul><h3 id="app-directive" tabindex="-1"><a class="header-anchor" href="#app-directive"><span>app.directive</span></a></h3><h4 id="è‡ªå®šä¹‰æŒ‡ä»¤" tabindex="-1"><a class="header-anchor" href="#è‡ªå®šä¹‰æŒ‡ä»¤"><span>è‡ªå®šä¹‰æŒ‡ä»¤</span></a></h4><p>é™¤äº† Vue å†…ç½®çš„ä¸€ç³»åˆ—æŒ‡ä»¤ (æ¯”å¦‚ v-model æˆ– v-show) ä¹‹å¤–ï¼ŒVue è¿˜å…è®¸ä½ æ³¨å†Œè‡ªå®šä¹‰çš„æŒ‡ä»¤ (Custom Directives)ã€‚<br> ä¸€ä¸ªè‡ªå®šä¹‰æŒ‡ä»¤ç”±ä¸€ä¸ªåŒ…å«ç±»ä¼¼ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­çš„å¯¹è±¡æ¥å®šä¹‰ã€‚é’©å­å‡½æ•°ä¼šæ¥æ”¶åˆ°æŒ‡ä»¤æ‰€ç»‘å®šå…ƒç´ ä½œä¸ºå…¶å‚æ•°ã€‚<br> ä¸‹é¢æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰æŒ‡ä»¤çš„ä¾‹å­ï¼Œå½“ä¸€ä¸ª input å…ƒç´ è¢« Vue æ’å…¥åˆ° DOM ä¸­åï¼Œå®ƒä¼šè¢«è‡ªåŠ¨èšç„¦ï¼š</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">// åœ¨æ¨¡æ¿ä¸­å¯ç”¨ v-focus</span>
<span class="token keyword">const</span> vFocus <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">mounted</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> el<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">v-focus</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‡è®¾ä½ è¿˜æœªç‚¹å‡»é¡µé¢ä¸­çš„å…¶ä»–åœ°æ–¹ï¼Œé‚£ä¹ˆä¸Šé¢è¿™ä¸ª <code>input</code> å…ƒç´ åº”è¯¥ä¼šè¢«è‡ªåŠ¨èšç„¦ã€‚è¯¥æŒ‡ä»¤æ¯” <code>autofocus</code> å±æ€§æ›´æœ‰ç”¨ï¼Œå› ä¸ºå®ƒä¸ä»…ä»…å¯ä»¥åœ¨é¡µé¢åŠ è½½å®Œæˆåç”Ÿæ•ˆï¼Œè¿˜å¯ä»¥åœ¨ Vue åŠ¨æ€æ’å…¥å…ƒç´ åç”Ÿæ•ˆã€‚<br> åœ¨ <code>&lt;script setup&gt;</code> ä¸­ï¼Œä»»ä½•ä»¥ <code>v</code> å¼€å¤´çš„é©¼å³°å¼å‘½åçš„å˜é‡éƒ½å¯ä»¥è¢«ç”¨ä½œä¸€ä¸ªè‡ªå®šä¹‰æŒ‡ä»¤ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code>vFocus</code> å¯ä»¥åœ¨æ¨¡æ¿ä¸­ä»¥ <code>v-focus</code> çš„å½¢å¼ä½¿ç”¨<br> åœ¨æ²¡æœ‰ä½¿ç”¨ <code>&lt;script setup&gt;</code> çš„æƒ…å†µä¸‹ï¼Œè‡ªå®šä¹‰æŒ‡ä»¤éœ€è¦é€šè¿‡ <code>directives</code> é€‰é¡¹æ³¨å†Œï¼š</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code>export default {
  setup() {
    /*...*/
  },
  directives: {
    // åœ¨æ¨¡æ¿ä¸­å¯ç”¨ v-focus
    focus: {
      /* ... */
    }
  }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å…¨å±€æ³¨å†Œ" tabindex="-1"><a class="header-anchor" href="#å…¨å±€æ³¨å†Œ"><span>å…¨å±€æ³¨å†Œ</span></a></h4><p>å°†ä¸€ä¸ªè‡ªå®šä¹‰æŒ‡ä»¤å…¨å±€æ³¨å†Œåˆ°åº”ç”¨å±‚çº§ä¹Ÿæ˜¯ä¸€ç§å¸¸è§çš„åšæ³•ï¼š</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code>import { createApp } from &#39;vue&#39;;

const app = createApp({ /* æ ¹ç»„ä»¶é€‰é¡¹å¯¹è±¡ */ });

// ä½¿ v-focus åœ¨æ‰€æœ‰ç»„ä»¶ä¸­éƒ½å¯ç”¨
app.directive(&#39;focus&#39;, {
  // å½“è¢«ç»‘å®šçš„å…ƒç´ æŒ‚è½½åˆ°DOMä¸Šæ—¶...
  mounted(el) {
    // èšç„¦åˆ°å…ƒç´ ä¸Š
    el.focus();
  }
})
app.mount(&#39;#app&#39;);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>åªæœ‰å½“æ‰€éœ€åŠŸèƒ½åªèƒ½é€šè¿‡ç›´æ¥çš„ DOM æ“ä½œæ¥å®ç°æ—¶ï¼Œæ‰åº”è¯¥ä½¿ç”¨è‡ªå®šä¹‰æŒ‡ä»¤ã€‚<br> å…¶ä»–æƒ…å†µä¸‹åº”è¯¥å°½å¯èƒ½åœ°ä½¿ç”¨ <code>v-bind</code> è¿™æ ·çš„å†…ç½®æŒ‡ä»¤æ¥å£°æ˜å¼åœ°ä½¿ç”¨æ¨¡æ¿ï¼Œè¿™æ ·æ›´é«˜æ•ˆï¼Œä¹Ÿå¯¹æœåŠ¡ç«¯æ¸²æŸ“æ›´å‹å¥½ã€‚</p></blockquote><h4 id="è‡ªå®šä¹‰æŒ‡ä»¤çš„é’©å­å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#è‡ªå®šä¹‰æŒ‡ä»¤çš„é’©å­å‡½æ•°"><span>è‡ªå®šä¹‰æŒ‡ä»¤çš„é’©å­å‡½æ•°</span></a></h4><p>è‡ªå®šä¹‰æŒ‡ä»¤æä¾›äº†å‡ ä¸ªé’©å­å‡½æ•°ï¼Œä½ å¯ä»¥åœ¨å…¶ä¸­å†™å…¥è‡ªå·±çš„é€»è¾‘ï¼š</p><ul><li>created: åœ¨ç»‘å®šå…ƒç´ çš„çˆ¶ç»„ä»¶è¢«åˆ›å»ºä¹‹åè°ƒç”¨ã€‚</li><li>beforeMount: åœ¨ç»‘å®šå…ƒç´ è¢«æŒ‚è½½ä¹‹å‰è°ƒç”¨ã€‚</li><li>mounted: åœ¨ç»‘å®šå…ƒç´ è¢«æŒ‚è½½åˆ°DOMä¸Šä¹‹åè°ƒç”¨ã€‚</li><li>beforeUpdate: åœ¨åŒ…å«ç»„ä»¶çš„VNodeæ›´æ–°ä¹‹å‰è°ƒç”¨ã€‚</li><li>updated: åœ¨åŒ…å«ç»„ä»¶çš„VNodeåŠå…¶å­VNodeå…¨éƒ¨æ›´æ–°åè°ƒç”¨ã€‚</li><li>beforeUnmount: åœ¨ç»‘å®šå…ƒç´ è¢«å¸è½½ä¹‹å‰è°ƒç”¨ã€‚</li><li>unmounted: åœ¨ç»‘å®šå…ƒç´ è¢«å¸è½½ä¹‹åè°ƒç”¨ã€‚</li></ul><p>æ¯ä¸ªé’©å­å‡½æ•°éƒ½å¯ä»¥æ¥å—ç‰¹å®šçš„å‚æ•°ï¼Œæ¯”å¦‚ç»‘å®šçš„å…ƒç´ ã€ç»‘å®šå€¼ç­‰ã€‚</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> myDirective <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// åœ¨ç»‘å®šå…ƒç´ çš„ attribute å‰</span>
  <span class="token comment">// æˆ–äº‹ä»¶ç›‘å¬å™¨åº”ç”¨å‰è°ƒç”¨</span>
  <span class="token function">created</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> binding<span class="token punctuation">,</span> vnode<span class="token punctuation">,</span> prevVnode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ä¸‹é¢ä¼šä»‹ç»å„ä¸ªå‚æ•°çš„ç»†èŠ‚</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// åœ¨å…ƒç´ è¢«æ’å…¥åˆ° DOM å‰è°ƒç”¨</span>
  <span class="token function">beforeMount</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> binding<span class="token punctuation">,</span> vnode<span class="token punctuation">,</span> prevVnode<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// åœ¨ç»‘å®šå…ƒç´ çš„çˆ¶ç»„ä»¶</span>
  <span class="token comment">// åŠä»–è‡ªå·±çš„æ‰€æœ‰å­èŠ‚ç‚¹éƒ½æŒ‚è½½å®Œæˆåè°ƒç”¨</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> binding<span class="token punctuation">,</span> vnode<span class="token punctuation">,</span> prevVnode<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ç»‘å®šå…ƒç´ çš„çˆ¶ç»„ä»¶æ›´æ–°å‰è°ƒç”¨</span>
  <span class="token function">beforeUpdate</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> binding<span class="token punctuation">,</span> vnode<span class="token punctuation">,</span> prevVnode<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// åœ¨ç»‘å®šå…ƒç´ çš„çˆ¶ç»„ä»¶</span>
  <span class="token comment">// åŠä»–è‡ªå·±çš„æ‰€æœ‰å­èŠ‚ç‚¹éƒ½æ›´æ–°åè°ƒç”¨</span>
  <span class="token function">updated</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> binding<span class="token punctuation">,</span> vnode<span class="token punctuation">,</span> prevVnode<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ç»‘å®šå…ƒç´ çš„çˆ¶ç»„ä»¶å¸è½½å‰è°ƒç”¨</span>
  <span class="token function">beforeUnmount</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> binding<span class="token punctuation">,</span> vnode<span class="token punctuation">,</span> prevVnode<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ç»‘å®šå…ƒç´ çš„çˆ¶ç»„ä»¶å¸è½½åè°ƒç”¨</span>
  <span class="token function">unmounted</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> binding<span class="token punctuation">,</span> vnode<span class="token punctuation">,</span> prevVnode<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æŒ‡ä»¤çš„é’©å­ä¼šä¼ é€’ä»¥ä¸‹å‡ ç§å‚æ•°ï¼š</p><ul><li><code>el</code>ï¼šæŒ‡ä»¤ç»‘å®šåˆ°çš„å…ƒç´ ã€‚è¿™å¯ä»¥ç”¨äºç›´æ¥æ“ä½œ DOMã€‚</li><li><code>binding</code>ï¼šä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«ä»¥ä¸‹å±æ€§ã€‚ <ul><li><code>value</code>ï¼šä¼ é€’ç»™æŒ‡ä»¤çš„å€¼ã€‚ä¾‹å¦‚åœ¨ v-my-directive=&quot;1 + 1&quot; ä¸­ï¼Œå€¼æ˜¯ 2ã€‚</li><li><code>oldValue</code>ï¼šä¹‹å‰çš„å€¼ï¼Œä»…åœ¨ <code>beforeUpdate</code> å’Œ <code>updated</code> ä¸­å¯ç”¨ã€‚æ— è®ºå€¼æ˜¯å¦æ›´æ”¹ï¼Œå®ƒéƒ½å¯ç”¨ã€‚</li><li><code>arg</code>ï¼šä¼ é€’ç»™æŒ‡ä»¤çš„å‚æ•° (å¦‚æœæœ‰çš„è¯)ã€‚ä¾‹å¦‚åœ¨ v-my-directive:foo ä¸­ï¼Œå‚æ•°æ˜¯ &quot;foo&quot;ã€‚</li><li><code>modifiers</code>ï¼šä¸€ä¸ªåŒ…å«ä¿®é¥°ç¬¦çš„å¯¹è±¡ (å¦‚æœæœ‰çš„è¯)ã€‚ä¾‹å¦‚åœ¨ v-my-directive.foo.bar ä¸­ï¼Œä¿®é¥°ç¬¦å¯¹è±¡æ˜¯ { foo: true, bar: true }ã€‚</li><li><code>instance</code>ï¼šä½¿ç”¨è¯¥æŒ‡ä»¤çš„ç»„ä»¶å®ä¾‹ã€‚</li><li><code>dir</code>ï¼šæŒ‡ä»¤çš„å®šä¹‰å¯¹è±¡ã€‚</li></ul></li><li><code>vnode</code>ï¼šä»£è¡¨ç»‘å®šå…ƒç´ çš„åº•å±‚ VNodeã€‚</li><li><code>prevNode</code>ï¼šä»£è¡¨ä¹‹å‰çš„æ¸²æŸ“ä¸­æŒ‡ä»¤æ‰€ç»‘å®šå…ƒç´ çš„ VNodeã€‚ä»…åœ¨ beforeUpdate å’Œ updated é’©å­ä¸­ã€‚</li></ul><hr><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-example:</span>foo.bar</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>baz<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code>{
  arg: &#39;foo&#39;,
  modifiers: { bar: true },
  value: /* `baz` çš„å€¼ */,
  oldValue: /* ä¸Šä¸€æ¬¡æ›´æ–°æ—¶ `baz` çš„å€¼ */
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-example:</span>[arg]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™é‡ŒæŒ‡ä»¤çš„å‚æ•°ä¼šåŸºäºç»„ä»¶çš„ arg æ•°æ®å±æ€§å“åº”å¼åœ°æ›´æ–°ã€‚</p><blockquote><p>é™¤äº† <code>el</code> å¤–ï¼Œå…¶ä»–å‚æ•°éƒ½æ˜¯åªè¯»çš„ï¼Œä¸è¦æ›´æ”¹å®ƒä»¬ã€‚è‹¥ä½ éœ€è¦åœ¨ä¸åŒçš„é’©å­é—´å…±äº«ä¿¡æ¯ï¼Œæ¨èé€šè¿‡å…ƒç´ çš„ <code>dataset</code> attribute å®ç°ã€‚</p></blockquote><h4 id="ç®€åŒ–å½¢å¼" tabindex="-1"><a class="header-anchor" href="#ç®€åŒ–å½¢å¼"><span>ç®€åŒ–å½¢å¼</span></a></h4><p>å¯¹äºè‡ªå®šä¹‰æŒ‡ä»¤æ¥è¯´ï¼Œä¸€ä¸ªå¾ˆå¸¸è§çš„æƒ…å†µæ˜¯ä»…ä»…éœ€è¦åœ¨ <code>mounted</code> å’Œ <code>updated</code> ä¸Šå®ç°ç›¸åŒçš„è¡Œä¸ºï¼Œé™¤æ­¤ä¹‹å¤–å¹¶ä¸éœ€è¦å…¶ä»–é’©å­ã€‚<br> è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨ä¸€ä¸ªå‡½æ•°æ¥å®šä¹‰æŒ‡ä»¤ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name"><span class="token namespace">v-beautify:</span>green</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&#39;</span>123123&#39;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code>app<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">&#39;beautify&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>el<span class="token punctuation">,</span> binding<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// è¿™ä¼šåœ¨mounted å’Œ updatedæ—¶éƒ½è°ƒç”¨</span>
    el<span class="token punctuation">.</span>innerText <span class="token operator">=</span> binding<span class="token punctuation">.</span>value <span class="token operator">||</span> <span class="token string">&#39;666666&#39;</span><span class="token punctuation">;</span>
    el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> binding<span class="token punctuation">.</span>arg <span class="token operator">||</span> <span class="token string">&#39;yellow&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å¯¹è±¡å­—é¢é‡" tabindex="-1"><a class="header-anchor" href="#å¯¹è±¡å­—é¢é‡"><span>å¯¹è±¡å­—é¢é‡</span></a></h4><p>å¦‚æœä½ çš„æŒ‡ä»¤éœ€è¦å¤šä¸ªå€¼ï¼Œä½ å¯ä»¥å‘å®ƒä¼ é€’ä¸€ä¸ª JavaScript å¯¹è±¡å­—é¢é‡ã€‚åˆ«å¿˜äº†ï¼ŒæŒ‡ä»¤ä¹Ÿå¯ä»¥æ¥æ”¶ä»»ä½•åˆæ³•çš„ JavaScript è¡¨è¾¾å¼ã€‚</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-demo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ color: &#39;white&#39;, text: &#39;hello!&#39; }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code>app<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">&#39;demo&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>el<span class="token punctuation">,</span> binding<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>binding<span class="token punctuation">.</span>value<span class="token punctuation">.</span>color<span class="token punctuation">)</span> <span class="token comment">// =&gt; &quot;white&quot;</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>binding<span class="token punctuation">.</span>value<span class="token punctuation">.</span>text<span class="token punctuation">)</span> <span class="token comment">// =&gt; &quot;hello!&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="app-use" tabindex="-1"><a class="header-anchor" href="#app-use"><span>app.use</span></a></h3><p>åœ¨ Vue.js ä¸­ï¼Œ<code>app.use()</code> æ–¹æ³•æ˜¯ç”¨äºå®‰è£… Vue æ’ä»¶çš„ã€‚å¦‚æœä½ å¼€å‘æˆ–ä½¿ç”¨ Vue æ’ä»¶ï¼Œè¿™æ˜¯å°†æ’ä»¶åŠŸèƒ½æ·»åŠ åˆ° Vue åº”ç”¨ç¨‹åºçš„æ ‡å‡†æ–¹å¼ã€‚æ’ä»¶å¯ä»¥æ˜¯ä¸€ä¸ªå¸¦æœ‰ <code>install</code> æ–¹æ³•çš„å¯¹è±¡ï¼Œæˆ–è€…ç›´æ¥æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚å¦‚æœæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œ<code>install</code> æ–¹æ³•å°†è¢« Vue è°ƒç”¨ï¼›å¦‚æœæ’ä»¶æœ¬èº«æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒå°†ç›´æ¥è¢«è°ƒç”¨ã€‚åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œè¯¥æ–¹æ³•/å‡½æ•°éƒ½å°†æ¥æ”¶ Vue åº”ç”¨ç¨‹åºå®ä¾‹ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä»¥åŠå¯é€‰çš„é€‰é¡¹å¯¹è±¡ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ã€‚</p><p>ä»¥ä¸‹æ˜¯ä½¿ç”¨ <code>app.use()</code> æ–¹æ³•å®‰è£…æ’ä»¶çš„åŸºæœ¬è¯­æ³•ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> SomePlugin <span class="token keyword">from</span> <span class="token string">&#39;some-vue-plugin&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å®‰è£…æ’ä»¶ï¼Œä¸å¸¦é€‰é¡¹</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>SomePlugin<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å®‰è£…æ’ä»¶ï¼Œå¸¦é€‰é¡¹</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>SomePlugin<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">someOption</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æŒ‚è½½æ ¹ç»„ä»¶å®ä¾‹åˆ° DOM</span>
app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™é‡Œæœ‰å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š</p><ol><li>æ’ä»¶é€šå¸¸éœ€è¦åœ¨è°ƒç”¨ <code>app.mount()</code> ä¹‹å‰å®‰è£…ï¼Œä»¥ç¡®ä¿åœ¨æ ¹ Vue å®ä¾‹åˆ›å»ºä¹‹å‰æ’ä»¶å·²ç»æ­£ç¡®é…ç½®ã€‚</li><li>ä¸€äº›æ’ä»¶å¯èƒ½æä¾›å…¨å±€æ–¹æ³•æˆ–å±æ€§ï¼Œæ³¨å†Œå…¨å±€ç»„ä»¶ï¼Œæˆ–è€…æä¾›å…¶ä»–è·¨ç»„ä»¶çš„åŠŸèƒ½ã€‚</li><li>ä¸€ä¸ªæ’ä»¶åªèƒ½è¢«å®‰è£…ä¸€æ¬¡ï¼ŒVue ä¼šä¿è¯ <code>install</code> æ–¹æ³•ä¸ä¼šè¢«å¤šæ¬¡è°ƒç”¨ã€‚</li></ol><p>ä¸‹é¢æ˜¯ä¸€ä¸ªå¦‚ä½•åˆ›å»ºä¸€ä¸ªåŸºæœ¬ Vue æ’ä»¶çš„ç¤ºä¾‹ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨ <code>app.use()</code> æ¥å®‰è£…å®ƒï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// åˆ›å»ºä¸€ä¸ªæ’ä»¶å¯¹è±¡</span>
<span class="token keyword">const</span> MyPlugin <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">install</span><span class="token punctuation">(</span><span class="token parameter">app<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ·»åŠ ä¸€ä¸ªå…¨å±€æ–¹æ³•æˆ–å±æ€§ï¼Œä¾‹å¦‚ï¼šapp.config.globalProperties.$myMethod</span>
    app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>globalProperties<span class="token punctuation">.</span><span class="token function-variable function">$myMethod</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">methodOptions</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// ä¸€äº›é€»è¾‘...</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// æ³¨å…¥ç»„ä»¶</span>
    app<span class="token punctuation">.</span><span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">&#39;myPlugin&#39;</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// æ·»åŠ ä¸€ä¸ªå…¨å±€è‡ªå®šä¹‰æŒ‡ä»¤</span>
    app<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">&#39;my-directive&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token comment">// æŒ‡ä»¤çš„é’©å­å‡½æ•°...</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// æ³¨å†Œä¸€ä¸ªå…¨å±€ç»„ä»¶</span>
    app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&#39;my-component&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token comment">// ç»„ä»¶é€‰é¡¹...</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// æ·»åŠ å®ä¾‹æ–¹æ³•ï¼Œé€šè¿‡ app.config.globalProperties</span>
    <span class="token comment">// app.config.globalProperties.$myMethod2 = () =&gt; { /*...*/ };</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// åˆ›å»º Vue åº”ç”¨</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ä½¿ç”¨æ’ä»¶</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>MyPlugin<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">someOption</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æŒ‚è½½åº”ç”¨</span>
app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code>MyPlugin</code> åŒ…å«äº†ä¸€ä¸ª <code>install</code> æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¸­å®šä¹‰äº†æ’ä»¶å¦‚ä½•æ‰©å±• Vue çš„åŠŸèƒ½ã€‚ç„¶åï¼Œé€šè¿‡ <code>app.use(MyPlugin, options)</code> å®‰è£…æ’ä»¶ï¼Œä½ å¯ä»¥ä¼ é€’ä»»ä½•éœ€è¦çš„é€‰é¡¹ç»™æ’ä»¶ã€‚è¿™äº›é€‰é¡¹éšååœ¨æ’ä»¶çš„ <code>install</code> æ–¹æ³•ä¸­ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°æä¾›ã€‚</p><h3 id="app-runwithcontext" tabindex="-1"><a class="header-anchor" href="#app-runwithcontext"><span>app.runWithContext</span></a></h3><p><code>app.runWithContext</code> æ˜¯ Vue 3 æä¾›çš„ä¸€ä¸ªå®ç”¨åŠŸèƒ½ï¼Œå¯ä»¥è®©æ‚¨åœ¨é <code>setup</code> å‡½æ•°çš„åœºæ™¯ä¸‹ä½¿ç”¨ä¾èµ–æ³¨å…¥ï¼ˆprovide/injectï¼‰ã€‚<br><strong>åŠŸèƒ½è¯¦è§£:</strong></p><ul><li>åœ¨å½“å‰ Vue åº”ç”¨çš„ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œå›è°ƒå‡½æ•°ã€‚</li><li>å…è®¸åœ¨å›è°ƒå‡½æ•°å†…é€šè¿‡ <code>inject</code> è·å–æ³¨å…¥çš„å€¼ã€‚</li></ul><p><strong>ä½¿ç”¨åœºæ™¯:</strong></p><ul><li>åœ¨ Vue 3 ä¸­ï¼Œé€šå¸¸åœ¨ç»„ä»¶çš„ <code>setup</code> å‡½æ•°å†…è¿›è¡Œä¾èµ–æ³¨å…¥ï¼ˆæä¾›å’Œæ³¨å…¥ä¾èµ–é¡¹ï¼‰ã€‚</li><li><code>app.runWithContext</code> å¯ä»¥å¸®åŠ©æ‚¨ç»•è¿‡æ­¤é™åˆ¶ã€‚</li><li>å®ƒé€‚ç”¨äºæ‚¨éœ€è¦åœ¨ <code>setup</code> å‡½æ•°ä¹‹å¤–æ³¨å…¥ä¾èµ–é¡¹çš„æƒ…å†µï¼Œä¾‹å¦‚ç”Ÿå‘½å‘¨æœŸé’©å­æˆ–è‡ªå®šä¹‰é€»è¾‘ã€‚</li></ul><p><strong>ä½¿ç”¨æ–¹æ³•:</strong></p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>æˆ‘çš„ç»„ä»¶<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æä¾›ä¸€ä¸ªå€¼</span>
app<span class="token punctuation">.</span><span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">&#39;someData&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;è¿™æ˜¯æ³¨å…¥çš„æ•°æ®&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// åœ¨ç”Ÿå‘½å‘¨æœŸé’©å­ä¸­ä½¿ç”¨ runWithContext è®¿é—®æ³¨å…¥çš„æ•°æ®</span>
app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;mounted&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> æ³¨å…¥çš„å€¼ <span class="token operator">=</span> app<span class="token punctuation">.</span><span class="token function">runWithContext</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">&#39;someData&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>æ³¨å…¥çš„å€¼<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º: &quot;è¿™æ˜¯æ³¨å…¥çš„æ•°æ®&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> inject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

app<span class="token punctuation">.</span><span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">&#39;id&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> injected <span class="token operator">=</span> app<span class="token punctuation">.</span><span class="token function">runWithContext</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">&#39;id&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>injected<span class="token punctuation">)</span> <span class="token comment">// 1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ³¨æ„äº‹é¡¹:</strong></p><ul><li><code>app.runWithContext</code> æ˜¯åŒæ­¥çš„ï¼Œæ„å‘³ç€å›è°ƒå‡½æ•°ä¼šç«‹å³æ‰§è¡Œã€‚</li><li>é€šå¸¸å»ºè®®åœ¨ <code>setup</code> å‡½æ•°å†…ä½¿ç”¨æ³¨å…¥ï¼Œä»¥æé«˜ä»£ç ç»„ç»‡å’Œå¯ç»´æŠ¤æ€§ã€‚</li><li><code>app.runWithContext</code> åº”åœ¨éœ€è¦åœ¨ <code>setup</code> å‡½æ•°ä¹‹å¤–æ³¨å…¥ä¾èµ–é¡¹çš„ç‰¹å®šåœºæ™¯ä¸­ä½¿ç”¨ã€‚</li></ul><h3 id="app-config" tabindex="-1"><a class="header-anchor" href="#app-config"><span>app.config</span></a></h3><h4 id="errorhandler" tabindex="-1"><a class="header-anchor" href="#errorhandler"><span>errorHandler</span></a></h4><p>åœ¨Vue.jsä¸­ï¼Œ<code>errorHandler</code> æ˜¯ <code>app.config</code> å¯¹è±¡çš„ä¸€ä¸ªå±æ€§ï¼Œç”¨äºå®šä¹‰ä¸€ä¸ªå…¨å±€çš„é”™è¯¯å¤„ç†å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°ä¼šåœ¨Vueæ•è·åˆ°ç»„ä»¶æ¸²æŸ“æˆ–è€…è§‚å¯Ÿè€…(watcher)æ‰§è¡ŒæœŸé—´çš„é”™è¯¯æ—¶è¢«è°ƒç”¨ã€‚å®ƒå…è®¸å¼€å‘è€…å¯¹è¿™äº›é”™è¯¯è¿›è¡Œç»Ÿä¸€çš„å¤„ç†ï¼Œä¾‹å¦‚è®°å½•é”™è¯¯æ—¥å¿—ã€æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼Œæˆ–è€…ä¸ŠæŠ¥ç»™é”™è¯¯ç›‘æ§æœåŠ¡ã€‚<br> ä¸‹é¢æ˜¯å¦‚ä½•åœ¨Vue 3ä¸­è®¾ç½® <code>errorHandler</code> çš„ä¾‹å­ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>

<span class="token comment">// å…¨å±€é”™è¯¯å¤„ç†</span>
app<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function-variable function">errorHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> instance<span class="token punctuation">,</span> info</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Captured in errorHandler: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>err<span class="token punctuation">.</span>message<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token comment">// `instance` æ˜¯å‡ºé”™ç»„ä»¶çš„å®ä¾‹</span>
  <span class="token comment">// `info` æ˜¯ä¸€ä¸ªåŒ…å«äº†Vueç‰¹å®šé”™è¯¯ä¿¡æ¯çš„å­—ç¬¦ä¸²</span>
  <span class="token comment">// è¿™äº›ä¿¡æ¯å¯èƒ½ä¼šéå¸¸æœ‰ç”¨ï¼Œä¾‹å¦‚ï¼Œä½ å¯ä»¥ç”¨å®ƒæ¥ç¡®å®šé”™è¯¯æ˜¯åœ¨ç»„ä»¶çš„å“ªä¸ªç”Ÿå‘½å‘¨æœŸé’©å­ä¸­å‘ç”Ÿçš„</span>

  <span class="token comment">// ä½ å¯ä»¥åœ¨è¿™é‡Œè¿›è¡Œé”™è¯¯ä¸ŠæŠ¥ï¼Œä¾‹å¦‚å‘é€åˆ°æ—¥å¿—æœåŠ¡å™¨</span>
  <span class="token comment">// logService.log({ err, instance, info })</span>
<span class="token punctuation">}</span>

app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ<code>errorHandler</code> è¢«è®¾ç½®ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥å—ä¸‰ä¸ªå‚æ•°ï¼š</p><ul><li><code>err</code>ï¼šæ•è·åˆ°çš„é”™è¯¯å¯¹è±¡ã€‚</li><li><code>instance</code>ï¼šå‡ºé”™çš„ç»„ä»¶å®ä¾‹ï¼Œè¿™å¯ä»¥å¸®åŠ©ä½ ç¡®å®šå“ªä¸ªç»„ä»¶å‡ºäº†é—®é¢˜ã€‚</li><li><code>info</code>ï¼šä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒåŒ…å«äº†Vueç‰¹å®šçš„é”™è¯¯ä¿¡æ¯ï¼Œä¾‹å¦‚é”™è¯¯å‘ç”Ÿåœ¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸé’©å­æˆ–è€…è®¡ç®—å±æ€§ä¸­ã€‚</li></ul><p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œä½ å¯èƒ½ä¼šæƒ³è¦åšçš„ä¸åªæ˜¯åœ¨æ§åˆ¶å°æ‰“å°é”™è¯¯ã€‚ä½ å¯ä»¥ä½¿ç”¨ <code>errorHandler</code> æ¥è¿›è¡Œä¸€äº›æ›´å¤æ‚çš„æ“ä½œï¼Œæ¯”å¦‚ï¼š</p><ul><li>æ˜¾ç¤ºç”¨æˆ·å‹å¥½çš„é”™è¯¯ä¿¡æ¯ã€‚</li><li>å°†é”™è¯¯è¯¦ç»†ä¿¡æ¯å‘é€åˆ°åç«¯æœåŠ¡å™¨è¿›è¡Œè®°å½•ã€‚</li><li>é›†æˆç¬¬ä¸‰æ–¹é”™è¯¯ç›‘æ§æœåŠ¡ï¼Œå¦‚Sentryã€Rollbaræˆ–Bugsnagã€‚</li></ul><p>è¯·æ³¨æ„ï¼Œ<code>errorHandler</code> ä¸ä¼šæ•è·ç”±äº‹ä»¶å¤„ç†å™¨å¼•èµ·çš„é”™è¯¯ï¼Œå› ä¸ºè¿™äº›é”™è¯¯ä¸æ˜¯åœ¨ç»„ä»¶æ¸²æŸ“æˆ–è€…å“åº”å¼ç³»ç»Ÿä¸­äº§ç”Ÿçš„ã€‚ä½ éœ€è¦åœ¨äº‹ä»¶å¤„ç†å™¨ä¸­æ‰‹åŠ¨æ•è·å¹¶å¤„ç†è¿™äº›é”™è¯¯ã€‚</p><p>æ­¤å¤–ï¼Œå¦‚æœ<code>errorHandler</code>è‡ªèº«æŠ›å‡ºé”™è¯¯ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´æ— é™é€’å½’ï¼Œæ‰€ä»¥ä½ åº”è¯¥ç¡®ä¿<code>errorHandler</code>å‡½æ•°å†…éƒ¨ä¸ä¼šæŠ›å‡ºé”™è¯¯ã€‚</p><h4 id="warnhandler" tabindex="-1"><a class="header-anchor" href="#warnhandler"><span>warnHandler</span></a></h4><p>åœ¨Vue.jsä¸­ï¼Œ<code>warnHandler</code> æ˜¯ <code>app.config</code> å¯¹è±¡çš„ä¸€ä¸ªå±æ€§ï¼Œç”¨äºå®šä¹‰ä¸€ä¸ªå…¨å±€çš„è­¦å‘Šå¤„ç†å‡½æ•°ã€‚å½“Vueåœ¨è¿è¡Œæ—¶é‡åˆ°éè‡´å‘½é”™è¯¯ï¼Œé€šå¸¸æ˜¯å¼€å‘ç›¸å…³çš„è­¦å‘Šæ—¶ï¼Œä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚ä½ å¯ä»¥åˆ©ç”¨è¿™ä¸ªå¤„ç†å‡½æ•°æ¥æ§åˆ¶å¦‚ä½•å¤„ç†è¿™äº›è­¦å‘Šï¼Œä¾‹å¦‚ï¼Œä½ å¯èƒ½æƒ³è¦è®°å½•è¿™äº›è­¦å‘Šåˆ°æ—¥å¿—ä¸­ï¼Œæˆ–è€…åœ¨å¼€å‘ç¯å¢ƒä¸­æ˜¾ç¤ºä¸€ä¸ªé€šçŸ¥ã€‚</p><p>è¿™ä¸ªåŠŸèƒ½åœ¨è¿½è¸ªå’Œè°ƒè¯•Vueåº”ç”¨ä¸­çš„æ½œåœ¨é—®é¢˜æ—¶éå¸¸æœ‰ç”¨ï¼Œå°¤å…¶æ˜¯åœ¨å¼€å‘è¿‡ç¨‹ä¸­ã€‚</p><p>ä»¥ä¸‹æ˜¯å¦‚ä½•è®¾ç½®Vue 3ä¸­çš„ <code>warnHandler</code> çš„ä¾‹å­ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å…¨å±€è­¦å‘Šå¤„ç†</span>
app<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function-variable function">warnHandler</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">msg<span class="token punctuation">,</span> instance<span class="token punctuation">,</span> trace</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Warn: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>msg<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\nTrace: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>trace<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// `msg` æ˜¯è­¦å‘Šä¿¡æ¯</span>
  <span class="token comment">// `instance` æ˜¯å¯¼è‡´è­¦å‘Šçš„ç»„ä»¶å®ä¾‹</span>
  <span class="token comment">// `trace` æ˜¯ç»„ä»¶å †æ ˆè·Ÿè¸ª</span>

  <span class="token comment">// ä½ å¯ä»¥åœ¨è¿™é‡Œå‘å¼€å‘å›¢é˜Ÿçš„æ—¥å¿—æœåŠ¡å™¨å‘é€è­¦å‘Šä¿¡æ¯</span>
  <span class="token comment">// logService.warn({ msg, instance, trace })</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ<code>warnHandler</code> è¢«è®¾ç½®ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼š</p><ul><li><code>msg</code>ï¼šè­¦å‘Šä¿¡æ¯çš„å­—ç¬¦ä¸²ã€‚</li><li><code>instance</code>ï¼šç”Ÿæˆè­¦å‘Šçš„ç»„ä»¶å®ä¾‹ã€‚</li><li><code>trace</code>ï¼šç»„ä»¶çš„å †æ ˆè·Ÿè¸ªä¿¡æ¯ï¼Œæœ‰åŠ©äºå®šä½é—®é¢˜æ‰€åœ¨ã€‚</li></ul><p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œä½ å¯èƒ½ä¸å¸Œæœ›åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¯ç”¨è­¦å‘Šå¤„ç†ï¼Œå› ä¸ºè¿™å¯èƒ½ä¼šæš´éœ²åº”ç”¨å†…éƒ¨çš„ä¿¡æ¯ï¼Œå¹¶ä¸”å½±å“æ€§èƒ½ã€‚æ‰€ä»¥ï¼Œæœ€å¥½å°†è­¦å‘Šå¤„ç†é€»è¾‘åŒ…è£¹åœ¨ä¸€ä¸ªæ¡ä»¶æ£€æŸ¥ä¸­ï¼Œä»¥ç¡®ä¿å®ƒåªåœ¨å¼€å‘ç¯å¢ƒä¸­æ¿€æ´»ã€‚</p><p>è¯·æ³¨æ„ï¼Œ<code>warnHandler</code> åªåœ¨å¼€å‘ç‰ˆæœ¬çš„Vueä¸­å¯ç”¨ï¼Œå®ƒä¸ä¼šåœ¨ç”Ÿäº§ç‰ˆæœ¬ä¸­åŒ…å«ã€‚è¿™æ˜¯ä¸ºäº†ç¡®ä¿ç”Ÿäº§ç‰ˆæœ¬çš„æ€§èƒ½å’Œå®‰å…¨æ€§ã€‚</p><h4 id="performance" tabindex="-1"><a class="header-anchor" href="#performance"><span>performance</span></a></h4><p>åœ¨Vue.jsä¸­ï¼Œ<code>performance</code> å±æ€§æ˜¯ <code>app.config</code> å¯¹è±¡çš„ä¸€ä¸ªå¸ƒå°”å‹é€‰é¡¹ï¼Œå¯ä»¥ç”¨æ¥å¯ç”¨æˆ–ç¦ç”¨Vueåº”ç”¨çš„æ€§èƒ½è¿½è¸ªåŠŸèƒ½ã€‚å½“ä½ è®¾ç½®å®ƒä¸º <code>true</code> æ—¶ï¼ŒVueä¼šè¿½è¸ªå’Œè®°å½•ç»„ä»¶çš„åˆå§‹åŒ–ã€ç¼–è¯‘ã€æ¸²æŸ“å’Œæ›´æ–°ç­‰æ€§èƒ½æ•°æ®ã€‚è¿™ä¸ªåŠŸèƒ½ä¸»è¦ç”¨äºå¼€å‘ç¯å¢ƒï¼Œä»¥å¸®åŠ©å¼€å‘è€…è¯Šæ–­å’Œä¼˜åŒ–åº”ç”¨æ€§èƒ½ã€‚</p><p>è¯·æ³¨æ„ï¼Œé€šå¸¸å»ºè®®åªåœ¨å¼€å‘æ¨¡å¼ä¸‹å¯ç”¨æ€§èƒ½è¿½è¸ªï¼Œå› ä¸ºå®ƒå¯èƒ½ä¼šå¯¹æ€§èƒ½äº§ç”Ÿä¸€å®šå½±å“ï¼Œå¹¶ä¸”åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æ”¶é›†è¿™äº›æ•°æ®æ˜¯ä¸å¿…è¦çš„ã€‚</p><p>ä¸‹é¢æ˜¯å¦‚ä½•åœ¨Vue 3ä¸­å¯ç”¨æ€§èƒ½è¿½è¸ªçš„ä¾‹å­ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>

<span class="token comment">// å¯ç”¨æ€§èƒ½è¿½è¸ª</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&#39;development&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>performance <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>

app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æ£€æŸ¥äº†ç¯å¢ƒå˜é‡ <code>NODE_ENV</code> æ˜¯å¦ä¸º <code>&#39;development&#39;</code> æ¥å†³å®šæ˜¯å¦å¯ç”¨æ€§èƒ½è¿½è¸ªã€‚è¿™æ˜¯é¿å…åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¯ç”¨æ€§èƒ½è¿½è¸ªçš„ä¸€ç§å¸¸è§åšæ³•ã€‚</p><p>å½“æ€§èƒ½è¿½è¸ªè¢«å¯ç”¨æ—¶ï¼Œä½ å¯ä»¥æ‰“å¼€æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·ï¼Œç„¶åæŸ¥çœ‹ Performanceï¼ˆæˆ–ç±»ä¼¼ï¼‰æ ‡ç­¾é¡µæ¥è§‚å¯ŸVueç»„ä»¶çš„æ€§èƒ½æŒ‡æ ‡ã€‚ä¾‹å¦‚ï¼Œåœ¨Chromeæµè§ˆå™¨ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ Chrome DevTools çš„ Performance é¢æ¿æ¥è®°å½•å’ŒæŸ¥çœ‹æ—¶é—´çº¿ä¸Šçš„æ€§èƒ½æ•°æ®ã€‚</p><p>è¿™äº›æ•°æ®å¯ä»¥å¸®åŠ©ä½ åˆ†æï¼š</p><ul><li>ç»„ä»¶æ¸²æŸ“æ—¶æœºå’Œæ‰€éœ€æ—¶é—´</li><li>ç»„ä»¶çš„æ›´æ–°æ•ˆç‡</li><li>å“ªäº›ç»„ä»¶æˆ–æ“ä½œå¯èƒ½å¯¼è‡´æ€§èƒ½ç“¶é¢ˆ</li></ul><p>ä½¿ç”¨è¿™äº›ä¿¡æ¯ï¼Œä½ å¯ä»¥å¯¹Vueåº”ç”¨è¿›è¡Œæ€§èƒ½ä¼˜åŒ–ï¼Œæ¯”å¦‚é‡æ„ä»£ç ã€å»¶è¿ŸåŠ è½½æŸäº›èµ„æºã€é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“ç­‰ã€‚</p><h4 id="compileroptions" tabindex="-1"><a class="header-anchor" href="#compileroptions"><span>compilerOptions</span></a></h4><p>åœ¨Vue.js 3ä¸­ï¼Œ<code>compilerOptions</code> æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒå¯ä»¥ä¼ é€’ç»™ <code>createApp</code> å‡½æ•°ï¼Œç”¨æ¥è‡ªå®šä¹‰Vueçš„æ¨¡æ¿ç¼–è¯‘å™¨è¡Œä¸ºã€‚è¿™äº›é€‰é¡¹å¯¹äºè°ƒæ•´æ¨¡æ¿ç¼–è¯‘è¿‡ç¨‹å¯èƒ½éå¸¸æœ‰ç”¨ï¼Œå°¤å…¶æ˜¯å½“ä½ éœ€è¦è‡ªå®šä¹‰å¦‚ä½•å¤„ç†æ¨¡æ¿ä¸­çš„ç‰¹å®šå†…å®¹æ—¶ã€‚<br> ä»¥ä¸‹æ˜¯ä¸€äº› <code>compilerOptions</code> çš„å¸¸è§å±æ€§ï¼š</p><ul><li><code>isCustomElement</code>: ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥æŒ‡å®šå“ªäº›æ ‡ç­¾åº”è¯¥è¢«è§†ä¸ºè‡ªå®šä¹‰å…ƒç´ ã€‚è¿™å¯¹äºä½¿ç”¨Web Componentsæ—¶éå¸¸æœ‰ç”¨ï¼Œå› ä¸ºä½ å¯ä»¥å‘Šè¯‰Vueç¼–è¯‘å™¨å“ªäº›å…ƒç´ ä¸åº”è¯¥ä½œä¸ºVueç»„ä»¶è¿›è¡Œå¤„ç†ã€‚</li><li><code>delimiters</code>: ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œç”¨æ¥æ”¹å˜æ–‡æœ¬æ’å€¼ä¸­ä½¿ç”¨çš„åˆ†éš”ç¬¦ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒVueä½¿ç”¨åŒå¤§æ‹¬å· <code>{{</code> å’Œ <code>}}</code> ä½œä¸ºåˆ†éš”ç¬¦ã€‚</li><li><code>whitespace</code>: æŒ‡å®šæ˜¯å¦ä»¥åŠå¦‚ä½•å¤„ç†æ¨¡æ¿ä¸­çš„ç©ºç™½ã€‚é€‰é¡¹åŒ…æ‹¬ <code>&#39;preserve&#39;</code> (ä¿ç•™æ‰€æœ‰ç©ºç™½)ï¼Œ<code>&#39;condense&#39;</code> (å‹ç¼©ç©ºç™½ï¼Œä½†ä¿ç•™å¿…è¦çš„ç©ºç™½ä»¥é¿å…å…ƒç´ ä¹‹é—´çš„ç©ºç™½)ã€‚</li><li><code>comments</code>: ä¸€ä¸ªå¸ƒå°”å€¼ï¼ŒæŒ‡ç¤ºç¼–è¯‘å™¨æ˜¯å¦åº”è¯¥ä¿ç•™æ¨¡æ¿ä¸­çš„HTMLæ³¨é‡Šã€‚</li></ul><p>è¿™é‡Œæ˜¯å¦‚ä½•åœ¨Vue 3ä¸­ä½¿ç”¨ <code>compilerOptions</code> çš„ç¤ºä¾‹ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">compilerOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// è¯†åˆ«è‡ªå®šä¹‰å…ƒç´ </span>
    <span class="token function-variable function">isCustomElement</span><span class="token operator">:</span> <span class="token parameter">tag</span> <span class="token operator">=&gt;</span> tag<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&#39;app-&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    
    <span class="token comment">// æ”¹å˜æ–‡æœ¬æ’å€¼çš„åˆ†éš”ç¬¦</span>
    <span class="token literal-property property">delimiters</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;[[&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;]]&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    
    <span class="token comment">// å‹ç¼©ç©ºç™½å­—ç¬¦</span>
    <span class="token literal-property property">whitespace</span><span class="token operator">:</span> <span class="token string">&#39;condense&#39;</span><span class="token punctuation">,</span>
    
    <span class="token comment">// ä¿ç•™æ¨¡æ¿ä¸­çš„HTMLæ³¨é‡Š</span>
    <span class="token literal-property property">comments</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸Šé¢çš„ä»£ç ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä¸ºæ¨¡æ¿ç¼–è¯‘å™¨è®¾ç½®äº†è‡ªå®šä¹‰é€‰é¡¹ï¼Œå…¶ä¸­åŒ…æ‹¬è¯†åˆ«ä»¥ <code>app-</code> å¼€å¤´çš„æ ‡ç­¾ä½œä¸ºè‡ªå®šä¹‰å…ƒç´ ï¼Œæ”¹å˜æ’å€¼åˆ†éš”ç¬¦ï¼Œå‹ç¼©æ¨¡æ¿ä¸­çš„ç©ºç™½ï¼Œå¹¶ä¸”ä¿ç•™HTMLæ³¨é‡Šã€‚<br> è¯·æ³¨æ„ï¼Œè¿™äº›ç¼–è¯‘å™¨é€‰é¡¹é€šå¸¸åªåœ¨ä½¿ç”¨è¿è¡Œæ—¶åŠ ç¼–è¯‘å™¨ç‰ˆæœ¬çš„Vueæ—¶é€‚ç”¨ï¼Œå³ä½¿ç”¨å…¨ç‰ˆæœ¬çš„ <code>vue.js</code>è€Œä¸æ˜¯ä»…è¿è¡Œæ—¶ç‰ˆæœ¬çš„ <code>vue.runtime.js</code>ã€‚å¦‚æœåœ¨æ„å»ºè¿‡ç¨‹ä¸­ä½¿ç”¨äº†Vueçš„å•æ–‡ä»¶ç»„ä»¶ï¼ˆ<code>.vue</code> æ–‡ä»¶ï¼‰ï¼Œå¤§éƒ¨åˆ†æ¨¡æ¿ç¼–è¯‘éƒ½ä¼šåœ¨æ„å»ºæ—¶è¿›è¡Œï¼Œè€Œä¸æ˜¯åœ¨å®¢æˆ·ç«¯è¿›è¡Œï¼Œé‚£ä¹ˆè¿™äº›é€‰é¡¹åº”è¯¥åœ¨æ„å»ºé…ç½®ä¸­è®¾ç½®ï¼Œä¾‹å¦‚åœ¨ <code>vue-loader</code> æˆ– <code>vite</code> çš„ç›¸åº”é…ç½®ä¸­ã€‚</p><h4 id="globalproperties" tabindex="-1"><a class="header-anchor" href="#globalproperties"><span>globalProperties</span></a></h4><p><code>globalProperties</code> æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå±äºåº”ç”¨å®ä¾‹çš„ <code>app.config</code> å¯¹è±¡ã€‚é€šè¿‡è¿™ä¸ªå¯¹è±¡ï¼Œä½ å¯ä»¥å‘æ‰€æœ‰çš„Vueç»„ä»¶å®ä¾‹æ·»åŠ å…¨å±€å±æ€§ã€‚è¿™äº›å±æ€§å¯ä»¥åœ¨ä»»ä½•ç»„ä»¶çš„æ¨¡æ¿ã€è®¡ç®—å±æ€§æˆ–æ–¹æ³•ä¸­è¢«è®¿é—®ï¼Œå°±åƒå®ƒä»¬æ˜¯è¯¥ç»„ä»¶å®ä¾‹çš„ä¸€éƒ¨åˆ†ä¸€æ ·ã€‚<br><code>globalProperties</code> çš„ä¸€ä¸ªå¸¸è§ç”¨é€”æ˜¯æ·»åŠ å…¨å±€æ’ä»¶ï¼Œå¦‚ä¸€ä¸ªäº‹ä»¶æ€»çº¿ã€å…¨å±€çŠ¶æ€ç®¡ç†æˆ–è€…æ˜¯å…¨å±€æœåŠ¡ç­‰ã€‚ä¾‹å¦‚ï¼Œä½ å¯èƒ½å¸Œæœ›åœ¨æ‰€æœ‰ç»„ä»¶ä¸­éƒ½èƒ½å¤Ÿæ–¹ä¾¿åœ°è®¿é—®åˆ°ä¸€ä¸ªå…¨å±€APIå®¢æˆ·ç«¯å®ä¾‹æˆ–æ˜¯ä¸€äº›å·¥å…·å‡½æ•°ã€‚<br> ä»¥ä¸‹æ˜¯å¦‚ä½•åœ¨Vue 3ä¸­ä½¿ç”¨ <code>globalProperties</code> çš„ç¤ºä¾‹ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&#39;axios&#39;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>

<span class="token comment">// æ·»åŠ å…¨å±€å±æ€§</span>
app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>globalProperties<span class="token punctuation">.</span>$http <span class="token operator">=</span> axios
app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>globalProperties<span class="token punctuation">.</span>$appName <span class="token operator">=</span> <span class="token string">&#39;My App&#39;</span>

app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å‘æ‰€æœ‰ç»„ä»¶å®ä¾‹æ·»åŠ äº†ä¸¤ä¸ªå…¨å±€å±æ€§ï¼š</p><ul><li><code>$http</code>ï¼šå®ƒæ˜¯ <code>axios</code> çš„ä¸€ä¸ªå®ä¾‹ï¼Œç°åœ¨å¯ä»¥åœ¨ä»»ä½•ç»„ä»¶å†…é€šè¿‡ <code>this.$http</code> è®¿é—®åˆ°ã€‚</li><li><code>$appName</code>ï¼šå®ƒæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å€¼ &#39;My App&#39;ï¼ŒåŒæ ·å¯ä»¥åœ¨ä»»ä½•ç»„ä»¶å†…é€šè¿‡ <code>this.$appName</code> è®¿é—®åˆ°ã€‚</li></ul><p>ä½¿ç”¨å…¨å±€å±æ€§æ—¶ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºå®ƒä»¬æ˜¯å…¨å±€çš„ï¼Œæ‰€ä»¥å¯èƒ½ä¼šä¸æŸäº›ç»„ä»¶å†…éƒ¨çš„å±æ€§æˆ–æ–¹æ³•å‘ç”Ÿå‘½åå†²çªã€‚å¦‚æœå…¨å±€å±æ€§ä¸ç»„ä»¶è‡ªå·±çš„å±æ€§å†²çªï¼Œç»„ä»¶è‡ªå·±çš„å±æ€§å°†å…·æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§ ã€‚æ­¤å¤–ï¼Œè¿‡åº¦ä¾èµ–å…¨å±€å±æ€§å¯èƒ½ä¼šä½¿å¾—ç»„ä»¶é—´çš„è€¦åˆåº¦å¢åŠ ï¼Œä»è€Œé™ä½ä»£ç çš„æ¨¡å—åŒ–å’Œå¯æµ‹è¯•æ€§ã€‚å› æ­¤ï¼Œåº”å½“è°¨æ…ä½¿ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œç¡®ä¿å…¨å±€å±æ€§çš„ä½¿ç”¨æ˜¯åˆç†å’Œå¿…è¦çš„ã€‚<br> è¯·è®°ä½ï¼Œä¸ºäº†é¿å…å‘½åå†²çªå¹¶ä¸”è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå…¨å±€å±æ€§ï¼Œé€šå¸¸ä¼šç»™å…¨å±€å±æ€§æ·»åŠ ä¸€ä¸ªç‰¹å®šçš„å‰ç¼€ï¼ˆå¦‚ä¸Šä¾‹ä¸­çš„ <code>$</code>ï¼‰ã€‚è¿™æ˜¯Vueç¤¾åŒºä¸­çš„ä¸€ä¸ªçº¦å®šï¼Œä»¥åŒºåˆ†å…¨å±€å±æ€§å’Œç»„ä»¶å†…éƒ¨çš„å±æ€§ã€‚</p><h4 id="optionmergestrategies" tabindex="-1"><a class="header-anchor" href="#optionmergestrategies"><span>optionMergeStrategies</span></a></h4><p>åœ¨Vue.jsä¸­ï¼Œ<code>optionMergeStrategies</code> æ˜¯ <code>app.config</code> å¯¹è±¡çš„ä¸€ä¸ªå±æ€§ï¼Œå®ƒå…è®¸ä½ è‡ªå®šä¹‰ç»„ä»¶é€‰é¡¹åˆå¹¶ç­–ç•¥ã€‚æ¯ä¸ªVueç»„ä»¶éƒ½å¯ä»¥åŒ…å«å¤šç§é€‰é¡¹ï¼Œå¦‚ <code>data</code>, <code>methods</code>, <code>computed</code>, ç­‰ç­‰ã€‚å½“ä½ ä½¿ç”¨ <code>extends</code> æˆ–è€…æ··å…¥ (mixins) åŠŸèƒ½æ—¶ï¼Œä½ ä¼šå°†å¤šä¸ªç»„ä»¶çš„é€‰é¡¹åˆå¹¶æˆä¸€ä¸ªæ–°ç»„ä»¶ã€‚Vueé»˜è®¤æä¾›äº†å„ç§é€‰é¡¹çš„åˆå¹¶ç­–ç•¥ï¼Œä½†æœ‰æ—¶ä½ å¯èƒ½éœ€è¦è‡ªå®šä¹‰è¿™äº›ç­–ç•¥ä»¥é€‚åº”ç‰¹å®šçš„æƒ…å†µã€‚</p><p>ä¾‹å¦‚ï¼ŒVueé»˜è®¤çš„åˆå¹¶ç­–ç•¥æ˜¯ï¼š</p><ul><li>å¯¹äºå¤§å¤šæ•°é€‰é¡¹ï¼ˆå¦‚ <code>methods</code>, <code>computed</code>, <code>components</code> ç­‰ï¼‰ï¼Œæ¥è‡ªæ··å…¥å¯¹è±¡æˆ–å­ç»„ä»¶çš„é€‰é¡¹å°†è¢«åˆå¹¶åˆ°çˆ¶ç»„ä»¶çš„é€‰é¡¹ä¸­ã€‚å¦‚æœæœ‰å†²çªï¼Œå­ç»„ä»¶/æ··å…¥çš„é€‰é¡¹å°†ä¼˜å…ˆã€‚</li><li>å¯¹äº <code>data</code> å’Œ <code>provide</code> é€‰é¡¹ï¼ŒVueä½¿ç”¨ä¸€ä¸ªç‰¹æ®Šçš„ç­–ç•¥ï¼Œåˆå¹¶æ—¶ä¼šè°ƒç”¨å®ƒä»¬ä½œä¸ºå‡½æ•°ï¼Œå¹¶åˆå¹¶è¿”å›çš„å¯¹è±¡ã€‚</li></ul><p>ä½ å¯ä»¥é€šè¿‡è®¾ç½® <code>optionMergeStrategies</code> æ¥è‡ªå®šä¹‰è¿™äº›åˆå¹¶ç­–ç•¥ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œå±•ç¤ºäº†å¦‚ä½•è‡ªå®šä¹‰ <code>myOption</code> çš„åˆå¹¶ç­–ç•¥ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>

app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>optionMergeStrategies<span class="token punctuation">.</span><span class="token function-variable function">myOption</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">toVal<span class="token punctuation">,</span> fromVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// è‡ªå®šä¹‰åˆå¹¶ç­–ç•¥</span>
  <span class="token comment">// `toVal` æ˜¯çˆ¶ç»„ä»¶æˆ–æ··å…¥å¯¹è±¡ä¸­çš„å€¼</span>
  <span class="token comment">// `fromVal` æ˜¯å­ç»„ä»¶ä¸­çš„å€¼</span>
  <span class="token keyword">return</span> fromVal <span class="token operator">||</span> toVal
<span class="token punctuation">}</span>

app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªæ–°çš„é€‰é¡¹ <code>myOption</code>ï¼Œå¹¶ä¸ºå®ƒæä¾›äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„åˆå¹¶ç­–ç•¥ã€‚è¿™ä¸ªç­–ç•¥ç®€å•åœ°æ£€æŸ¥å­ç»„ä»¶çš„å€¼ (<code>fromVal</code>)ï¼Œå¦‚æœå­ç»„ä»¶æä¾›äº†è¿™ä¸ªå€¼ï¼Œå°±ä½¿ç”¨å®ƒï¼Œå¦åˆ™ä½¿ç”¨çˆ¶ç»„ä»¶çš„å€¼ (<code>toVal</code>)ã€‚ä¸€æ—¦å®šä¹‰äº†è‡ªå®šä¹‰çš„é€‰é¡¹åˆå¹¶ç­–ç•¥ï¼Œä½ å°±å¯ä»¥åœ¨Vueç»„ä»¶ä¸­ä½¿ç”¨è¿™ä¸ªç­–ç•¥äº†ã€‚<br> ä¸‹é¢æ˜¯å¦‚ä½•åœ¨ç»„ä»¶ä¸­ä½¿ç”¨è‡ªå®šä¹‰åˆå¹¶ç­–ç•¥çš„ä¾‹å­ï¼š<br> é¦–å…ˆï¼Œå‡è®¾ä½ å·²ç»æŒ‰ç…§å‰é¢çš„ä¾‹å­åˆ›å»ºäº†ä¸€ä¸ªè‡ªå®šä¹‰çš„åˆå¹¶ç­–ç•¥ <code>myOption</code>ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// åœ¨åº”ç”¨é…ç½®ä¸­å®šä¹‰äº†è‡ªå®šä¹‰åˆå¹¶ç­–ç•¥</span>
app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>optionMergeStrategies<span class="token punctuation">.</span><span class="token function-variable function">myOption</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">toVal<span class="token punctuation">,</span> fromVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// è‡ªå®šä¹‰åˆå¹¶é€»è¾‘...</span>
  <span class="token keyword">return</span> fromVal <span class="token operator">||</span> toVal<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç°åœ¨ï¼Œä½ å¯ä»¥åœ¨åˆ›å»ºç»„ä»¶æ—¶ä½¿ç”¨è¿™ä¸ªæ–°çš„ <code>myOption</code> é€‰é¡¹ã€‚è¿™ä¸ªé€‰é¡¹ä¼šæŒ‰ç…§ä½ å®šä¹‰çš„ç­–ç•¥åˆå¹¶ã€‚</p><p>ä¸‹é¢æ˜¯å¦‚ä½•åœ¨çˆ¶ç»„ä»¶å’Œæ··å…¥ä¸­ä½¿ç”¨ <code>myOption</code> çš„ä¾‹å­ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// å®šä¹‰ä¸€ä¸ªæ··å…¥å¯¹è±¡ï¼Œå®ƒä½¿ç”¨äº† myOption</span>
<span class="token keyword">const</span> myMixin <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">myOption</span><span class="token operator">:</span> <span class="token string">&#39;value from mixin&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// åˆ›å»ºä¸€ä¸ªç»„ä»¶ï¼Œå®ƒä¹Ÿä½¿ç”¨äº† myOptionï¼Œå¹¶ä¸”ä½¿ç”¨äº†æ··å…¥</span>
<span class="token keyword">const</span> MyComponent <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mixins</span><span class="token operator">:</span> <span class="token punctuation">[</span>myMixin<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">myOption</span><span class="token operator">:</span> <span class="token string">&#39;value from component&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// åˆ›å»ºVueåº”ç”¨å®ä¾‹</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æ³¨å†Œç»„ä»¶</span>
app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&#39;my-component&#39;</span><span class="token punctuation">,</span> MyComponent<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æŒ‚è½½åº”ç”¨</span>
app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªæ··å…¥å¯¹è±¡ <code>myMixin</code> å’Œä¸€ä¸ªç»„ä»¶ <code>MyComponent</code>ï¼Œå®ƒä»¬éƒ½ä½¿ç”¨äº† <code>myOption</code> é€‰é¡¹ã€‚æ ¹æ®æˆ‘ä»¬è‡ªå®šä¹‰çš„åˆå¹¶ç­–ç•¥ï¼Œå½“ç»„ä»¶å’Œæ··å…¥å¯¹è±¡åˆå¹¶æ—¶ï¼Œå¦‚æœç»„ä»¶æä¾›äº† <code>myOption</code> çš„å€¼ï¼Œè¿™ä¸ªå€¼å°†è¢«ä½¿ç”¨ï¼›å¦‚æœç»„ä»¶æ²¡æœ‰æä¾›ï¼Œé‚£ä¹ˆæ··å…¥ä¸­çš„å€¼å°†è¢«ä½¿ç”¨ã€‚</p><p>åœ¨å®é™…çš„Vueç»„ä»¶ä¸­ï¼Œä½ å¯ä»¥åƒè®¿é—®å…¶ä»–é€‰é¡¹ä¸€æ ·è®¿é—® <code>myOption</code>ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$options<span class="token punctuation">.</span>myOption<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿™å°†æ ¹æ®è‡ªå®šä¹‰åˆå¹¶ç­–ç•¥è¾“å‡º myOption çš„å€¼</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è®°ä½ï¼Œè‡ªå®šä¹‰åˆå¹¶ç­–ç•¥é€šå¸¸ç”¨äºé«˜çº§ç”¨ä¾‹ï¼Œå¦‚æ’ä»¶æˆ–æ¡†æ¶å¼€å‘ï¼Œå› ä¸ºè¿™æ¶‰åŠåˆ°Vueçš„å†…éƒ¨å·¥ä½œæœºåˆ¶ã€‚åœ¨æ™®é€šçš„åº”ç”¨å¼€å‘ä¸­ï¼Œéµå¾ªVueçš„é»˜è®¤é€‰é¡¹åˆå¹¶ç­–ç•¥é€šå¸¸å°±è¶³å¤Ÿäº†ã€‚</p><p>è¯·æ³¨æ„ï¼Œ<code>optionMergeStrategies</code> é€šå¸¸æ˜¯åœ¨å…¨å±€èŒƒå›´å†…é…ç½®çš„ï¼Œå¹¶ä¸”éœ€è¦åœ¨åº”ç”¨çš„å…¶ä»–éƒ¨åˆ†è¢«åŠ è½½ä¹‹å‰è®¾ç½®å¥½ã€‚è¿™æ ·ï¼Œå½“ç»„ä»¶å®ä¾‹è¢«åˆ›å»ºå’Œåˆå¹¶é€‰é¡¹æ—¶ï¼Œè‡ªå®šä¹‰çš„åˆå¹¶ç­–ç•¥å°±å¯ä»¥è¢«æ­£ç¡®åœ°ä½¿ç”¨äº†ã€‚</p><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œé€šå¸¸åº”è¯¥å°½é‡é¿å…éœ€è¦è‡ªå®šä¹‰é€‰é¡¹åˆå¹¶ç­–ç•¥çš„å¤æ‚æƒ…å†µã€‚è¿™ä¸ªåŠŸèƒ½æ›´å¤šç”¨äºæ’ä»¶å’Œé«˜çº§åº”ç”¨ï¼Œå› ä¸ºä¸æ°å½“çš„ä½¿ç”¨å¯èƒ½ä¼šå¯¼è‡´éš¾ä»¥è¿½è¸ªçš„é”™è¯¯ã€‚</p><h3 id="é€šç”¨" tabindex="-1"><a class="header-anchor" href="#é€šç”¨"><span>é€šç”¨</span></a></h3><h2 id="ç”Ÿå‘½å‘¨æœŸé’©å­" tabindex="-1"><a class="header-anchor" href="#ç”Ÿå‘½å‘¨æœŸé’©å­"><span>ç”Ÿå‘½å‘¨æœŸé’©å­</span></a></h2><h3 id="æ€»è§ˆ" tabindex="-1"><a class="header-anchor" href="#æ€»è§ˆ"><span>æ€»è§ˆ</span></a></h3><p>æ¯ä¸ª Vue ç»„ä»¶å®ä¾‹åœ¨åˆ›å»ºæ—¶éƒ½éœ€è¦ç»å†ä¸€ç³»åˆ—çš„åˆå§‹åŒ–æ­¥éª¤ï¼Œæ¯”å¦‚è®¾ç½®å¥½æ•°æ®ä¾¦å¬ï¼Œç¼–è¯‘æ¨¡æ¿ï¼ŒæŒ‚è½½å®ä¾‹åˆ° DOMï¼Œä»¥åŠåœ¨æ•°æ®æ”¹å˜æ—¶æ›´æ–° DOMã€‚åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œå®ƒä¹Ÿä¼šè¿è¡Œè¢«ç§°ä¸ºç”Ÿå‘½å‘¨æœŸé’©å­çš„å‡½æ•°ï¼Œè®©å¼€å‘è€…æœ‰æœºä¼šåœ¨ç‰¹å®šé˜¶æ®µè¿è¡Œè‡ªå·±çš„ä»£ç ã€‚<br> ç”Ÿå‘½å‘¨æœŸæ•´ä½“åˆ†ä¸ºå››ä¸ªé˜¶æ®µï¼š<strong>åˆ›å»º</strong>ã€<strong>æŒ‚è½½</strong>ã€<strong>æ›´æ–°</strong>ã€<strong>é”€æ¯</strong>ï¼Œæ¯ä¸ªé˜¶æ®µéƒ½æœ‰ä¸¤ä¸ªé’©å­ï¼Œä¸€å‰ä¸€å<br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/vue/202406171500739.png" alt="Vue2å¯¹æ¯”Vue3" title="Vue2å¯¹æ¯”Vue3" loading="lazy"><br><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/vue/202406171500734.png" alt="å®˜æ–¹å›¾" title="å®˜æ–¹å›¾" loading="lazy"></p><h3 id="vue2" tabindex="-1"><a class="header-anchor" href="#vue2"><span>vue2</span></a></h3><ul><li>åˆ›å»ºé˜¶æ®µï¼š<code>beforeCreate</code>ã€<code>created</code></li><li>æŒ‚è½½é˜¶æ®µï¼š<code>beforeMount</code>ã€<code>mounted</code></li><li>æ›´æ–°é˜¶æ®µï¼š<code>beforeUpdate</code>ã€<code>updated</code></li><li>é”€æ¯é˜¶æ®µï¼š<code>beforeDestory</code>ã€<code>destoryed</code></li></ul><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Hello, {{ message }}!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&#39;Vue 2&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Vue 2 - Before Create&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Vue 2 - Created&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Vue 2 - Before Mount&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Vue 2 - Mounted&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Vue 2 - Before Update&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">updated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Vue 2 - Updated&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Vue 2 - Before Destroy&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">destroyed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Vue 2 - Destroyed&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="vue3" tabindex="-1"><a class="header-anchor" href="#vue3"><span>vue3</span></a></h3><ul><li>åˆ›å»ºé˜¶æ®µï¼š<code>setup</code></li><li>æŒ‚è½½é˜¶æ®µï¼š<code>beforeMount</code>ã€<code>mounted</code></li><li>æ›´æ–°é˜¶æ®µï¼š<code>beforeUpdate</code>ã€<code>updated</code></li><li>å¸è½½é˜¶æ®µï¼š<code>onBeforeUnmount</code>ã€<code>onUnMounted</code></li></ul><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Hello, Vue 3!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// vue3 çš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°éœ€è¦æ‰‹åŠ¨å¼•å…¥</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> onBeforeMount<span class="token punctuation">,</span> onMounted<span class="token punctuation">,</span> onBeforeUpdate<span class="token punctuation">,</span> onUpdated<span class="token punctuation">,</span> onBeforeUnmount<span class="token punctuation">,</span> onUnmounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">onBeforeMount</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Vue 3 - Before Mount&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Vue 3 - Mounted&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">onBeforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Vue 3 - Before Update&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">onUpdated</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Vue 3 - Updated&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">onBeforeUnmount</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Vue 3 - Before Unmount&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">onUnmounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Vue 3 - Unmounted&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&#39;Vue 3&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å¤šæ¬¡æ‰§è¡Œ" tabindex="-1"><a class="header-anchor" href="#å¤šæ¬¡æ‰§è¡Œ"><span>å¤šæ¬¡æ‰§è¡Œ</span></a></h3><p>ç”Ÿå‘½å‘¨æœŸå‡½æ•°æ‰§è¡Œå¤šæ¬¡çš„æ—¶å€™ï¼Œä¼šæŒ‰ç…§é¡ºåºä¾æ¬¡æ‰§è¡Œ</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scirpt</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span>
import { onMounted } from &#39;vue&#39;
onMounted(()=&gt;{
  // è‡ªå®šä¹‰é€»è¾‘
})

onMounted(()=&gt;{
  // è‡ªå®šä¹‰é€»è¾‘
})
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è‡ªå®šä¹‰é’©å­å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#è‡ªå®šä¹‰é’©å­å‡½æ•°"><span>è‡ªå®šä¹‰é’©å­å‡½æ•°</span></a></h3><p>è‡ªå®šä¹‰é’©å­å‡½æ•°å¯ä»¥å¸®åŠ©ä½ å°è£…å¯å¤ç”¨çš„é€»è¾‘ï¼Œå¹¶ä½¿ç»„ä»¶æ›´å…·å¯ç»´æŠ¤æ€§å’Œå¯è¯»æ€§ã€‚</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> onUpdated<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>
<span class="token comment">// è‡ªå®šä¹‰é’©å­å‡½æ•°</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ•°æ®</span>
    <span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        sum<span class="token punctuation">.</span>value<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">onUpdated</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;sum.value&#39;</span> <span class="token operator">+</span> <span class="token string">&#39;å˜åŒ–äº†&#39;</span> <span class="token operator">+</span> sum<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// è¿”å›éœ€è¦åœ¨ç»„ä»¶ä¸­ä½¿ç”¨çš„å€¼å’Œæ–¹æ³•</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>sum<span class="token punctuation">,</span> add<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MySumHook<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// å…³äºsumçš„æ‰€æœ‰æ“ä½œå…¨éƒ¨å®šä¹‰useSum.tsä¸­ï¼Œè¿™é‡Œåªç®¡ä½¿ç”¨</span>
  <span class="token keyword">import</span> useSum <span class="token keyword">from</span> <span class="token string">&#39;@/components/hooks/useSum.ts&#39;</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> sum<span class="token punctuation">,</span> add <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useSum</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>Sum: {{ sum }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>add<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Add<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="è·¯ç”±" tabindex="-1"><a class="header-anchor" href="#è·¯ç”±"><span>è·¯ç”±</span></a></h2><h3 id="åŸºæœ¬åˆ‡æ¢æ•ˆæœ" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬åˆ‡æ¢æ•ˆæœ"><span>åŸºæœ¬åˆ‡æ¢æ•ˆæœ</span></a></h3><h4 id="router-link" tabindex="-1"><a class="header-anchor" href="#router-link"><span>router-link</span></a></h4><p>è¯·æ³¨æ„ï¼Œæˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨å¸¸è§„çš„ a æ ‡ç­¾ï¼Œè€Œæ˜¯ä½¿ç”¨ä¸€ä¸ªè‡ªå®šä¹‰ç»„ä»¶ <code>router-link</code> æ¥åˆ›å»ºé“¾æ¥ã€‚è¿™ä½¿å¾— Vue Router å¯ä»¥åœ¨<strong>ä¸é‡æ–°åŠ è½½é¡µé¢çš„æƒ…å†µä¸‹</strong>æ›´æ”¹ URLï¼Œå¤„ç† URL çš„ç”Ÿæˆä»¥åŠç¼–ç ã€‚æˆ‘ä»¬å°†åœ¨åé¢çœ‹åˆ°å¦‚ä½•ä»è¿™äº›åŠŸèƒ½ä¸­è·ç›Šã€‚</p><h4 id="router-view" tabindex="-1"><a class="header-anchor" href="#router-view"><span>router-view</span></a></h4><p><code>router-view</code> å°†æ˜¾ç¤ºä¸ URL å¯¹åº”çš„ç»„ä»¶ã€‚ä½ å¯ä»¥æŠŠå®ƒæ”¾åœ¨ä»»ä½•åœ°æ–¹ï¼Œä»¥é€‚åº”ä½ çš„å¸ƒå±€ã€‚</p><h4 id="æ¡ˆä¾‹ä»£ç " tabindex="-1"><a class="header-anchor" href="#æ¡ˆä¾‹ä»£ç "><span>æ¡ˆä¾‹ä»£ç </span></a></h4><ul><li>è·¯ç”±é…ç½®</li></ul><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createRouter<span class="token punctuation">,</span> createWebHashHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue-router&#39;</span>
<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">&#39;@/pages/Home.vue&#39;</span>
<span class="token keyword">import</span> News <span class="token keyword">from</span> <span class="token string">&#39;@/pages/News.vue&#39;</span>
<span class="token keyword">import</span> About <span class="token keyword">from</span> <span class="token string">&#39;@/pages/About.vue&#39;</span>

  <span class="token comment">// ä¹Ÿå¯ä»¥è¿™æ ·å£°æ˜æ¯”è¾ƒç®€å•çš„ç»„ä»¶</span>
  <span class="token comment">// const Home = { template: &#39;&lt;div&gt;Home&lt;/div&gt;&#39; }</span>
  <span class="token comment">// const About = { template: &#39;&lt;div&gt;About&lt;/div&gt;&#39; }</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  history<span class="token operator">:</span> <span class="token function">createWebHashHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// å®šä¹‰è·¯ç”±ï¼šæ¯ä¸ªè·¯ç”±éƒ½éœ€è¦æ˜ å°„åˆ°ä¸€ä¸ªç»„ä»¶</span>
  routes<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">&#39;/home&#39;</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> Home
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">&#39;/news&#39;</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> News
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">&#39;/about&#39;</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> About
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä¸‰ä¸ªè·¯ç”±ç»„ä»¶</li></ul><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- &lt;h1&gt;About&lt;/h1&gt; --&gt;</span>
  <span class="token comment">&lt;!-- &lt;h1&gt;News&lt;/h1&gt; --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä¸»ç»„ä»¶</li></ul><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- å¯¼èˆªåŒº --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navigate<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- ä½¿ç”¨ router-link ç»„ä»¶è¿›è¡Œå¯¼èˆª --&gt;</span>
      <span class="token comment">&lt;!-- é€šè¿‡ä¼ é€’ `to` æ¥æŒ‡å®šé“¾æ¥ --&gt;</span>
      <span class="token comment">&lt;!-- `&lt;router-link&gt;` å°†å‘ˆç°ä¸€ä¸ªå¸¦æœ‰æ­£ç¡® `href` å±æ€§çš„ `&lt;a&gt;` æ ‡ç­¾ --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RouterLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home<span class="token punctuation">&quot;</span></span> <span class="token attr-name">active-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>active<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>é¦–é¡µ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RouterLink</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RouterLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/news<span class="token punctuation">&quot;</span></span> <span class="token attr-name">active-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>active<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ–°é—»<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RouterLink</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RouterLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span> <span class="token attr-name">active-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>active<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å…³äº<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RouterLink</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- å±•ç¤ºåŒº --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>main-content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- è·¯ç”±å‡ºå£ --&gt;</span>
      <span class="token comment">&lt;!-- è·¯ç”±åŒ¹é…åˆ°çš„ç»„ä»¶å°†æ¸²æŸ“åœ¨è¿™é‡Œ --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RouterView</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RouterView</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">setup</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>App<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span>RouterLink<span class="token punctuation">,</span>RouterView<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue-router&#39;</span>  
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æŒ‚è½½é¡µ</li></ul><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">&#39;./router/index.ts&#39;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// å¯ç”¨è·¯ç”±</span>
app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä¸¤ä¸ªæ³¨æ„ç‚¹" tabindex="-1"><a class="header-anchor" href="#ä¸¤ä¸ªæ³¨æ„ç‚¹"><span>ä¸¤ä¸ªæ³¨æ„ç‚¹</span></a></h3><ol><li>è·¯ç”±ç»„ä»¶é€šå¸¸å­˜æ”¾åœ¨<code>pages</code> æˆ– <code>views</code>æ–‡ä»¶å¤¹ï¼Œä¸€èˆ¬ç»„ä»¶é€šå¸¸å­˜æ”¾åœ¨<code>components</code>æ–‡ä»¶å¤¹ã€‚</li><li>é€šè¿‡ç‚¹å‡»å¯¼èˆªï¼Œè§†è§‰æ•ˆæœä¸Šâ€œæ¶ˆå¤±â€ äº†çš„è·¯ç”±ç»„ä»¶ï¼Œé»˜è®¤æ˜¯è¢«<strong>å¸è½½</strong>æ‰çš„ï¼Œéœ€è¦çš„æ—¶å€™å†å»<strong>æŒ‚è½½</strong>ã€‚</li></ol><h3 id="è·¯ç”±å™¨å·¥ä½œæ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#è·¯ç”±å™¨å·¥ä½œæ¨¡å¼"><span>è·¯ç”±å™¨å·¥ä½œæ¨¡å¼</span></a></h3><ol><li><code>history</code>æ¨¡å¼</li></ol><p>ä¼˜ç‚¹ï¼š<code>URL</code>æ›´åŠ ç¾è§‚ï¼Œä¸å¸¦æœ‰<code>#</code>ï¼Œæ›´æ¥è¿‘ä¼ ç»Ÿçš„ç½‘ç«™<code>URL</code>ã€‚<br> ç¼ºç‚¹ï¼šåæœŸé¡¹ç›®ä¸Šçº¿ï¼Œéœ€è¦æœåŠ¡ç«¯é…åˆå¤„ç†è·¯å¾„é—®é¢˜ï¼Œå¦åˆ™åˆ·æ–°ä¼šæœ‰<code>404</code>é”™è¯¯ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createWebHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue-router&#39;</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">history</span><span class="token operator">:</span><span class="token function">createWebHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//historyæ¨¡å¼</span>
	<span class="token doc-comment comment">/******/</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><code>hash</code>æ¨¡å¼</li></ol><p>ä¼˜ç‚¹ï¼šå…¼å®¹æ€§æ›´å¥½ï¼Œå› ä¸ºä¸éœ€è¦æœåŠ¡å™¨ç«¯å¤„ç†è·¯å¾„ã€‚<br> ç¼ºç‚¹ï¼š<code>URL</code>å¸¦æœ‰<code>#</code>ä¸å¤ªç¾è§‚ï¼Œä¸”åœ¨<code>SEO</code>ä¼˜åŒ–æ–¹é¢ç›¸å¯¹è¾ƒå·®ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createWebHashHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue-router&#39;</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">history</span><span class="token operator">:</span><span class="token function">createWebHashHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//hashæ¨¡å¼</span>
	<span class="token doc-comment comment">/******/</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="toçš„å…¶å®ƒå†™æ³•" tabindex="-1"><a class="header-anchor" href="#toçš„å…¶å®ƒå†™æ³•"><span>toçš„å…¶å®ƒå†™æ³•</span></a></h3><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token comment">&lt;!-- ç¬¬ä¸€ç§ï¼štoçš„å­—ç¬¦ä¸²å†™æ³• --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">active-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>active<span class="token punctuation">&quot;</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ä¸»é¡µ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- ç¬¬äºŒç§ï¼štoçš„å¯¹è±¡å†™æ³• --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">active-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>active<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{path:&#39;/home&#39;}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- å¯¹è±¡å†™æ³•çš„nameå±æ€§ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RouterLink</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{name: &#39;detail2&#39;}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">active-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>active<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{news2}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RouterLink</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>pathéœ€è¦å†™å…¨è·¯å¾„ï¼›nameåªéœ€è¦å†™ç»„ä»¶åï¼ˆå³ä½¿å®ƒæ˜¯åµŒå¥—çš„ï¼‰</p><h3 id="è·¯ç”±å‘½åä¸è·³è½¬" tabindex="-1"><a class="header-anchor" href="#è·¯ç”±å‘½åä¸è·³è½¬"><span>è·¯ç”±å‘½åä¸è·³è½¬</span></a></h3><p>ä½œç”¨ï¼šå¯ä»¥ç®€åŒ–è·¯ç”±è·³è½¬åŠä¼ å‚</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code>routes<span class="token operator">:</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    name<span class="token operator">:</span><span class="token string">&#39;zhuye&#39;</span><span class="token punctuation">,</span>
    path<span class="token operator">:</span><span class="token string">&#39;/home&#39;</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span>Home
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    name<span class="token operator">:</span><span class="token string">&#39;xinwen&#39;</span><span class="token punctuation">,</span>
    path<span class="token operator">:</span><span class="token string">&#39;/news&#39;</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span>News<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    name<span class="token operator">:</span><span class="token string">&#39;guanyu&#39;</span><span class="token punctuation">,</span>
    path<span class="token operator">:</span><span class="token string">&#39;/about&#39;</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span>About
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token comment">&lt;!-- æœ€åŸºæœ¬å†™æ³• --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ä¸»é¡µ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--ç®€åŒ–å‰ï¼šéœ€è¦å†™å®Œæ•´çš„è·¯å¾„ï¼ˆtoçš„å­—ç¬¦ä¸²å†™æ³•ï¼‰ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/news/detail<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>è·³è½¬<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--ç®€åŒ–åï¼šç›´æ¥é€šè¿‡åå­—è·³è½¬ï¼ˆtoçš„å¯¹è±¡å†™æ³•é…åˆnameå±æ€§ï¼‰ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{name:&#39;guanyu&#39;}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>è·³è½¬<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="åµŒå¥—è·¯ç”±" tabindex="-1"><a class="header-anchor" href="#åµŒå¥—è·¯ç”±"><span>åµŒå¥—è·¯ç”±</span></a></h3><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>createRouter<span class="token punctuation">,</span> createWebHistory<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue-router&#39;</span>
<span class="token keyword">import</span> News <span class="token keyword">from</span> <span class="token string">&#39;@/pages/News.vue&#39;</span>
<span class="token keyword">import</span> Details <span class="token keyword">from</span> <span class="token string">&#39;@/pages/Details.vue&#39;</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    history<span class="token operator">:</span> <span class="token function">createWebHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    routes<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            name<span class="token operator">:</span> <span class="token string">&#39;news&#39;</span><span class="token punctuation">,</span>
            path<span class="token operator">:</span> <span class="token string">&#39;/news&#39;</span><span class="token punctuation">,</span>
            component<span class="token operator">:</span> News<span class="token punctuation">,</span>
            <span class="token comment">// åµŒå¥—çš„è·¯ç”±ä¿¡æ¯</span>
            children<span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    name<span class="token operator">:</span> <span class="token string">&#39;detail&#39;</span><span class="token punctuation">,</span>
                    <span class="token comment">// åµŒå¥—è·¯ç”±ä¸éœ€è¦å†™&#39;/&#39;</span>
                    path<span class="token operator">:</span> <span class="token string">&#39;detail&#39;</span><span class="token punctuation">,</span>
                    component<span class="token operator">:</span> Details
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è·¯ç”±ä¼ å‚" tabindex="-1"><a class="header-anchor" href="#è·¯ç”±ä¼ å‚"><span>è·¯ç”±ä¼ å‚</span></a></h3><h4 id="query" tabindex="-1"><a class="header-anchor" href="#query"><span>query</span></a></h4><ol><li>ä¼ é€’å‚æ•°</li></ol><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span>reactive<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> newsTitleList <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;æ–°é—»1&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">&#39;è¿™æ˜¯æ–°é—»1çš„å†…å®¹&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;æ–°é—»2&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">&#39;è¿™æ˜¯æ–°é—»2çš„å†…å®¹&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;æ–°é—»3&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">&#39;è¿™æ˜¯æ–°é—»3çš„å†…å®¹&#39;</span><span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RouterLink</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in newsTitleList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{
      path: `/news/detail`,
      name: &#39;detail&#39;,
      query: {
        id: item.id,
        title: item.title,
        content: item.content
      }
    }<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">&gt;</span></span>
    {{item.title}}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RouterLink</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RouterView</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RouterView</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>æ¥æ”¶å‚æ•°</li></ol><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// æ¥æ”¶å‚æ•°</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span>useRoute<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-router&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span>toRefs<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token function">useRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// const {query} = toRefs(route);	//è‹¥å†™äº†è¿™å¥è¯ï¼Œä¸‹é¢çš„route.å¯ä»¥ä¸å†™</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>ID: {{route.query.id}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>æ ‡é¢˜ï¼š{{route.query.title}} <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>å†…å®¹ï¼š{{route.query.content}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="params" tabindex="-1"><a class="header-anchor" href="#params"><span>params</span></a></h4><ul><li>ä¼ é€’<code>params</code>å‚æ•°æ—¶ï¼Œè‹¥ä½¿ç”¨<code>to</code>çš„å¯¹è±¡å†™æ³•ï¼Œå¿…é¡»ä½¿ç”¨<code>name</code>é…ç½®é¡¹ï¼Œä¸èƒ½ç”¨<code>path</code>ã€‚</li><li>ä¼ é€’<code>params</code>å‚æ•°æ—¶ï¼Œéœ€è¦æå‰åœ¨è§„åˆ™ä¸­å ä½ã€‚</li><li>ä¸èƒ½ä¼ é€’æ•°ç»„ç±»å‹ï¼Œå¦åˆ™ä¼šè­¦å‘Šï¼›è‹¥å¼ºè¡Œæ¥æ”¶æ•°æ®ä¼šå¼•èµ·é”™è¯¯ã€‚</li><li>è·¯å¾„è¯­æ³•ï¼š<code>/:id?</code> å†™äº†? è¡¨ç¤ºå¯é€‰å‚æ•°</li></ul><ol><li>ä¼ é€’å‚æ•°</li></ol><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>News<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RouterLink</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in newsTitleList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{
      path: `/news/detail`,
      name: &#39;detail&#39;,
      params: {
        id: item.id,
        title: item.title,
        content: item.content
      }
    }<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">&gt;</span></span>
    {{item.title}}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RouterLink</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RouterView</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RouterView</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>æ¥æ”¶å‚æ•°</li></ol><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span>useRoute<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-router&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span>toRefs<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// æ¥æ”¶å‚æ•°</span>
  <span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token function">useRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span>params<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>route<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>æ–°é—»å†…å®¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>ID: {{params.id}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>æ ‡é¢˜ï¼š{{params.title}} <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>å†…å®¹ï¼š{{params.content}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>è·¯å¾„åŒ¹é…</li></ol><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>createRouter<span class="token punctuation">,</span> createWebHistory<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue-router&#39;</span>
<span class="token keyword">import</span> News <span class="token keyword">from</span> <span class="token string">&#39;@/pages/News.vue&#39;</span>
<span class="token keyword">import</span> Details <span class="token keyword">from</span> <span class="token string">&#39;@/pages/Details.vue&#39;</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    history<span class="token operator">:</span> <span class="token function">createWebHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    routes<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            name<span class="token operator">:</span> <span class="token string">&#39;news&#39;</span><span class="token punctuation">,</span>
            path<span class="token operator">:</span> <span class="token string">&#39;/news&#39;</span><span class="token punctuation">,</span>
            component<span class="token operator">:</span> News<span class="token punctuation">,</span>
            children<span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    name<span class="token operator">:</span> <span class="token string">&#39;detail&#39;</span><span class="token punctuation">,</span>
                    <span class="token comment">// paramså¿…é¡»ä½¿ç”¨è·¯å¾„å ä½ç¬¦; ? è¡¨ç¤ºå¯é€‰å‚æ•°</span>
                    path<span class="token operator">:</span> <span class="token string">&#39;detail/:id/:title/:content?&#39;</span><span class="token punctuation">,</span>
                    component<span class="token operator">:</span> Details
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è·¯ç”±çš„propsé…ç½®" tabindex="-1"><a class="header-anchor" href="#è·¯ç”±çš„propsé…ç½®"><span>è·¯ç”±çš„propsé…ç½®</span></a></h3><p>ä½œç”¨ï¼šè®©è·¯ç”±ç»„ä»¶æ›´æ–¹ä¾¿çš„æ”¶åˆ°å‚æ•°ï¼ˆå¯ä»¥å°†è·¯ç”±å‚æ•°ä½œä¸º<code>props</code>ä¼ ç»™ç»„ä»¶ï¼‰</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token punctuation">{</span>
	name<span class="token operator">:</span><span class="token string">&#39;xiang&#39;</span><span class="token punctuation">,</span>
	path<span class="token operator">:</span><span class="token string">&#39;detail/:id/:title/:content&#39;</span><span class="token punctuation">,</span>
	component<span class="token operator">:</span>Detail<span class="token punctuation">,</span>

  <span class="token comment">// propsçš„å¯¹è±¡å†™æ³•ï¼Œä½œç”¨ï¼šæŠŠå¯¹è±¡ä¸­çš„æ¯ä¸€ç»„key-valueä½œä¸ºpropsä¼ ç»™Detailç»„ä»¶</span>
  <span class="token comment">// props:{a:1,b:2,c:3}, </span>

  <span class="token comment">// propsçš„å¸ƒå°”å€¼å†™æ³•ï¼Œä½œç”¨ï¼šæŠŠæ”¶åˆ°äº†æ¯ä¸€ç»„paramså‚æ•°ï¼Œä½œä¸ºpropsä¼ ç»™Detailç»„ä»¶</span>
  <span class="token comment">// props:true</span>
  
  <span class="token comment">// propsçš„å‡½æ•°å†™æ³•ï¼Œä½œç”¨ï¼šæŠŠè¿”å›çš„å¯¹è±¡ä¸­æ¯ä¸€ç»„key-valueä½œä¸ºpropsä¼ ç»™Detailç»„ä»¶</span>
  <span class="token function">props</span><span class="token punctuation">(</span>route<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> route<span class="token punctuation">.</span>query
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å‡½æ•°å†™æ³•" tabindex="-1"><a class="header-anchor" href="#å‡½æ•°å†™æ³•"><span>å‡½æ•°å†™æ³•</span></a></h4><p>ä½œç”¨ï¼šæŠŠè¿”å›çš„å¯¹è±¡ä¸­æ¯ä¸€ç»„key-valueä½œä¸ºpropsä¼ ç»™Detailç»„ä»¶</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&#39;detail&#39;</span><span class="token punctuation">,</span>
    <span class="token comment">// åµŒå¥—è·¯ç”±ä¸éœ€è¦å†™&#39;/&#39;</span>
    path<span class="token operator">:</span> <span class="token string">&#39;detail&#39;</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> Details<span class="token punctuation">,</span>
    <span class="token function">props</span><span class="token punctuation">(</span>route<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> route<span class="token punctuation">.</span>query<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RouterLink</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in newsTitleList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{
    path: `/news/detail`,
    name: &#39;detail&#39;,
    query: {
      id: item.id,
      title: item.title,
      content: item.content
    }
  }<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;id&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;title&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;content&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>æ–°é—»å†…å®¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>ID: {{id}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>æ ‡é¢˜ï¼š{{title}} <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>å†…å®¹ï¼š{{content}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å¸ƒå°”å€¼å†™æ³•" tabindex="-1"><a class="header-anchor" href="#å¸ƒå°”å€¼å†™æ³•"><span>å¸ƒå°”å€¼å†™æ³•</span></a></h4><p>ä½œç”¨ï¼šæŠŠæ”¶åˆ°äº†æ¯ä¸€ç»„paramså‚æ•°ï¼Œä½œä¸ºpropsä¼ ç»™Detailç»„ä»¶</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&#39;detail&#39;</span><span class="token punctuation">,</span>
  path<span class="token operator">:</span> <span class="token string">&#39;detail/:id/:title/:content&#39;</span><span class="token punctuation">,</span>
  component<span class="token operator">:</span> Details<span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RouterLink</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in newsTitleList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{
    path: `/news/detail`,
    name: &#39;detail&#39;,
    params: {
      id: item.id,
      title: item.title,
      content: item.content
    }
  }<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;id&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;title&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;content&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>æ–°é—»å†…å®¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>ID: {{id}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>æ ‡é¢˜ï¼š{{title}} <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>å†…å®¹ï¼š{{content}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å¯¹è±¡å†™æ³•" tabindex="-1"><a class="header-anchor" href="#å¯¹è±¡å†™æ³•"><span>å¯¹è±¡å†™æ³•</span></a></h4><p>ä½œç”¨ï¼šæŠŠå¯¹è±¡ä¸­çš„æ¯ä¸€ç»„key-valueä½œä¸ºpropsä¼ ç»™Detailç»„ä»¶<br> ä¸€èˆ¬ç»„ä»¶èƒ½ç›´æ¥åœ¨æ ‡ç­¾ä¸ŠåŠ å±æ€§(<!---->)ï¼Œä½†è·¯ç”±ç»„ä»¶æ²¡æœ‰ç›´æ¥è¿™æ ·å†™çš„æœºä¼šï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹æƒ³ç›´æ¥ä¼ æ­»çš„æ•°æ®ç»™è·¯ç”±ç»„ä»¶å¯ä»¥ç”¨åˆ°ã€‚</p><h3 id="replaceå±æ€§" tabindex="-1"><a class="header-anchor" href="#replaceå±æ€§"><span>replaceå±æ€§</span></a></h3><ol><li>ä½œç”¨ï¼šæ§åˆ¶è·¯ç”±è·³è½¬æ—¶æ“ä½œæµè§ˆå™¨å†å²è®°å½•çš„æ¨¡å¼ã€‚</li><li>æµè§ˆå™¨çš„å†å²è®°å½•æœ‰ä¸¤ç§å†™å…¥æ–¹å¼ï¼šåˆ†åˆ«ä¸º<code>push</code>å’Œ<code>replace</code>ï¼š</li></ol><ul><li><code>push</code>æ˜¯è¿½åŠ å†å²è®°å½•ï¼ˆé»˜è®¤å€¼ï¼‰ã€‚</li><li><code>replace</code>æ˜¯æ›¿æ¢å½“å‰è®°å½•ã€‚</li></ul><ol start="3"><li>å¼€å¯<code>replace</code>æ¨¡å¼ï¼š</li></ol><ul><li><code>&lt;RouterLink repalce .......&gt;News&lt;/RouterLink&gt;</code></li></ul><h3 id="ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª" tabindex="-1"><a class="header-anchor" href="#ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª"><span>ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª</span></a></h3><p><code>&lt;RouterLink&gt;</code>æ˜¯æ ‡ç­¾ï¼Œåªèƒ½åœ¨<code>&lt;template&gt;</code>ä¸­ä½¿ç”¨ã€‚ç°åœ¨è¦åœ¨<code>&lt;script&gt;</code>ä¸­å®ç°è·¯ç”±è·³è½¬ï¼Œå°±è¦ç”¨åˆ°ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆªã€‚</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span>reactive<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// import router from &quot;@/router&quot;; // åœ¨ Vue ç»„ä»¶ä¸­å¯¼å…¥ Vue Router å®ä¾‹ï¼Œç”¨äºåœ¨ç»„ä»¶ä¸­è¿›è¡Œè·¯ç”±å¯¼èˆªç­‰æ“ä½œã€‚</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span>useRouter<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-router&quot;</span><span class="token punctuation">;</span> <span class="token comment">// åœ¨ Vue 3 çš„ Composition API ä¸­ä½¿ç”¨ï¼Œç”¨äºåœ¨ setup å‡½æ•°ä¸­è·å–å½“å‰çš„è·¯ç”±å®ä¾‹ã€‚</span>

  <span class="token keyword">const</span> newsTitleList <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;æ–°é—»1&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">&#39;è¿™æ˜¯æ–°é—»1çš„å†…å®¹&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;æ–°é—»2&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">&#39;è¿™æ˜¯æ–°é—»2çš„å†…å®¹&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;æ–°é—»3&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">&#39;è¿™æ˜¯æ–°é—»3çš„å†…å®¹&#39;</span><span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span>

  <span class="token keyword">interface</span> <span class="token class-name">News</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
    <span class="token literal-property property">content</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">viewDetails</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">news</span><span class="token operator">:</span> News</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆªï¼Œæ‹¿åˆ°è·¯ç”±å™¨å¯¹è±¡æ“ä½œè·¯ç”±</span>
    <span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>				<span class="token comment">// push()ä¸­çš„å†…å®¹ä¸ :to å¯¹è±¡å†™æ³•å®Œå…¨ä¸€è‡´</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;detail&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span> news<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
        <span class="token literal-property property">title</span><span class="token operator">:</span> news<span class="token punctuation">.</span>title<span class="token punctuation">,</span>
        <span class="token literal-property property">content</span><span class="token operator">:</span> news<span class="token punctuation">.</span>content
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RouterLink</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in newsTitleList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{
      path: `/news/detail`,
      name: &#39;detail&#39;,
      query: {
        id: item.id,
        title: item.title,
        content: item.content
      }
    }<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewDetails(item)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æŸ¥çœ‹æ–°é—»<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    {{item.title}}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RouterLink</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RouterView</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RouterView</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="é‡å®šå‘" tabindex="-1"><a class="header-anchor" href="#é‡å®šå‘"><span>é‡å®šå‘</span></a></h3><ol><li>ä½œç”¨ï¼šå°†ç‰¹å®šçš„è·¯å¾„ï¼Œé‡æ–°å®šå‘åˆ°å·²æœ‰è·¯ç”±ã€‚</li><li>å…·ä½“ç¼–ç ï¼š</li></ol><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token punctuation">{</span>
  path<span class="token operator">:</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span>
  redirect<span class="token operator">:</span><span class="token string">&#39;/about&#39;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç»„ä»¶é€šä¿¡" tabindex="-1"><a class="header-anchor" href="#ç»„ä»¶é€šä¿¡"><span>ç»„ä»¶é€šä¿¡</span></a></h2><figure><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/vue/202406171501692.png" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><h3 id="props-1" tabindex="-1"><a class="header-anchor" href="#props-1"><span>props</span></a></h3><p>æ¦‚è¿°ï¼š<code>props</code>æ˜¯ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„ä¸€ç§é€šä¿¡æ–¹å¼ï¼Œå¸¸ç”¨äº ï¼š<strong>çˆ¶ â†” å­</strong>ã€‚</p><ul><li>è‹¥ <strong>çˆ¶ä¼ å­</strong>ï¼šå±æ€§å€¼æ˜¯<strong>éå‡½æ•°</strong>ã€‚</li><li>è‹¥ <strong>å­ä¼ çˆ¶</strong>ï¼šå±æ€§å€¼æ˜¯<strong>å‡½æ•°</strong>ã€‚</li></ul><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>father<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>çˆ¶ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>æ±½è½¦ï¼š{{ car }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å­ç»™çš„ç©å…·ï¼š{{ toy }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- ç»™å­ç»„ä»¶ä¼ é€’caræ•°æ®ã€getToyæ–¹æ³•ï¼›ç„¶åå­ç»„ä»¶é€šè¿‡definePropsæ¥æ”¶caræ•°æ®ä½¿ç”¨ã€sendToyæ–¹æ³•ä¼ æ•°æ®ç»™çˆ¶ç»„ä»¶ --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span> <span class="token attr-name">:car</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>car<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:sendToy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getToy<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Father<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">import</span> Child <span class="token keyword">from</span> <span class="token string">&#39;./Child.vue&#39;</span>
	<span class="token keyword">import</span> <span class="token punctuation">{</span>ref<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
	<span class="token comment">// æ•°æ®</span>
	<span class="token keyword">let</span> car <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;å¥”é©°&#39;</span><span class="token punctuation">)</span>
	<span class="token keyword">let</span> toy <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
	<span class="token comment">// æ–¹æ³•</span>
	<span class="token keyword">function</span> <span class="token function">getToy</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">value</span><span class="token operator">:</span>string</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		toy<span class="token punctuation">.</span>value <span class="token operator">=</span> value
	<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>å­ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>ç©å…·ï¼š{{ toy }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>çˆ¶ç»™çš„è½¦ï¼š{{ car }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sendToy(toy)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æŠŠç©å…·ç»™çˆ¶äº²<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Child<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">import</span> <span class="token punctuation">{</span>ref<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
	<span class="token comment">// æ•°æ®</span>
	<span class="token keyword">let</span> toy <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;å¥¥ç‰¹æ›¼&#39;</span><span class="token punctuation">)</span>
	<span class="token comment">// å£°æ˜æ¥æ”¶props</span>
	<span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;car&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;sendToy&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è‡ªå®šä¹‰äº‹ä»¶emit" tabindex="-1"><a class="header-anchor" href="#è‡ªå®šä¹‰äº‹ä»¶emit"><span>è‡ªå®šä¹‰äº‹ä»¶emit</span></a></h3><ol><li>æ¦‚è¿°ï¼šè‡ªå®šä¹‰äº‹ä»¶å¸¸ç”¨äºï¼š<strong>å­ =&gt; çˆ¶ã€‚</strong></li><li>æ³¨æ„åŒºåˆ†å¥½ï¼šåŸç”Ÿäº‹ä»¶ã€è‡ªå®šä¹‰äº‹ä»¶ã€‚</li></ol><ul><li>åŸç”Ÿäº‹ä»¶ï¼š <ul><li>äº‹ä»¶åæ˜¯ç‰¹å®šçš„ï¼ˆ<code>click</code>ã€<code>mosueenter</code>ç­‰ç­‰ï¼‰</li><li>äº‹ä»¶å¯¹è±¡<code>$event</code>: æ˜¯åŒ…å«äº‹ä»¶ç›¸å…³ä¿¡æ¯çš„å¯¹è±¡ï¼ˆ<code>pageX</code>ã€<code>pageY</code>ã€<code>target</code>ã€<code>keyCode</code>ï¼‰</li></ul></li><li>è‡ªå®šä¹‰äº‹ä»¶ï¼š <ul><li>äº‹ä»¶åæ˜¯ä»»æ„åç§°</li><li><strong>äº‹ä»¶å¯¹è±¡</strong><code>**$event**</code><strong>: æ˜¯è°ƒç”¨</strong><code>**emit**</code><strong>æ—¶æ‰€æä¾›çš„æ•°æ®ï¼Œå¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼ï¼ï¼</strong></li></ul></li></ul><ol start="3"><li>è¯­æ³•ï¼š</li></ol><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token comment">&lt;!--åœ¨çˆ¶ç»„ä»¶ä¸­ï¼Œç»™å­ç»„ä»¶ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ï¼š--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span> <span class="token attr-name">@send-toy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toy = $event<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!--æ³¨æ„åŒºåˆ†åŸç”Ÿäº‹ä»¶ä¸è‡ªå®šä¹‰äº‹ä»¶ä¸­çš„$event--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toy = $event<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æµ‹è¯•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">//å­ç»„ä»¶ä¸­ï¼Œè§¦å‘äº‹ä»¶ï¼š</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&#39;send-toy&#39;</span><span class="token punctuation">,</span> å…·ä½“æ•°æ®<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>æ¡ˆä¾‹</li></ol><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>father<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>çˆ¶ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å­ç»™çš„ç©å…·ï¼š{{ toy }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
		<span class="token comment">&lt;!-- ç»™å­ç»„ä»¶Childç»‘å®šäº‹ä»¶ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span> <span class="token attr-name">@send-toy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>saveToy<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Father<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> Child <span class="token keyword">from</span> <span class="token string">&#39;./Child.vue&#39;</span>
	<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
	<span class="token comment">// æ•°æ®</span>
	<span class="token keyword">let</span> toy <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
	<span class="token comment">// ç”¨äºä¿å­˜ä¼ é€’è¿‡æ¥çš„ç©å…·</span>
	<span class="token keyword">function</span> <span class="token function">saveToy</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">value</span><span class="token operator">:</span>string</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;saveToy&#39;</span><span class="token punctuation">,</span>value<span class="token punctuation">)</span>
		toy<span class="token punctuation">.</span>value <span class="token operator">=</span> value
	<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>å­ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>ç©å…·ï¼š{{ toy }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emit(&#39;send-toy&#39;,toy)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æµ‹è¯•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Child<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
	<span class="token comment">// æ•°æ®</span>
	<span class="token keyword">let</span> toy <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;å¥¥ç‰¹æ›¼&#39;</span><span class="token punctuation">)</span>
	<span class="token comment">// å£°æ˜äº‹ä»¶</span>
	<span class="token keyword">const</span> emit <span class="token operator">=</span>  <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;send-toy&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mitt" tabindex="-1"><a class="header-anchor" href="#mitt"><span>mitt</span></a></h3><p>mitt æ˜¯ä¸€ä¸ªå°å·§ï¼ˆ200bï¼‰ä¸”çµæ´»çš„ JavaScript äº‹ä»¶æ€»çº¿åº“ï¼Œç”¨äºåœ¨åº”ç”¨ç¨‹åºä¸­å®ç°äº‹ä»¶çš„å‘å¸ƒå’Œè®¢é˜…ã€‚å®ƒå¯ä»¥ç”¨äºè·¨ç»„ä»¶è¿›è¡Œäº‹ä»¶é€šä¿¡ã€‚</p><ol><li>å®‰è£…<code>mitt</code></li></ol><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> i mitt 		<span class="token comment">## npm i = npm install</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>æ–°å»ºæ–‡ä»¶ï¼š<code>src\utils\emitter.ts</code></li></ol><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// å¼•å…¥mitt </span>
<span class="token keyword">import</span> mitt <span class="token keyword">from</span> <span class="token string">&quot;mitt&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// åˆ›å»ºemitter</span>
<span class="token keyword">const</span> emitter <span class="token operator">=</span> <span class="token function">mitt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/*
  // ç»‘å®šäº‹ä»¶
  emitter.on(&#39;abc&#39;,(value)=&gt;{
    console.log(&#39;abcäº‹ä»¶è¢«è§¦å‘&#39;,value)
  })
  emitter.on(&#39;xyz&#39;,(value)=&gt;{
    console.log(&#39;xyzäº‹ä»¶è¢«è§¦å‘&#39;,value)
  })

  setInterval(() =&gt; {
    // è§¦å‘äº‹ä»¶
    emitter.emit(&#39;abc&#39;,666)
    emitter.emit(&#39;xyz&#39;,777)
  }, 1000);

  setTimeout(() =&gt; {
    // æ¸…ç†å…¨éƒ¨äº‹ä»¶
    emitter.all.clear()
  }, 3000); 
*/</span>

<span class="token comment">// åˆ›å»ºå¹¶æš´éœ²mitt</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> emitter
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>æ¥æ”¶æ•°æ®çš„ç»„ä»¶ä¸­ï¼šç»‘å®šäº‹ä»¶ã€åŒæ—¶åœ¨é”€æ¯å‰è§£ç»‘äº‹ä»¶</li></ol><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> emitter <span class="token keyword">from</span> <span class="token string">&quot;@/utils/emitter&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> onUnmounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// ç»‘å®šäº‹ä»¶</span>
emitter<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;send-toy&#39;</span><span class="token punctuation">,</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;send-toyäº‹ä»¶è¢«è§¦å‘&#39;</span><span class="token punctuation">,</span>value<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token function">onUnmounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token comment">// ç»„ä»¶é”€æ¯æ—¶è§£ç»‘äº‹ä»¶ï¼Œé˜²æ­¢å†…å­˜æ³„éœ²</span>
  emitter<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">&#39;send-toy&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>æä¾›æ•°æ®çš„ç»„ä»¶ï¼Œåœ¨åˆé€‚çš„æ—¶å€™è§¦å‘äº‹ä»¶</li></ol><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span> emitter <span class="token keyword">from</span> <span class="token string">&quot;@/utils/emitter&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">sendToy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// è§¦å‘äº‹ä»¶</span>
  emitter<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;send-toy&#39;</span><span class="token punctuation">,</span>toy<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ³¨æ„è¿™ä¸ªé‡è¦çš„å†…ç½®å…³ç³»ï¼Œæ€»çº¿ä¾èµ–ç€è¿™ä¸ªå†…ç½®å…³ç³»ã€‚</strong></p><h3 id="v-model-1" tabindex="-1"><a class="header-anchor" href="#v-model-1"><span>v-model</span></a></h3><ol><li>æ¦‚è¿°ï¼šå®ç° çˆ¶â†”å­ ä¹‹é—´ç›¸äº’é€šä¿¡ã€‚</li><li>å‰åºçŸ¥è¯† â€”â€” <code>v-model</code>çš„æœ¬è´¨</li></ol><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token comment">&lt;!-- ä½¿ç”¨v-modelæŒ‡ä»¤ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- v-modelçš„æœ¬è´¨æ˜¯ä¸‹é¢è¿™è¡Œä»£ç  --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> 
  <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> 
  <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userName<span class="token punctuation">&quot;</span></span> 
  <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userName =(&lt;HTMLInputElement&gt;$event.target).value<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>ç»„ä»¶æ ‡ç­¾ä¸Šçš„<code>v-model</code>çš„æœ¬è´¨ï¼š<code>:moldeValue</code> ï¼‹ <code>update:modelValue</code>äº‹ä»¶ã€‚</li></ol><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token comment">&lt;!-- ç»„ä»¶æ ‡ç­¾ä¸Šä½¿ç”¨v-modelæŒ‡ä»¤ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AtguiguInput</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userName<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- ç»„ä»¶æ ‡ç­¾ä¸Šv-modelçš„æœ¬è´¨ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AtguiguInput</span> <span class="token attr-name">:modelValue</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userName<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">@update:</span>model-value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userName = $event<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--å°†æ¥æ”¶çš„valueå€¼èµ‹ç»™inputå…ƒç´ çš„valueå±æ€§ï¼Œç›®çš„æ˜¯ï¼šä¸ºäº†å‘ˆç°æ•°æ® --&gt;</span>
		<span class="token comment">&lt;!--ç»™inputå…ƒç´ ç»‘å®šåŸç”Ÿinputäº‹ä»¶ï¼Œè§¦å‘inputäº‹ä»¶æ—¶ï¼Œè¿›è€Œè§¦å‘update:model-valueäº‹ä»¶--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> 
       <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> 
       <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>modelValue<span class="token punctuation">&quot;</span></span> 
       <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emit(&#39;update:model-value&#39;,$event.target.value)<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>AtguiguInput<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// æ¥æ”¶props</span>
  <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;modelValue&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token comment">// å£°æ˜äº‹ä»¶</span>
  <span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;update:model-value&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>ä¹Ÿå¯ä»¥æ›´æ¢<code>value</code>ï¼Œä¾‹å¦‚æ”¹æˆ<code>abc</code></li></ol><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> 
       <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> 
       <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>abc<span class="token punctuation">&quot;</span></span> 
       <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emit(&#39;update:abc&#39;,$event.target.value)<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>AtguiguInput<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// æ¥æ”¶props</span>
  <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;abc&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token comment">// å£°æ˜äº‹ä»¶</span>
  <span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;update:abc&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li>å¦‚æœ<code>value</code>å¯ä»¥æ›´æ¢ï¼Œé‚£ä¹ˆä¹Ÿå°±å¯ä»¥åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šå¤šæ¬¡ä½¿ç”¨<code>v-model</code></li></ol><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AtguiguInput</span> <span class="token attr-name"><span class="token namespace">v-model:</span>abc</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userName<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">v-model:</span>xyz</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Son</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>inputValue<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Son <span class="token keyword">from</span> <span class="token string">&#39;@/components/Son.vue&#39;</span><span class="token punctuation">;</span> 

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        Son
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// å®šä¹‰ä¸€ä¸ªå“åº”å¼å¼•ç”¨ï¼Œç”¨äº v-model</span>
        <span class="token keyword">const</span> inputValue <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;7878&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            inputValue
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>modelValue<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>updateValue<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> toRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// æ¥æ”¶å¤–éƒ¨ v-model çš„å€¼</span>
        <span class="token literal-property property">modelValue</span><span class="token operator">:</span> String
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> emit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ä½¿ç”¨ toRefs åˆ›å»ºå“åº”å¼å¼•ç”¨</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> modelValue <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">const</span> <span class="token function-variable function">updateValue</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// å½“è¾“å…¥æ”¹å˜æ—¶ï¼Œå‘å°„ä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶æ¥æ›´æ–°çˆ¶ç»„ä»¶çš„ v-model ç»‘å®šçš„å€¼</span>
            <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;update:modelValue&#39;</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            modelValue<span class="token punctuation">,</span>
            updateValue
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="attrs" tabindex="-1"><a class="header-anchor" href="#attrs"><span>$attrs</span></a></h3><ol><li>æ¦‚è¿°ï¼š<code>$attrs</code>ç”¨äºå®ç°<strong>å½“å‰ç»„ä»¶çš„çˆ¶ç»„ä»¶</strong>ï¼Œå‘<strong>å½“å‰ç»„ä»¶çš„å­ç»„ä»¶</strong>é€šä¿¡ï¼ˆ<strong>ç¥–â†’å­™</strong>ï¼‰ã€‚</li><li>å…·ä½“è¯´æ˜ï¼š<code>$attrs</code>æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«æ‰€æœ‰çˆ¶ç»„ä»¶ä¼ å…¥çš„æ ‡ç­¾å±æ€§ã€‚</li></ol><p><code>$attrs</code> ç”¨äºåœ¨ç»„ä»¶ä¸­è®¿é—®çˆ¶ç»„ä»¶ä¼ é€’çš„é <code>props</code> å±æ€§ã€‚å®ƒæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«äº†çˆ¶ç»„ä»¶ä¼ é€’ç»™å½“å‰ç»„ä»¶ä½†æ²¡æœ‰è¢«å£°æ˜ä¸º <code>props</code> çš„æ‰€æœ‰å±æ€§ã€‚<br> å½“ä¸€ä¸ªçˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’å±æ€§æ—¶ï¼Œåªæœ‰åœ¨å­ç»„ä»¶ä¸­ä½¿ç”¨<code>defineProps()</code>å£°æ˜ä¸º <code>props</code>çš„å±æ€§æ‰ä¼šè¢«æ¥æ”¶å’Œä½¿ç”¨ã€‚ä½†æœ‰æ—¶ï¼Œçˆ¶ç»„ä»¶å¯èƒ½ä¼šä¼ é€’ä¸€äº›é¢å¤–çš„å±æ€§ï¼Œè¿™äº›å±æ€§åœ¨å­ç»„ä»¶ä¸­å¹¶æ²¡æœ‰å£°æ˜ä¸º <code>props</code>ï¼Œä½†ä½ ä»ç„¶å¸Œæœ›èƒ½å¤Ÿè®¿é—®å®ƒä»¬ã€‚<br> è¿™æ—¶å°±å¯ä»¥ä½¿ç”¨ <code>$attrs</code> æ¥è·å–è¿™äº›é¢å¤–çš„å±æ€§ã€‚<code>$attrs</code> æ˜¯ä¸€ä¸ªåŒ…å«äº†çˆ¶ç»„ä»¶ä¼ é€’çš„é <code>props</code> å±æ€§çš„å¯¹è±¡ã€‚é€šè¿‡è®¿é—® <code>$attrs</code>å¯ä»¥è·å–åˆ°è¿™äº›å±æ€§çš„å€¼ã€‚</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>father<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>çˆ¶ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span> <span class="token attr-name">:a</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>a<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:b</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>b<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:c</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:d</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>d<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{x:100,y:200}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:updateA</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>updateA<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Father<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">import</span> Child <span class="token keyword">from</span> <span class="token string">&#39;./Child.vue&#39;</span>
	<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
	<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
	<span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
	<span class="token keyword">let</span> d <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>

  <span class="token comment">// å®ç°å­™ä¼ çˆ¶ï¼šçˆ¶ä¼ æ–¹æ³•ç»™å­ï¼Œå­å†ç»™å­™ï¼Œå­™é€šè¿‡è¯¥é€šè¿‡ä¿®æ”¹çˆ¶å±æ€§çš„å€¼</span>
	<span class="token keyword">function</span> <span class="token function">updateA</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		a<span class="token punctuation">.</span>value <span class="token operator">=</span> value
	<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>å­ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GrandChild</span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$attrs<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Child<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">import</span> GrandChild <span class="token keyword">from</span> <span class="token string">&#39;./GrandChild.vue&#39;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>grand-child<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>å­™ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>aï¼š{{ a }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>bï¼š{{ b }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>cï¼š{{ c }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>dï¼š{{ d }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>xï¼š{{ x }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>yï¼š{{ y }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>updateA(666)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç‚¹æˆ‘æ›´æ–°çˆ¶çš„A<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>GrandChild<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;b&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;c&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;d&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;x&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;y&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;updateA&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="refs-parent" tabindex="-1"><a class="header-anchor" href="#refs-parent"><span>$refs $parent</span></a></h3><ol><li>æ¦‚è¿°ï¼š</li></ol><ul><li><code>$refs</code>ç”¨äº ï¼š<strong>çˆ¶â†’å­ã€‚</strong></li><li><code>$parent</code>ç”¨äºï¼š<strong>å­â†’çˆ¶ã€‚</strong></li></ul><ol start="2"><li><p>åŸç†å¦‚ä¸‹ï¼š<br> | å±æ€§ | è¯´æ˜ |<br> | --- | --- |<br> | <code>$refs</code> | å€¼ä¸ºå¯¹è±¡ï¼ŒåŒ…å«æ‰€æœ‰è¢«<code>ref</code><br> å±æ€§æ ‡è¯†çš„<code>DOM</code><br> å…ƒç´ æˆ–ç»„ä»¶å®ä¾‹ã€‚ |<br> | <code>$parent</code> | å€¼ä¸ºå¯¹è±¡ï¼Œå½“å‰ç»„ä»¶çš„çˆ¶ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚ |</p></li><li><p>æ¡ˆä¾‹</p></li></ol><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>father<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>çˆ¶ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>æˆ¿äº§ï¼š{{ house }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeToy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹Child1çš„ç©å…·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeComputer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹Child2çš„ç”µè„‘<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getAllChild($refs)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>è®©æ‰€æœ‰å­©å­çš„ä¹¦å˜å¤š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child1</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child2</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c2<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Father<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">import</span> Child1 <span class="token keyword">from</span> <span class="token string">&#39;./Child1.vue&#39;</span>
	<span class="token keyword">import</span> Child2 <span class="token keyword">from</span> <span class="token string">&#39;./Child2.vue&#39;</span>
	<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
	<span class="token keyword">let</span> c1 <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">let</span> c2 <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	
	<span class="token comment">// æ•°æ®</span>
	<span class="token keyword">let</span> house <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
	<span class="token comment">// æ–¹æ³•</span>
	<span class="token keyword">function</span> <span class="token function">changeToy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		c1<span class="token punctuation">.</span>value<span class="token punctuation">.</span>toy <span class="token operator">=</span> <span class="token string">&#39;å°çŒªä½©å¥‡&#39;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">function</span> <span class="token function">changeComputer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		c2<span class="token punctuation">.</span>value<span class="token punctuation">.</span>computer <span class="token operator">=</span> <span class="token string">&#39;åä¸º&#39;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">function</span> <span class="token function">getAllChild</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">refs</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">[</span>key<span class="token operator">:</span>string<span class="token punctuation">]</span><span class="token operator">:</span>any<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 2ä¸ªå­©å­çš„ ä¹¦ å±æ€§åŒæ—¶+3</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> refs<span class="token punctuation">)</span><span class="token punctuation">{</span>
			refs<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span>book <span class="token operator">+=</span> <span class="token number">3</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// å‘å¤–éƒ¨æä¾›æ•°æ®</span>
	<span class="token function">defineExpose</span><span class="token punctuation">(</span><span class="token punctuation">{</span>house<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>å­ç»„ä»¶1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>ç©å…·ï¼š{{ toy }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>ä¹¦ç±ï¼š{{ book }} æœ¬<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>minusHouse($parent)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å¹²æ‰çˆ¶äº²çš„ä¸€å¥—æˆ¿äº§<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Child1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
	<span class="token comment">// æ•°æ®</span>
	<span class="token keyword">let</span> toy <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;å¥¥ç‰¹æ›¼&#39;</span><span class="token punctuation">)</span>
	<span class="token keyword">let</span> book <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

	<span class="token comment">// æ–¹æ³•</span>
	<span class="token keyword">function</span> <span class="token function">minusHouse</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">parent</span><span class="token operator">:</span>any</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		parent<span class="token punctuation">.</span>house <span class="token operator">-=</span> <span class="token number">1</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// æŠŠæ•°æ®äº¤ç»™å¤–éƒ¨</span>
	<span class="token function">defineExpose</span><span class="token punctuation">(</span><span class="token punctuation">{</span>toy<span class="token punctuation">,</span>book<span class="token punctuation">}</span><span class="token punctuation">)</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>å­ç»„ä»¶2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>ç”µè„‘ï¼š{{ computer }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>ä¹¦ç±ï¼š{{ book }} æœ¬<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Child2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
		<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
		<span class="token comment">// æ•°æ®</span>
		<span class="token keyword">let</span> computer <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;è”æƒ³&#39;</span><span class="token punctuation">)</span>
		<span class="token keyword">let</span> book <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
		<span class="token comment">// æŠŠæ•°æ®äº¤ç»™å¤–éƒ¨</span>
		<span class="token function">defineExpose</span><span class="token punctuation">(</span><span class="token punctuation">{</span>computer<span class="token punctuation">,</span>book<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="provideã€inject" tabindex="-1"><a class="header-anchor" href="#provideã€inject"><span>provideã€inject</span></a></h3><h4 id="provide" tabindex="-1"><a class="header-anchor" href="#provide"><span>provide</span></a></h4><p>æä¾›ä¸€ä¸ªå€¼ï¼Œå¯ä»¥è¢«åä»£ç»„ä»¶æ³¨å…¥ã€‚</p><ul><li><strong>ç±»å‹</strong></li></ul><p><code>function provide&lt;T&gt;(key: InjectionKey&lt;T&gt; | string, value: T): void</code></p><ul><li><strong>è¯¦ç»†ä¿¡æ¯</strong></li></ul><p><code>provide()</code> æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦æ³¨å…¥çš„ keyï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…ä¸€ä¸ª symbolï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯è¦æ³¨å…¥çš„å€¼ã€‚<br> å½“ä½¿ç”¨ TypeScript æ—¶ï¼Œkey å¯ä»¥æ˜¯ä¸€ä¸ªè¢«ç±»å‹æ–­è¨€ä¸º <code>InjectionKey</code>çš„ symbolã€‚<code>InjectionKey</code>æ˜¯ä¸€ä¸ª Vue æä¾›çš„å·¥å…·ç±»å‹ï¼Œç»§æ‰¿è‡ª <code>Symbol</code>ï¼Œå¯ä»¥ç”¨æ¥åŒæ­¥ <code>provide()</code>å’Œ <code>inject()</code> ä¹‹é—´å€¼çš„ç±»å‹ã€‚ä¸æ³¨å†Œç”Ÿå‘½å‘¨æœŸé’©å­çš„ API ç±»ä¼¼ï¼Œ<code>provide()</code> å¿…é¡»åœ¨ç»„ä»¶çš„ <code>setup()</code> é˜¶æ®µåŒæ­¥è°ƒç”¨ã€‚</p><hr><h4 id="inject" tabindex="-1"><a class="header-anchor" href="#inject"><span>inject</span></a></h4><p>æ³¨å…¥ä¸€ä¸ªç”±ç¥–å…ˆç»„ä»¶æˆ–æ•´ä¸ªåº”ç”¨ (é€šè¿‡ <code>app.provide()</code>) æä¾›çš„å€¼ã€‚</p><ul><li>ç±»å‹</li></ul><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token comment">// æ²¡æœ‰é»˜è®¤å€¼</span>
<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">inject</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>key<span class="token operator">:</span> InjectionKey<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token operator">|</span> <span class="token keyword">undefined</span>

<span class="token comment">// å¸¦æœ‰é»˜è®¤å€¼</span>
<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">inject</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>key<span class="token operator">:</span> InjectionKey<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">,</span> defaultValue<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span>

<span class="token comment">// ä½¿ç”¨å·¥å‚å‡½æ•°</span>
<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">inject</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>
  key<span class="token operator">:</span> InjectionKey<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  <span class="token function-variable function">defaultValue</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">T</span><span class="token punctuation">,</span>
  treatDefaultAsFactory<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¯¦æƒ…</li></ul><ol><li>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ³¨å…¥çš„ keyã€‚Vue ä¼šéå†çˆ¶ç»„ä»¶é“¾ï¼Œé€šè¿‡åŒ¹é… key æ¥ç¡®å®šæ‰€æä¾›çš„å€¼ã€‚å¦‚æœçˆ¶ç»„ä»¶é“¾ä¸Šå¤šä¸ªç»„ä»¶å¯¹åŒä¸€ä¸ª key æä¾›äº†å€¼ï¼Œé‚£ä¹ˆç¦»å¾—æ›´è¿‘çš„ç»„ä»¶å°†ä¼šâ€œè¦†ç›–â€é“¾ä¸Šæ›´è¿œçš„ç»„ä»¶æ‰€æä¾›çš„å€¼ã€‚å¦‚æœæ²¡æœ‰èƒ½é€šè¿‡ key åŒ¹é…åˆ°å€¼ï¼Œ<code>inject()</code> å°†è¿”å› <code>undefined</code>ï¼Œé™¤éæä¾›äº†ä¸€ä¸ªé»˜è®¤å€¼ã€‚</li><li>ç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯é€‰çš„ï¼Œå³åœ¨æ²¡æœ‰åŒ¹é…åˆ° key æ—¶ä½¿ç”¨çš„é»˜è®¤å€¼ã€‚</li><li>ç¬¬äºŒä¸ªå‚æ•°ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå·¥å‚å‡½æ•°ï¼Œç”¨æ¥è¿”å›æŸäº›åˆ›å»ºèµ·æ¥æ¯”è¾ƒå¤æ‚çš„å€¼ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¿…é¡»å°† true ä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°ä¼ å…¥ï¼Œè¡¨æ˜è¿™ä¸ªå‡½æ•°å°†ä½œä¸ºå·¥å‚å‡½æ•°ä½¿ç”¨ï¼Œè€Œéå€¼æœ¬èº«ã€‚</li></ol><p>ä¸æ³¨å†Œç”Ÿå‘½å‘¨æœŸé’©å­çš„ API ç±»ä¼¼ï¼Œ<code>inject()</code>å¿…é¡»åœ¨ç»„ä»¶çš„ <code>setup()</code>é˜¶æ®µåŒæ­¥è°ƒç”¨ã€‚<br> å½“ä½¿ç”¨ TypeScript æ—¶ï¼Œkey å¯ä»¥æ˜¯ä¸€ä¸ªç±»å‹ä¸º <code>InjectionKey</code>çš„ symbolã€‚<code>InjectionKey</code>æ˜¯ä¸€ä¸ª Vue æä¾›çš„å·¥å…·ç±»å‹ï¼Œç»§æ‰¿è‡ª <code>Symbol</code>ï¼Œå¯ä»¥ç”¨æ¥åŒæ­¥ <code>provide()</code> å’Œ <code>inject()</code> ä¹‹é—´å€¼çš„ç±»å‹ã€‚</p><h4 id="ç¥–å­™é€šä¿¡" tabindex="-1"><a class="header-anchor" href="#ç¥–å­™é€šä¿¡"><span>ç¥–å­™é€šä¿¡</span></a></h4><ol><li>æ¦‚è¿°ï¼šå®ç°<strong>ç¥–å­™ç»„ä»¶</strong>ç›´æ¥é€šä¿¡</li><li>å…·ä½“ä½¿ç”¨ï¼š</li></ol><ul><li>åœ¨ç¥–å…ˆç»„ä»¶ä¸­é€šè¿‡<code>provide</code>é…ç½®å‘åä»£ç»„ä»¶æä¾›æ•°æ®</li><li>åœ¨åä»£ç»„ä»¶ä¸­é€šè¿‡<code>inject</code>é…ç½®æ¥å£°æ˜æ¥æ”¶æ•°æ®</li></ul><ol start="3"><li>å…·ä½“ç¼–ç ï¼š<br> ã€ç¬¬ä¸€æ­¥ã€‘çˆ¶ç»„ä»¶ä¸­ï¼Œä½¿ç”¨<code>provide</code>æä¾›æ•°æ®</li></ol><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>father<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>çˆ¶ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>èµ„äº§ï¼š{{ money }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>æ±½è½¦ï¼š{{ car }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>money += 1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>èµ„äº§+1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>car.price += 1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ±½è½¦ä»·æ ¼+1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Father<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> Child <span class="token keyword">from</span> <span class="token string">&#39;./Child.vue&#39;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span>reactive<span class="token punctuation">,</span>provide <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// æ•°æ®</span>
  <span class="token keyword">let</span> money <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> car <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">brand</span><span class="token operator">:</span><span class="token string">&#39;å¥”é©°&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">price</span><span class="token operator">:</span><span class="token number">100</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// ç”¨äºæ›´æ–°moneyçš„æ–¹æ³•</span>
  <span class="token keyword">function</span> <span class="token function">updateMoney</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">value</span><span class="token operator">:</span>number</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    money<span class="token punctuation">.</span>value <span class="token operator">+=</span> value
  <span class="token punctuation">}</span>
  <span class="token comment">// æä¾›æ•°æ®</span>
  <span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">&#39;moneyContext&#39;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>money<span class="token punctuation">,</span>updateMoney<span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">&#39;car&#39;</span><span class="token punctuation">,</span>car<span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ³¨æ„ï¼šå­ç»„ä»¶ä¸­ä¸ç”¨ç¼–å†™ä»»ä½•ä¸œè¥¿ï¼Œæ˜¯ä¸å—åˆ°ä»»ä½•æ‰“æ‰°çš„</p></blockquote><p>ã€ç¬¬äºŒæ­¥ã€‘å­™ç»„ä»¶ä¸­ä½¿ç”¨<code>inject</code>é…ç½®é¡¹æ¥å—æ•°æ®ã€‚</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>grand-child<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>æˆ‘æ˜¯å­™ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>èµ„äº§ï¼š{{ money }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>æ±½è½¦ï¼š{{ car }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>updateMoney(6)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç‚¹æˆ‘<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>GrandChild<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> inject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>
  <span class="token comment">// æ³¨å…¥æ•°æ®</span>
 <span class="token keyword">let</span> <span class="token punctuation">{</span>money<span class="token punctuation">,</span>updateMoney<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">&#39;moneyContext&#39;</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">money</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token function-variable function">updateMoney</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">x</span><span class="token operator">:</span>number</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> car <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">&#39;car&#39;</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="slot" tabindex="-1"><a class="header-anchor" href="#slot"><span>slot</span></a></h3><h4 id="é»˜è®¤æ’æ§½" tabindex="-1"><a class="header-anchor" href="#é»˜è®¤æ’æ§½"><span>é»˜è®¤æ’æ§½</span></a></h4><p>é»˜è®¤æ’æ§½æ²¡æœ‰åå­—ã€‚å½“ä¸€ä¸ªç»„ä»¶æ²¡æœ‰æŒ‡å®šæ’æ§½åç§°æ—¶ï¼Œä»»ä½•æœªè¢«åŒ…è£¹åœ¨ <code>&lt;template&gt;</code> æ ‡ç­¾ä¸­çš„å†…å®¹éƒ½ä¼šè¢«è§†ä¸ºé»˜è®¤æ’æ§½çš„å†…å®¹ã€‚</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> SubmitButton <span class="token keyword">from</span> <span class="token string">&#39;./SubmitButton.vue&#39;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- use fallback text --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SubmitButton</span> <span class="token punctuation">/&gt;</span></span>
  
  <span class="token comment">&lt;!-- provide custom text --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SubmitButton</span><span class="token punctuation">&gt;</span></span>Save<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SubmitButton</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span>
    	Submit <span class="token comment">&lt;!-- fallback content --&gt;</span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/vue/202406171501454.png" alt="æ•ˆæœ" tabindex="0" loading="lazy"><figcaption>æ•ˆæœ</figcaption></figure><h4 id="å…·åæ’æ§½" tabindex="-1"><a class="header-anchor" href="#å…·åæ’æ§½"><span>å…·åæ’æ§½</span></a></h4><p>å…·åæ’æ§½å…è®¸ä½ åˆ›å»ºå¤šä¸ªæ’æ§½ï¼Œæ¯ä¸ªéƒ½æœ‰ä¸åŒçš„åç§°ã€‚çˆ¶ç»„ä»¶å¯ä»¥æŒ‡å®šå®ƒæ’å…¥çš„å†…å®¹åº”è¯¥è¿›å…¥å“ªä¸ªæ’æ§½ã€‚å…¶å®é»˜è®¤æ’æ§½ä¹Ÿæœ‰åå­—ï¼Œå³default.</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> ChildComponent <span class="token keyword">from</span> <span class="token string">&quot;./ChildComponent.vue&quot;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ChildComponent</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>header</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>This is a header.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>This is some default slot content.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#footer</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>This is a footer.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ChildComponent</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- å…·åæ’æ§½ &quot;header&quot; --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- é»˜è®¤æ’æ§½ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>footer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- å…·åæ’æ§½ &quot;footer&quot; --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="åŠ¨æ€æ’æ§½å" tabindex="-1"><a class="header-anchor" href="#åŠ¨æ€æ’æ§½å"><span>åŠ¨æ€æ’æ§½å</span></a></h5><p><a href="https://cn.vuejs.org/guide/essentials/template-syntax.html#dynamic-arguments" target="_blank" rel="noopener noreferrer">åŠ¨æ€æŒ‡ä»¤å‚æ•°</a>åœ¨ v-slot ä¸Šä¹Ÿæ˜¯æœ‰æ•ˆçš„ï¼Œå³å¯ä»¥å®šä¹‰ä¸‹é¢è¿™æ ·çš„åŠ¨æ€æ’æ§½åï¼š</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>base-layout</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>[dynamicSlotName]</span><span class="token punctuation">&gt;</span></span>
    ...
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- ç¼©å†™ä¸º --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#[dynamicSlotName]</span><span class="token punctuation">&gt;</span></span>
    ...
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>base-layout</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ä½œç”¨åŸŸæ’æ§½" tabindex="-1"><a class="header-anchor" href="#ä½œç”¨åŸŸæ’æ§½"><span>ä½œç”¨åŸŸæ’æ§½</span></a></h4><p>æ¦‚å¿µï¼šä½œç”¨åŸŸæ’æ§½å…è®¸å­ç»„ä»¶å°†æ•°æ®ä¼ é€’å›çˆ¶ç»„ä»¶çš„æ’æ§½å†…å®¹ã€‚è¿™æ ·ï¼Œçˆ¶ç»„ä»¶å¯ä»¥æ ¹æ®ä»å­ç»„ä»¶æ¥æ”¶çš„æ•°æ®æ¥å®šåˆ¶å®ƒçš„æ’æ§½å†…å®¹ã€‚<br> ç†è§£ï¼šæ•°æ®åœ¨ç»„ä»¶çš„è‡ªèº«ï¼Œä½†æ ¹æ®æ•°æ®ç”Ÿæˆçš„ç»“æ„éœ€è¦ç»„ä»¶çš„ä½¿ç”¨è€…æ¥å†³å®šã€‚ï¼ˆæ–°é—»æ•°æ®åœ¨Newsç»„ä»¶ä¸­ï¼Œä½†ä½¿ç”¨æ•°æ®æ‰€éå†å‡ºæ¥çš„ç»“æ„ç”±Appç»„ä»¶å†³å®šï¼‰</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>father<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>çˆ¶ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Game</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>params<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>msg in params.youxi<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>msg.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              {{ msg.name }}
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Game</span><span class="token punctuation">&gt;</span></span>

      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Game</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>params<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ol</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in params.youxi<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              {{ item.name }}
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ol</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Game</span><span class="token punctuation">&gt;</span></span>

      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Game</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{youxi}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>	// è§£æ„
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>g in youxi<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>g.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ g.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Game</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Father<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> Game <span class="token keyword">from</span> <span class="token string">&#39;./Game.vue&#39;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>game<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>æ¸¸æˆåˆ—è¡¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">:youxi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>games<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Game<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span>reactive<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
  <span class="token keyword">let</span> games <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;è‹±é›„è”ç›Ÿ&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">&#39;2&#39;</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;ç‹è€…å†œè¯&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">&#39;3&#39;</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;çº¢è‰²è­¦æˆ’&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">&#39;4&#39;</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;æ–—ç½—å¤§é™†&#39;</span><span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="pinia" tabindex="-1"><a class="header-anchor" href="#pinia"><span>pinia</span></a></h2><h3 id="æ­å»ºç¯å¢ƒ" tabindex="-1"><a class="header-anchor" href="#æ­å»ºç¯å¢ƒ"><span>æ­å»ºç¯å¢ƒ</span></a></h3><ol><li>å®‰è£…ä¾èµ–<code>npm install pinia</code></li><li>æ“ä½œ<code>src/main.ts</code></li></ol><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span>

<span class="token comment">/* å¼•å…¥createPiniaï¼Œç”¨äºåˆ›å»ºpinia */</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createPinia <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span>

<span class="token comment">/* åˆ›å»ºpinia */</span>
<span class="token keyword">const</span> pinia <span class="token operator">=</span> <span class="token function">createPinia</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>

<span class="token comment">/* ä½¿ç”¨æ’ä»¶ */</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>pinia<span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>æŸ¥çœ‹æ•ˆæœ</li></ol><figure><img src="https://cdn.jsdelivr.net/gh/Okita1027/knowledge-database-images@main/web/vue/202406171501322.png" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><h3 id="å­˜å‚¨ã€è¯»å–æ•°æ®" tabindex="-1"><a class="header-anchor" href="#å­˜å‚¨ã€è¯»å–æ•°æ®"><span>å­˜å‚¨ã€è¯»å–æ•°æ®</span></a></h3><ol><li><code>Store</code>æ˜¯ä¸€ä¸ªä¿å­˜ <strong>çŠ¶æ€</strong>ã€<strong>ä¸šåŠ¡é€»è¾‘</strong> çš„å®ä½“ï¼Œæ¯ä¸ªç»„ä»¶éƒ½å¯ä»¥<strong>è¯»å–ã€å†™å…¥</strong>å®ƒã€‚</li><li>å®ƒæœ‰ä¸‰ä¸ªæ¦‚å¿µï¼š<code>state</code>ã€<code>getter</code>ã€<code>action</code>ï¼Œç›¸å½“äºç»„ä»¶ä¸­çš„ï¼š <code>data</code>ã€ <code>computed</code> å’Œ <code>methods</code>ã€‚</li><li>å…·ä½“ç¼–ç </li></ol><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token comment">// å¼•å…¥defineStoreç”¨äºåˆ›å»ºstore</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>defineStore<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span>

<span class="token comment">// å®šä¹‰å¹¶æš´éœ²ä¸€ä¸ªstoreï¼Œé’©å­å¼å‘½åuse???Store</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> useCountStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&#39;count&#39;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
  <span class="token comment">// åŠ¨ä½œ</span>
  actions<span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// çŠ¶æ€</span>
  <span class="token function">state</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      sum<span class="token operator">:</span><span class="token number">6</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// è®¡ç®—</span>
  getters<span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>ç»„ä»¶ä¸­ä½¿ç”¨<code>state</code>å±æ€§</li></ol><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>å½“å‰æ±‚å’Œä¸ºï¼š{{ sumStore.sum }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>	// å†™æ³•1
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>å½“å‰æ±‚å’Œä¸ºï¼š{{ sumStore.$state.sum }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>	// å†™æ³•2 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Count<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// å¼•å…¥å¯¹åº”çš„useXxxxxStore	</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span>useSumStore<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/store/sum&#39;</span>

  <span class="token comment">// è°ƒç”¨useXxxxxStoreå¾—åˆ°å¯¹åº”çš„store</span>
  <span class="token keyword">const</span> sumStore <span class="token operator">=</span> <span class="token function">useSumStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä¿®æ”¹å±æ€§" tabindex="-1"><a class="header-anchor" href="#ä¿®æ”¹å±æ€§"><span>ä¿®æ”¹å±æ€§</span></a></h3><ol><li>ç¬¬ä¸€ç§ä¿®æ”¹æ–¹å¼ï¼Œç›´æ¥ä¿®æ”¹</li></ol><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code>countStore<span class="token punctuation">.</span>sum <span class="token operator">=</span> <span class="token number">666</span>
countSotre<span class="token punctuation">.</span>$state<span class="token punctuation">.</span>sum <span class="token operator">=</span> <span class="token number">667</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>ç¬¬äºŒç§ä¿®æ”¹æ–¹å¼ï¼šæ‰¹é‡ä¿®æ”¹</li></ol><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code>countStore<span class="token punctuation">.</span><span class="token function">$patch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  sum<span class="token operator">:</span> <span class="token number">999</span><span class="token punctuation">,</span>
  school<span class="token operator">:</span> <span class="token string">&#39;atguigu&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>ç¬¬ä¸‰ç§ä¿®æ”¹æ–¹å¼ï¼šå€ŸåŠ©<code>action</code>ä¿®æ”¹ï¼ˆ<code>action</code>ä¸­å¯ä»¥ç¼–å†™ä¸€äº›ä¸šåŠ¡é€»è¾‘ï¼‰</li></ol><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> useCountStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&#39;count&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  actions<span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token function">increment</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>sum <span class="token operator">&lt;</span> <span class="token number">24</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>sum <span class="token operator">+=</span> value<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">decrement</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>sum <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>sum <span class="token operator">-=</span> value<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç»„ä»¶ä¸­è°ƒç”¨<code>action</code>å³å¯</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// ä½¿ç”¨countStore</span>
<span class="token keyword">const</span> countStore <span class="token operator">=</span> <span class="token function">useCountStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// è°ƒç”¨å¯¹åº”action</span>
<span class="token keyword">function</span> <span class="token function">minus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  count<span class="token punctuation">.</span><span class="token function">decrement</span><span class="token punctuation">(</span>num<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="storetorefs" tabindex="-1"><a class="header-anchor" href="#storetorefs"><span>storeToRefs</span></a></h3><ul><li>å€ŸåŠ©<code>storeToRefs</code>å°†<code>store</code>ä¸­çš„æ•°æ®è½¬ä¸º<code>ref</code>å¯¹è±¡ï¼Œæ–¹ä¾¿åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ã€‚</li></ul><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>å½“å‰æ±‚å’Œä¸ºï¼š{{sum}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Count<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> useCountStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/store/count&#39;</span>
  <span class="token comment">/* å¼•å…¥storeToRefs */</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> storeToRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span>

	<span class="token comment">/* å¾—åˆ°countStore */</span>
  <span class="token keyword">const</span> countStore <span class="token operator">=</span> <span class="token function">useCountStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">/* ä½¿ç”¨storeToRefsè½¬æ¢countStoreï¼Œéšåè§£æ„ */</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span>sum<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">storeToRefs</span><span class="token punctuation">(</span>countStore<span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="torefs" tabindex="-1"><a class="header-anchor" href="#torefs"><span>toRefs</span></a></h4><p><code>toRefs</code> å‡½æ•°æ¥è‡ª Vue çš„å“åº”å¼ç³»ç»Ÿï¼Œå®ƒç”¨äºå°†ä¸€ä¸ªå“åº”å¼å¯¹è±¡è½¬æ¢ä¸ºä¸€ä¸ªæ™®é€šå¯¹è±¡ï¼Œå…¶ä¸­æ¯ä¸ªå±æ€§éƒ½æ˜¯ä¸€ä¸ªå“åº”å¼å¼•ç”¨ã€‚è¿™é€šå¸¸åœ¨ä½ æƒ³è¦å°†å“åº”å¼å¯¹è±¡çš„å±æ€§ä¼ é€’ç»™ç‹¬ç«‹çš„å“åº”å¼å±æ€§æ—¶ä½¿ç”¨ï¼Œä¿è¯å®ƒä»¬ä¿æŒå“åº”æ€§ã€‚<br> å½“ä½ è§£æ„å“åº”å¼å¯¹è±¡æ—¶ä¼šä¸¢å¤±å®ƒçš„å“åº”æ€§ï¼Œ<code>toRefs</code> å¯ä»¥å¸®åŠ©ä¿æŒå±æ€§çš„å“åº”æ€§ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> reactive<span class="token punctuation">,</span> toRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;Hello&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// è§£æ„ä¼šä¸¢å¤±å“åº”æ€§</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> count<span class="token punctuation">,</span> title <span class="token punctuation">}</span> <span class="token operator">=</span> state<span class="token punctuation">;</span>

<span class="token comment">// ä½¿ç”¨toRefsä¿æŒå“åº”æ€§</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> count<span class="token punctuation">,</span> title <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>toRefs</code> å…è®¸ä½ å°† <code>state</code> å¯¹è±¡çš„æ¯ä¸ªå±æ€§è½¬æ¢ä¸ºå¯ä»¥ç›´æ¥åœ¨ <code>setup</code> å‡½æ•°ä»¥å¤–å•ç‹¬ä½¿ç”¨çš„å“åº”å¼å¼•ç”¨ã€‚</p><h4 id="storetorefs-1" tabindex="-1"><a class="header-anchor" href="#storetorefs-1"><span>storeToRefs</span></a></h4><p><code>storeToRefs</code> æ˜¯ Pinia æä¾›çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºåœ¨ç»„ä»¶ä¸­ä½¿ç”¨ Pinia store æ—¶ä¿ç•™å“åº”æ€§ã€‚å®ƒç±»ä¼¼äº <code>toRefs</code>ï¼Œä½†ä¸“é—¨ä¸º Pinia store è®¾è®¡ã€‚å½“ä½ åœ¨ç»„ä»¶ä¸­ä½¿ç”¨è§£æ„æ¥è·å– Pinia store ä¸­çš„çŠ¶æ€æ—¶ï¼Œ<code>storeToRefs</code> ç¡®ä¿æ¯ä¸ªè§£æ„å‡ºçš„çŠ¶æ€éƒ½æ˜¯å“åº”å¼çš„ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useMyStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/stores/myStore&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> storeToRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> myStore <span class="token operator">=</span> <span class="token function">useMyStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> count<span class="token punctuation">,</span> title <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">storeToRefs</span><span class="token punctuation">(</span>myStore<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>storeToRefs</code> ç”¨äºä» Pinia store ä¸­è·å–å“åº”å¼çš„ <code>count</code> å’Œ <code>title</code>ã€‚è¿™æ ·ï¼Œå½“ <code>count</code> å’Œ <code>title</code> åœ¨ store ä¸­æ›´æ–°æ—¶ï¼Œå®ƒä»¬åœ¨ç»„ä»¶ä¸­çš„å¼•ç”¨ä¹Ÿä¼šæ›´æ–°ã€‚<br> æ€»çš„æ¥è¯´ï¼Œ<code>toRefs</code> ç”¨äº Vue çš„å“åº”å¼å¯¹è±¡ï¼Œè€Œ <code>storeToRefs</code> ä¸“é—¨ç”¨äº Pinia storeã€‚äºŒè€…éƒ½ç”¨äºåˆ›å»ºå“åº”å¼å¼•ç”¨ï¼Œä½†å®ƒä»¬çš„åº”ç”¨åœºæ™¯å’Œæ‰€å¤„ç†çš„å¯¹è±¡ç±»å‹ä¸åŒã€‚ä½¿ç”¨æ—¶åº”æ ¹æ®ä½ çš„å…·ä½“åœºæ™¯å’ŒçŠ¶æ€ç®¡ç†çš„é€‰æ‹©æ¥å†³å®šä½¿ç”¨å“ªä¸€ä¸ªã€‚</p><h3 id="getters" tabindex="-1"><a class="header-anchor" href="#getters"><span>getters</span></a></h3><ol><li>æ¦‚å¿µï¼šå½“<code>state</code>ä¸­çš„æ•°æ®ï¼Œéœ€è¦ç»è¿‡å¤„ç†åå†ä½¿ç”¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨<code>getters</code>é…ç½®ã€‚</li><li>è¿½åŠ <code>getters</code>é…ç½®ã€‚</li></ol><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token comment">// å¼•å…¥defineStoreç”¨äºåˆ›å»ºstore</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>defineStore<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pinia&#39;</span>

<span class="token comment">// å®šä¹‰å¹¶æš´éœ²ä¸€ä¸ªstore</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> useCountStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&#39;count&#39;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
  <span class="token comment">// åŠ¨ä½œ</span>
  actions<span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token doc-comment comment">/************/</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// çŠ¶æ€</span>
  <span class="token function">state</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      sum<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
      school<span class="token operator">:</span><span class="token string">&#39;atguigu&#39;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// è®¡ç®—</span>
  getters<span class="token operator">:</span><span class="token punctuation">{</span>
    bigSum<span class="token operator">:</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">number</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>sum <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token function">upperSchool</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span> school<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>ç»„ä»¶ä¸­è¯»å–æ•°æ®</li></ol><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> <span class="token punctuation">{</span>sum<span class="token punctuation">,</span>school<span class="token punctuation">,</span>bigSum<span class="token punctuation">,</span>upperSchool<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">storeToRefs</span><span class="token punctuation">(</span>countStore<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="subscribe" tabindex="-1"><a class="header-anchor" href="#subscribe"><span>$subscribe</span></a></h3><h4 id="åŸºæœ¬è¯­æ³•" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬è¯­æ³•"><span>åŸºæœ¬è¯­æ³•</span></a></h4><p>é€šè¿‡ store çš„ <code>$subscribe()</code> æ–¹æ³•ä¾¦å¬ <code>state</code> åŠå…¶å˜åŒ–</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code>multiDataStore<span class="token punctuation">.</span><span class="token function">$subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span>mutation<span class="token punctuation">,</span> state<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;mutation-&gt;&#39;</span><span class="token punctuation">,</span> mutation<span class="token punctuation">)</span> <span class="token comment">// æœ¬æ¬¡ä¿®æ”¹çš„ä¿¡æ¯</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;state-&gt;&#39;</span><span class="token punctuation">,</span> state<span class="token punctuation">)</span> <span class="token comment">// çœŸæ­£çš„æ•°æ®</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="localstorageæ¡ˆä¾‹-ç»„åˆå¼" tabindex="-1"><a class="header-anchor" href="#localstorageæ¡ˆä¾‹-ç»„åˆå¼"><span>localstorageæ¡ˆä¾‹ï¼ˆç»„åˆå¼ï¼‰</span></a></h4><p>localstorageæ˜¯å­˜å‚¨åœ¨æœ¬åœ°çš„æ•°æ®ï¼Œå³ä½¿å…³é—­æµè§ˆå™¨ï¼Œä¸‹æ¬¡æ‰“å¼€æ•°æ®ä¾ç„¶å­˜åœ¨ã€‚</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span>useMultiDataStore<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/store/MultiData.ts&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>storeToRefs<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;pinia&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> multiDataStore <span class="token operator">=</span> <span class="token function">useMultiDataStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span>multiData<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">storeToRefs</span><span class="token punctuation">(</span>multiDataStore<span class="token punctuation">)</span>

multiDataStore<span class="token punctuation">.</span><span class="token function">$subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">mutation<span class="token punctuation">,</span> state</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;mutation=&gt;&#39;</span><span class="token punctuation">,</span> mutation<span class="token punctuation">)</span> <span class="token comment">// æœ¬æ¬¡ä¿®æ”¹çš„ä¿¡æ¯</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;state=&gt;&#39;</span><span class="token punctuation">,</span> state<span class="token punctuation">)</span> <span class="token comment">// çœŸæ­£çš„æ•°æ®</span>
  <span class="token comment">// localStorage.setItem(&#39;multiData&#39;, JSON.stringify(multiData.value))</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">addData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  multiData<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">&#39;multiData&#39;</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>multiData<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>{{multiData}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>addData<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>addData<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>defineStore<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;pinia&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> useMultiDataStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&#39;multiData&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">state</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token comment">// multiData: [1,2,3]</span>
            multiData<span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&#39;multiData&#39;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="localstorageæ¡ˆä¾‹-é€‰é¡¹å¼" tabindex="-1"><a class="header-anchor" href="#localstorageæ¡ˆä¾‹-é€‰é¡¹å¼"><span>localstorageæ¡ˆä¾‹ï¼ˆé€‰é¡¹å¼ï¼‰</span></a></h4><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>defineStore<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;pinia&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>ref<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> useMultiDataStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&#39;multiData&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> multiData <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span>
            <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&#39;multiData&#39;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            multiData
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å¯¹æ¯”watch-watcheffect" tabindex="-1"><a class="header-anchor" href="#å¯¹æ¯”watch-watcheffect"><span>å¯¹æ¯”watch/watchEffect</span></a></h4><p><code>$subscribe</code>æ˜¯PiniaçŠ¶æ€ç®¡ç†åº“æä¾›çš„æ–¹æ³•ï¼Œç”¨äºè®¢é˜…çŠ¶æ€çš„å˜åŒ–ã€‚å®ƒå…è®¸ä½ åœ¨çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶æ‰§è¡Œè‡ªå®šä¹‰çš„å›è°ƒå‡½æ•°ã€‚$subscribeé€‚ç”¨äºåœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­ç›‘å¬çŠ¶æ€çš„å˜åŒ–ï¼Œå¹¶æ‰§è¡Œä¸€äº›é¢å¤–çš„é€»è¾‘ï¼Œä¾‹å¦‚è®°å½•æ—¥å¿—/è§¦å‘å‰¯ä½œç”¨ç­‰ã€‚<br> watchå’ŒwatchEffectæ˜¯Vueçš„å“åº”å¼ç³»ç»Ÿæä¾›çš„åŠŸèƒ½ï¼Œç”¨äºç›‘å¬ç‰¹å®šçš„æ•°æ®å˜åŒ–ã€‚</p><ul><li>watchç”¨äºç›‘å¬æŒ‡å®šçš„æ•°æ®æºï¼Œå¹¶åœ¨æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶æ‰§è¡Œå›è°ƒå‡½æ•°ã€‚ä½ å¯ä»¥æŒ‡å®šè¦ç›‘å¬çš„æ•°æ®ã€å›è°ƒå‡½æ•°ä»¥åŠå…¶ä»–é€‰é¡¹ï¼Œä¾‹å¦‚deepé€‰é¡¹æ¥æ·±åº¦ç›‘å¬å¯¹è±¡çš„å˜åŒ–ã€immediateé€‰é¡¹æ¥ç«‹å³æ‰§è¡Œå›è°ƒå‡½æ•°ç­‰ã€‚watchçš„ä½¿ç”¨åœºæ™¯åŒ…æ‹¬ç›‘å¬å•ä¸ªæ•°æ®çš„å˜åŒ–ã€è·Ÿè¸ªç‰¹å®šæ•°æ®çš„çŠ¶æ€ã€æ‰§è¡Œå¼‚æ­¥æ“ä½œç­‰ã€‚</li><li>watchEffectç”¨äºç›‘å¬å“åº”å¼æ•°æ®çš„å˜åŒ–ï¼Œå¹¶è‡ªåŠ¨è¿½è¸ªå…¶ä¾èµ–å…³ç³»ã€‚å®ƒä¼šç«‹å³æ‰§è¡Œä¼ å…¥çš„å›è°ƒå‡½æ•°ï¼Œå¹¶åœ¨å›è°ƒå‡½æ•°å†…éƒ¨è‡ªåŠ¨è¿½è¸ªä¾èµ–çš„æ•°æ®ã€‚å½“ä¾èµ–çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå›è°ƒå‡½æ•°ä¼šè¢«é‡æ–°æ‰§è¡Œã€‚watchEffectçš„ä½¿ç”¨åœºæ™¯åŒ…æ‹¬å¤„ç†å‰¯ä½œç”¨ã€è§¦å‘å¼‚æ­¥æ“ä½œã€è‡ªåŠ¨è¿½è¸ªå“åº”å¼æ•°æ®çš„å˜åŒ–ç­‰ã€‚</li></ul><p>æ€»ç»“</p><ul><li>$subscribeç”¨äºè®¢é˜…çŠ¶æ€çš„å˜åŒ–ï¼Œé€‚ç”¨äºæ•´ä¸ªåº”ç”¨ç¨‹åºçš„çŠ¶æ€ç®¡ç†ï¼Œå¯ä»¥æ‰§è¡Œè‡ªå®šä¹‰çš„å›è°ƒå‡½æ•°ã€‚</li><li>watchç”¨äºç›‘å¬æŒ‡å®šçš„æ•°æ®æºï¼Œæä¾›æ›´ç»†ç²’åº¦çš„æ§åˆ¶å’Œé€‰é¡¹ï¼Œé€‚ç”¨äºç›‘å¬å•ä¸ªæ•°æ®çš„å˜åŒ–ã€‚</li><li>watchEffectç”¨äºç›‘å¬å“åº”å¼æ•°æ®çš„å˜åŒ–ï¼Œå¹¶è‡ªåŠ¨è¿½è¸ªå…¶ä¾èµ–å…³ç³»ï¼Œé€‚ç”¨äºå¤„ç†å‰¯ä½œç”¨å’Œè‡ªåŠ¨è¿½è¸ªæ•°æ®çš„å˜åŒ–ã€‚</li></ul><p>åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œä½ å¯ä»¥æ ¹æ®å…·ä½“çš„éœ€æ±‚å’Œåœºæ™¯é€‰æ‹©é€‚åˆçš„æ–¹æ³•ã€‚å¦‚æœä½ éœ€è¦è®¢é˜…æ•´ä¸ªçŠ¶æ€çš„å˜åŒ–æˆ–æ‰§è¡Œä¸€äº›å…¨å±€çš„é€»è¾‘ï¼Œå¯ä»¥ä½¿ç”¨$subscribeã€‚å¦‚æœä½ åªå…³æ³¨æŸä¸ªç‰¹å®šæ•°æ®çš„å˜åŒ–ï¼Œå¹¶éœ€è¦æ›´å¤šçš„é€‰é¡¹å’Œæ§åˆ¶ï¼Œå¯ä»¥ä½¿ç”¨watchã€‚å¦‚æœä½ éœ€è¦å¤„ç†å‰¯ä½œç”¨æˆ–è‡ªåŠ¨è¿½è¸ªå“åº”å¼æ•°æ®çš„å˜åŒ–ï¼Œå¯ä»¥ä½¿ç”¨watchEffectã€‚</p></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="vp-link vp-external-link-icon vp-meta-label" href="https://github.com/Okita1027/knowledge-database/edit/main/web/Vue.md" rel="noopener noreferrer" target="_blank" aria-label="ç¼–è¾‘æ­¤é¡µ"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="vp-meta-label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="vp-meta-info" title="email: 96156298+Okita1027@users.noreply.github.com">Zhiyun Qin</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link vp-link prev" href="/knowledge-database/web/TypeScript.html" aria-label="TypeScript"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->TypeScript</div></a><!----></nav><!----><!----><!--]--></main><!--]--><!----></div><!--]--><!--]--><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/knowledge-database/assets/app-NwmlIrjp.js" defer></script>
  </body>
</html>
